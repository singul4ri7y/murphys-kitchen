var cM=Object.defineProperty;var uM=(e,t,n)=>t in e?cM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wt=(e,t,n)=>uM(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var sk={exports:{}},Cd={},ak={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),fM=Symbol.for("react.portal"),pM=Symbol.for("react.fragment"),hM=Symbol.for("react.strict_mode"),mM=Symbol.for("react.profiler"),gM=Symbol.for("react.provider"),vM=Symbol.for("react.context"),yM=Symbol.for("react.forward_ref"),wM=Symbol.for("react.suspense"),bM=Symbol.for("react.memo"),_M=Symbol.for("react.lazy"),qy=Symbol.iterator;function SM(e){return e===null||typeof e!="object"?null:(e=qy&&e[qy]||e["@@iterator"],typeof e=="function"?e:null)}var lk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ck=Object.assign,uk={};function Ls(e,t,n){this.props=e,this.context=t,this.refs=uk,this.updater=n||lk}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dk(){}dk.prototype=Ls.prototype;function xg(e,t,n){this.props=e,this.context=t,this.refs=uk,this.updater=n||lk}var Tg=xg.prototype=new dk;Tg.constructor=xg;ck(Tg,Ls.prototype);Tg.isPureReactComponent=!0;var Wy=Array.isArray,fk=Object.prototype.hasOwnProperty,Eg={current:null},pk={key:!0,ref:!0,__self:!0,__source:!0};function hk(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)fk.call(t,r)&&!pk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zl,type:e,key:o,ref:s,props:i,_owner:Eg.current}}function kM(e,t){return{$$typeof:zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cg(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl}function xM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hy=/\/+/g;function Ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xM(""+e.key):t.toString(36)}function Wc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case zl:case fM:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Ef(s,0):r,Wy(i)?(n="",e!=null&&(n=e.replace(Hy,"$&/")+"/"),Wc(i,t,n,"",function(c){return c})):i!=null&&(Cg(i)&&(i=kM(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Hy,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Wy(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Ef(o,a);s+=Wc(o,t,n,l,i)}else if(l=SM(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Ef(o,a++),s+=Wc(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ac(e,t,n){if(e==null)return e;var r=[],i=0;return Wc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function TM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Hc={transition:null},EM={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:Eg};function mk(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:ac,forEach:function(e,t,n){ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ac(e,function(){t++}),t},toArray:function(e){return ac(e,function(t){return t})||[]},only:function(e){if(!Cg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Ls;we.Fragment=pM;we.Profiler=mM;we.PureComponent=xg;we.StrictMode=hM;we.Suspense=wM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EM;we.act=mk;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ck({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Eg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)fk.call(t,l)&&!pk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zl,type:e.type,key:i,ref:o,props:r,_owner:s}};we.createContext=function(e){return e={$$typeof:vM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gM,_context:e},e.Consumer=e};we.createElement=hk;we.createFactory=function(e){var t=hk.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:yM,render:e}};we.isValidElement=Cg;we.lazy=function(e){return{$$typeof:_M,_payload:{_status:-1,_result:e},_init:TM}};we.memo=function(e,t){return{$$typeof:bM,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};we.unstable_act=mk;we.useCallback=function(e,t){return Ut.current.useCallback(e,t)};we.useContext=function(e){return Ut.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ut.current.useEffect(e,t)};we.useId=function(){return Ut.current.useId()};we.useImperativeHandle=function(e,t,n){return Ut.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ut.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Ut.current.useReducer(e,t,n)};we.useRef=function(e){return Ut.current.useRef(e)};we.useState=function(e){return Ut.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Ut.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Ut.current.useTransition()};we.version="18.3.1";ak.exports=we;var A=ak.exports;const xe=kg(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM=A,AM=Symbol.for("react.element"),PM=Symbol.for("react.fragment"),MM=Object.prototype.hasOwnProperty,OM=CM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IM={key:!0,ref:!0,__self:!0,__source:!0};function gk(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)MM.call(t,r)&&!IM.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:AM,type:e,key:o,ref:s,props:i,_owner:OM.current}}Cd.Fragment=PM;Cd.jsx=gk;Cd.jsxs=gk;sk.exports=Cd;var O=sk.exports,Gp={},vk={exports:{}},hn={},yk={exports:{}},wk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,q){var U=j.length;j.push(q);e:for(;0<U;){var Z=U-1>>>1,be=j[Z];if(0<i(be,q))j[Z]=q,j[U]=be,U=Z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],U=j.pop();if(U!==q){j[0]=U;e:for(var Z=0,be=j.length,_e=be>>>1;Z<_e;){var f=2*(Z+1)-1,w=j[f],y=f+1,M=j[y];if(0>i(w,U))y<be&&0>i(M,w)?(j[Z]=M,j[y]=U,Z=y):(j[Z]=w,j[f]=U,Z=f);else if(y<be&&0>i(M,U))j[Z]=M,j[y]=U,Z=y;else break e}}return q}function i(j,q){var U=j.sortIndex-q.sortIndex;return U!==0?U:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,p=3,h=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=j)r(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(c)}}function x(j){if(v=!1,_(j),!m)if(n(l)!==null)m=!0,me(k);else{var q=n(c);q!==null&&ie(x,q.startTime-j)}}function k(j,q){m=!1,v&&(v=!1,g(P),P=-1),h=!0;var U=p;try{for(_(q),d=n(l);d!==null&&(!(d.expirationTime>q)||j&&!H());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var be=Z(d.expirationTime<=q);q=e.unstable_now(),typeof be=="function"?d.callback=be:d===n(l)&&r(l),_(q)}else r(l);d=n(l)}if(d!==null)var _e=!0;else{var f=n(c);f!==null&&ie(x,f.startTime-q),_e=!1}return _e}finally{d=null,p=U,h=!1}}var T=!1,C=null,P=-1,I=5,N=-1;function H(){return!(e.unstable_now()-N<I)}function z(){if(C!==null){var j=e.unstable_now();N=j;var q=!0;try{q=C(!0,j)}finally{q?B():(T=!1,C=null)}}else T=!1}var B;if(typeof b=="function")B=function(){b(z)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ve=ne.port2;ne.port1.onmessage=z,B=function(){ve.postMessage(null)}}else B=function(){S(z,0)};function me(j){C=j,T||(T=!0,B())}function ie(j,q){P=S(function(){j(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,me(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var U=p;p=q;try{return j()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=p;p=j;try{return q()}finally{p=U}},e.unstable_scheduleCallback=function(j,q,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,j){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=U+be,j={id:u++,callback:q,priorityLevel:j,startTime:U,expirationTime:be,sortIndex:-1},U>Z?(j.sortIndex=U,t(c,j),n(l)===null&&j===n(c)&&(v?(g(P),P=-1):v=!0,ie(x,U-Z))):(j.sortIndex=be,t(l,j),m||h||(m=!0,me(k))),j},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(j){var q=p;return function(){var U=p;p=q;try{return j.apply(this,arguments)}finally{p=U}}}})(wk);yk.exports=wk;var RM=yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NM=A,un=RM;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,za={};function ko(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(za[e]=t,e=0;e<t.length;e++)bk.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zp=Object.prototype.hasOwnProperty,jM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ky={},Jy={};function DM(e){return Zp.call(Jy,e)?!0:Zp.call(Ky,e)?!1:jM.test(e)?Jy[e]=!0:(Ky[e]=!0,!1)}function LM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $M(e,t,n,r){if(t===null||typeof t>"u"||LM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ag=/[\-:]([a-z])/g;function Pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ag,Pg);St[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ag,Pg);St[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ag,Pg);St[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mg(e,t,n,r){var i=St.hasOwnProperty(t)?St[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($M(t,n,i,r)&&(n=null),r||i===null?DM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qr=NM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),No=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Yp=Symbol.for("react.profiler"),_k=Symbol.for("react.provider"),Sk=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Qp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),Rg=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),kk=Symbol.for("react.offscreen"),Gy=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=Gy&&e[Gy]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Cf;function fa(e){if(Cf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cf=t&&t[1]||""}return`
`+Cf+e}var Af=!1;function Pf(e,t){if(!e||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fa(e):""}function FM(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=Pf(e.type,!1),e;case 11:return e=Pf(e.type.render,!1),e;case 1:return e=Pf(e.type,!0),e;default:return""}}function eh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jo:return"Fragment";case No:return"Portal";case Yp:return"Profiler";case Og:return"StrictMode";case Qp:return"Suspense";case Xp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sk:return(e.displayName||"Context")+".Consumer";case _k:return(e._context.displayName||"Context")+".Provider";case Ig:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rg:return t=e.displayName||null,t!==null?t:eh(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return eh(e(t))}catch{}}return null}function VM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eh(t);case 8:return t===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zM(e){var t=xk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=zM(e))}function Tk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function th(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ek(e,t){t=t.checked,t!=null&&Mg(e,"checked",t,!1)}function nh(e,t){Ek(e,t);var n=vi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rh(e,t.type,n):t.hasOwnProperty("defaultValue")&&rh(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rh(e,t,n){(t!=="number"||gu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pa=Array.isArray;function Xo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ih(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(pa(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vi(n)}}function Ck(e,t){var n=vi(t.value),r=vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ak(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ak(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uc,Pk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BM=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(e){BM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ka[t]=ka[e]})});function Mk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ka.hasOwnProperty(e)&&ka[e]?(""+t).trim():t+"px"}function Ok(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var UM=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(e,t){if(t){if(UM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function ah(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Ng(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ch=null,es=null,ts=null;function e0(e){if(e=ql(e)){if(typeof ch!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Id(t),ch(e.stateNode,e.type,t))}}function Ik(e){es?ts?ts.push(e):ts=[e]:es=e}function Rk(){if(es){var e=es,t=ts;if(ts=es=null,e0(e),t)for(e=0;e<t.length;e++)e0(t[e])}}function Nk(e,t){return e(t)}function jk(){}var Mf=!1;function Dk(e,t,n){if(Mf)return e(t,n);Mf=!0;try{return Nk(e,t,n)}finally{Mf=!1,(es!==null||ts!==null)&&(jk(),Rk())}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var uh=!1;if(jr)try{var Js={};Object.defineProperty(Js,"passive",{get:function(){uh=!0}}),window.addEventListener("test",Js,Js),window.removeEventListener("test",Js,Js)}catch{uh=!1}function qM(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var xa=!1,vu=null,yu=!1,dh=null,WM={onError:function(e){xa=!0,vu=e}};function HM(e,t,n,r,i,o,s,a,l){xa=!1,vu=null,qM.apply(WM,arguments)}function KM(e,t,n,r,i,o,s,a,l){if(HM.apply(this,arguments),xa){if(xa){var c=vu;xa=!1,vu=null}else throw Error(F(198));yu||(yu=!0,dh=c)}}function xo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Lk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function t0(e){if(xo(e)!==e)throw Error(F(188))}function JM(e){var t=e.alternate;if(!t){if(t=xo(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return t0(i),e;if(o===r)return t0(i),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function $k(e){return e=JM(e),e!==null?Fk(e):null}function Fk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fk(e);if(t!==null)return t;e=e.sibling}return null}var Vk=un.unstable_scheduleCallback,n0=un.unstable_cancelCallback,GM=un.unstable_shouldYield,ZM=un.unstable_requestPaint,it=un.unstable_now,YM=un.unstable_getCurrentPriorityLevel,jg=un.unstable_ImmediatePriority,zk=un.unstable_UserBlockingPriority,wu=un.unstable_NormalPriority,QM=un.unstable_LowPriority,Bk=un.unstable_IdlePriority,Ad=null,fr=null;function XM(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ad,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:nO,eO=Math.log,tO=Math.LN2;function nO(e){return e>>>=0,e===0?32:31-(eO(e)/tO|0)|0}var dc=64,fc=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ha(a):(o&=s,o!==0&&(r=ha(o)))}else s=n&~i,s!==0?r=ha(s):o!==0&&(r=ha(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),i=1<<n,r|=e[n],t&=~i;return r}function rO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Wn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=rO(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function fh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Uk(){var e=dc;return dc<<=1,!(dc&4194240)&&(dc=64),e}function Of(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function oO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Dg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function qk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wk,Lg,Hk,Kk,Jk,ph=!1,pc=[],ai=null,li=null,ci=null,qa=new Map,Wa=new Map,ri=[],sO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r0(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function Gs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ql(t),t!==null&&Lg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function aO(e,t,n,r,i){switch(t){case"focusin":return ai=Gs(ai,e,t,n,r,i),!0;case"dragenter":return li=Gs(li,e,t,n,r,i),!0;case"mouseover":return ci=Gs(ci,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return qa.set(o,Gs(qa.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wa.set(o,Gs(Wa.get(o)||null,e,t,n,r,i)),!0}return!1}function Gk(e){var t=Wi(e.target);if(t!==null){var n=xo(t);if(n!==null){if(t=n.tag,t===13){if(t=Lk(n),t!==null){e.blockedOn=t,Jk(e.priority,function(){Hk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lh=r,n.target.dispatchEvent(r),lh=null}else return t=ql(n),t!==null&&Lg(t),e.blockedOn=n,!1;t.shift()}return!0}function i0(e,t,n){Kc(e)&&n.delete(t)}function lO(){ph=!1,ai!==null&&Kc(ai)&&(ai=null),li!==null&&Kc(li)&&(li=null),ci!==null&&Kc(ci)&&(ci=null),qa.forEach(i0),Wa.forEach(i0)}function Zs(e,t){e.blockedOn===t&&(e.blockedOn=null,ph||(ph=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,lO)))}function Ha(e){function t(i){return Zs(i,e)}if(0<pc.length){Zs(pc[0],e);for(var n=1;n<pc.length;n++){var r=pc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ai!==null&&Zs(ai,e),li!==null&&Zs(li,e),ci!==null&&Zs(ci,e),qa.forEach(t),Wa.forEach(t),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)Gk(n),n.blockedOn===null&&ri.shift()}var ns=qr.ReactCurrentBatchConfig,_u=!0;function cO(e,t,n,r){var i=Ie,o=ns.transition;ns.transition=null;try{Ie=1,$g(e,t,n,r)}finally{Ie=i,ns.transition=o}}function uO(e,t,n,r){var i=Ie,o=ns.transition;ns.transition=null;try{Ie=4,$g(e,t,n,r)}finally{Ie=i,ns.transition=o}}function $g(e,t,n,r){if(_u){var i=hh(e,t,n,r);if(i===null)zf(e,t,r,Su,n),r0(e,r);else if(aO(i,e,t,n,r))r.stopPropagation();else if(r0(e,r),t&4&&-1<sO.indexOf(e)){for(;i!==null;){var o=ql(i);if(o!==null&&Wk(o),o=hh(e,t,n,r),o===null&&zf(e,t,r,Su,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else zf(e,t,r,null,n)}}var Su=null;function hh(e,t,n,r){if(Su=null,e=Ng(r),e=Wi(e),e!==null)if(t=xo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Lk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Su=e,null}function Zk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YM()){case jg:return 1;case zk:return 4;case wu:case QM:return 16;case Bk:return 536870912;default:return 16}default:return 16}}var oi=null,Fg=null,Jc=null;function Yk(){if(Jc)return Jc;var e,t=Fg,n=t.length,r,i="value"in oi?oi.value:oi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Jc=i.slice(e,1<r?1-r:void 0)}function Gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hc(){return!0}function o0(){return!1}function mn(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hc:o0,this.isPropagationStopped=o0,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vg=mn($s),Ul=Xe({},$s,{view:0,detail:0}),dO=mn(Ul),If,Rf,Ys,Pd=Xe({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ys&&(Ys&&e.type==="mousemove"?(If=e.screenX-Ys.screenX,Rf=e.screenY-Ys.screenY):Rf=If=0,Ys=e),If)},movementY:function(e){return"movementY"in e?e.movementY:Rf}}),s0=mn(Pd),fO=Xe({},Pd,{dataTransfer:0}),pO=mn(fO),hO=Xe({},Ul,{relatedTarget:0}),Nf=mn(hO),mO=Xe({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),gO=mn(mO),vO=Xe({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yO=mn(vO),wO=Xe({},$s,{data:0}),a0=mn(wO),bO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SO[e])?!!t[e]:!1}function zg(){return kO}var xO=Xe({},Ul,{key:function(e){if(e.key){var t=bO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_O[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(e){return e.type==="keypress"?Gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TO=mn(xO),EO=Xe({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=mn(EO),CO=Xe({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),AO=mn(CO),PO=Xe({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),MO=mn(PO),OO=Xe({},Pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),IO=mn(OO),RO=[9,13,27,32],Bg=jr&&"CompositionEvent"in window,Ta=null;jr&&"documentMode"in document&&(Ta=document.documentMode);var NO=jr&&"TextEvent"in window&&!Ta,Qk=jr&&(!Bg||Ta&&8<Ta&&11>=Ta),c0=" ",u0=!1;function Xk(e,t){switch(e){case"keyup":return RO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Do=!1;function jO(e,t){switch(e){case"compositionend":return e1(t);case"keypress":return t.which!==32?null:(u0=!0,c0);case"textInput":return e=t.data,e===c0&&u0?null:e;default:return null}}function DO(e,t){if(Do)return e==="compositionend"||!Bg&&Xk(e,t)?(e=Yk(),Jc=Fg=oi=null,Do=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qk&&t.locale!=="ko"?null:t.data;default:return null}}var LO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LO[e.type]:t==="textarea"}function t1(e,t,n,r){Ik(r),t=ku(t,"onChange"),0<t.length&&(n=new Vg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ea=null,Ka=null;function $O(e){f1(e,0)}function Md(e){var t=Fo(e);if(Tk(t))return e}function FO(e,t){if(e==="change")return t}var n1=!1;if(jr){var jf;if(jr){var Df="oninput"in document;if(!Df){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),Df=typeof f0.oninput=="function"}jf=Df}else jf=!1;n1=jf&&(!document.documentMode||9<document.documentMode)}function p0(){Ea&&(Ea.detachEvent("onpropertychange",r1),Ka=Ea=null)}function r1(e){if(e.propertyName==="value"&&Md(Ka)){var t=[];t1(t,Ka,e,Ng(e)),Dk($O,t)}}function VO(e,t,n){e==="focusin"?(p0(),Ea=t,Ka=n,Ea.attachEvent("onpropertychange",r1)):e==="focusout"&&p0()}function zO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Md(Ka)}function BO(e,t){if(e==="click")return Md(t)}function UO(e,t){if(e==="input"||e==="change")return Md(t)}function qO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:qO;function Ja(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zp.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function h0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function m0(e,t){var n=h0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h0(n)}}function i1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o1(){for(var e=window,t=gu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gu(e.document)}return t}function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function WO(e){var t=o1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&i1(n.ownerDocument.documentElement,n)){if(r!==null&&Ug(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=m0(n,o);var s=m0(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HO=jr&&"documentMode"in document&&11>=document.documentMode,Lo=null,mh=null,Ca=null,gh=!1;function g0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gh||Lo==null||Lo!==gu(r)||(r=Lo,"selectionStart"in r&&Ug(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Ja(Ca,r)||(Ca=r,r=ku(mh,"onSelect"),0<r.length&&(t=new Vg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lo)))}function mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $o={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Lf={},s1={};jr&&(s1=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Od(e){if(Lf[e])return Lf[e];if(!$o[e])return e;var t=$o[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s1)return Lf[e]=t[n];return e}var a1=Od("animationend"),l1=Od("animationiteration"),c1=Od("animationstart"),u1=Od("transitionend"),d1=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){d1.set(e,t),ko(t,[e])}for(var $f=0;$f<v0.length;$f++){var Ff=v0[$f],KO=Ff.toLowerCase(),JO=Ff[0].toUpperCase()+Ff.slice(1);Ei(KO,"on"+JO)}Ei(a1,"onAnimationEnd");Ei(l1,"onAnimationIteration");Ei(c1,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(u1,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function y0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KM(r,t,void 0,e),e.currentTarget=null}function f1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;y0(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;y0(i,a,c),o=l}}}if(yu)throw e=dh,yu=!1,dh=null,e}function Ue(e,t){var n=t[_h];n===void 0&&(n=t[_h]=new Set);var r=e+"__bubble";n.has(r)||(p1(t,e,2,!1),n.add(r))}function Vf(e,t,n){var r=0;t&&(r|=4),p1(n,e,r,t)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ga(e){if(!e[gc]){e[gc]=!0,bk.forEach(function(n){n!=="selectionchange"&&(GO.has(n)||Vf(n,!1,e),Vf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gc]||(t[gc]=!0,Vf("selectionchange",!1,t))}}function p1(e,t,n,r){switch(Zk(t)){case 1:var i=cO;break;case 4:i=uO;break;default:i=$g}n=i.bind(null,t,n,e),i=void 0,!uh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Wi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Dk(function(){var c=o,u=Ng(n),d=[];e:{var p=d1.get(e);if(p!==void 0){var h=Vg,m=e;switch(e){case"keypress":if(Gc(n)===0)break e;case"keydown":case"keyup":h=TO;break;case"focusin":m="focus",h=Nf;break;case"focusout":m="blur",h=Nf;break;case"beforeblur":case"afterblur":h=Nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=s0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=pO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=AO;break;case a1:case l1:case c1:h=gO;break;case u1:h=MO;break;case"scroll":h=dO;break;case"wheel":h=IO;break;case"copy":case"cut":case"paste":h=yO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=l0}var v=(t&4)!==0,S=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var b=c,_;b!==null;){_=b;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=Ua(b,g),x!=null&&v.push(Za(b,x,_)))),S)break;b=b.return}0<v.length&&(p=new h(p,m,null,n,u),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==lh&&(m=n.relatedTarget||n.fromElement)&&(Wi(m)||m[Dr]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Wi(m):null,m!==null&&(S=xo(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(v=s0,x="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=l0,x="onPointerLeave",g="onPointerEnter",b="pointer"),S=h==null?p:Fo(h),_=m==null?p:Fo(m),p=new v(x,b+"leave",h,n,u),p.target=S,p.relatedTarget=_,x=null,Wi(u)===c&&(v=new v(g,b+"enter",m,n,u),v.target=_,v.relatedTarget=S,x=v),S=x,h&&m)t:{for(v=h,g=m,b=0,_=v;_;_=Eo(_))b++;for(_=0,x=g;x;x=Eo(x))_++;for(;0<b-_;)v=Eo(v),b--;for(;0<_-b;)g=Eo(g),_--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Eo(v),g=Eo(g)}v=null}else v=null;h!==null&&w0(d,p,h,v,!1),m!==null&&S!==null&&w0(d,S,m,v,!0)}}e:{if(p=c?Fo(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var k=FO;else if(d0(p))if(n1)k=UO;else{k=zO;var T=VO}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=BO);if(k&&(k=k(e,c))){t1(d,k,n,u);break e}T&&T(e,p,c),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&rh(p,"number",p.value)}switch(T=c?Fo(c):window,e){case"focusin":(d0(T)||T.contentEditable==="true")&&(Lo=T,mh=c,Ca=null);break;case"focusout":Ca=mh=Lo=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,g0(d,n,u);break;case"selectionchange":if(HO)break;case"keydown":case"keyup":g0(d,n,u)}var C;if(Bg)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Do?Xk(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Qk&&n.locale!=="ko"&&(Do||P!=="onCompositionStart"?P==="onCompositionEnd"&&Do&&(C=Yk()):(oi=u,Fg="value"in oi?oi.value:oi.textContent,Do=!0)),T=ku(c,P),0<T.length&&(P=new a0(P,e,null,n,u),d.push({event:P,listeners:T}),C?P.data=C:(C=e1(n),C!==null&&(P.data=C)))),(C=NO?jO(e,n):DO(e,n))&&(c=ku(c,"onBeforeInput"),0<c.length&&(u=new a0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}f1(d,t)})}function Za(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ku(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ua(e,n),o!=null&&r.unshift(Za(e,o,i)),o=Ua(e,t),o!=null&&r.push(Za(e,o,i))),e=e.return}return r}function Eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w0(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ua(n,o),l!=null&&s.unshift(Za(n,l,a))):i||(l=Ua(n,o),l!=null&&s.push(Za(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ZO=/\r\n?/g,YO=/\u0000|\uFFFD/g;function b0(e){return(typeof e=="string"?e:""+e).replace(ZO,`
`).replace(YO,"")}function vc(e,t,n){if(t=b0(t),b0(e)!==t&&n)throw Error(F(425))}function xu(){}var vh=null,yh=null;function wh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bh=typeof setTimeout=="function"?setTimeout:void 0,QO=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,XO=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(e){return _0.resolve(null).then(e).catch(eI)}:bh;function eI(e){setTimeout(function(){throw e})}function Bf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ha(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function S0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fs=Math.random().toString(36).slice(2),dr="__reactFiber$"+Fs,Ya="__reactProps$"+Fs,Dr="__reactContainer$"+Fs,_h="__reactEvents$"+Fs,tI="__reactListeners$"+Fs,nI="__reactHandles$"+Fs;function Wi(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dr]||n[dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=S0(e);e!==null;){if(n=e[dr])return n;e=S0(e)}return t}e=n,n=e.parentNode}return null}function ql(e){return e=e[dr]||e[Dr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Id(e){return e[Ya]||null}var Sh=[],Vo=-1;function Ci(e){return{current:e}}function qe(e){0>Vo||(e.current=Sh[Vo],Sh[Vo]=null,Vo--)}function $e(e,t){Vo++,Sh[Vo]=e.current,e.current=t}var yi={},Rt=Ci(yi),Zt=Ci(!1),so=yi;function ds(e,t){var n=e.type.contextTypes;if(!n)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(e){return e=e.childContextTypes,e!=null}function Tu(){qe(Zt),qe(Rt)}function k0(e,t,n){if(Rt.current!==yi)throw Error(F(168));$e(Rt,t),$e(Zt,n)}function h1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,VM(e)||"Unknown",i));return Xe({},n,r)}function Eu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,so=Rt.current,$e(Rt,e),$e(Zt,Zt.current),!0}function x0(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=h1(e,t,so),r.__reactInternalMemoizedMergedChildContext=e,qe(Zt),qe(Rt),$e(Rt,e)):qe(Zt),$e(Zt,n)}var xr=null,Rd=!1,Uf=!1;function m1(e){xr===null?xr=[e]:xr.push(e)}function rI(e){Rd=!0,m1(e)}function Ai(){if(!Uf&&xr!==null){Uf=!0;var e=0,t=Ie;try{var n=xr;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xr=null,Rd=!1}catch(i){throw xr!==null&&(xr=xr.slice(e+1)),Vk(jg,Ai),i}finally{Ie=t,Uf=!1}}return null}var zo=[],Bo=0,Cu=null,Au=0,_n=[],Sn=0,ao=null,Cr=1,Ar="";function Li(e,t){zo[Bo++]=Au,zo[Bo++]=Cu,Cu=e,Au=t}function g1(e,t,n){_n[Sn++]=Cr,_n[Sn++]=Ar,_n[Sn++]=ao,ao=e;var r=Cr;e=Ar;var i=32-Wn(r)-1;r&=~(1<<i),n+=1;var o=32-Wn(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cr=1<<32-Wn(t)+i|n<<i|r,Ar=o+e}else Cr=1<<o|n<<i|r,Ar=e}function qg(e){e.return!==null&&(Li(e,1),g1(e,1,0))}function Wg(e){for(;e===Cu;)Cu=zo[--Bo],zo[Bo]=null,Au=zo[--Bo],zo[Bo]=null;for(;e===ao;)ao=_n[--Sn],_n[Sn]=null,Ar=_n[--Sn],_n[Sn]=null,Cr=_n[--Sn],_n[Sn]=null}var ln=null,sn=null,Ke=!1,Bn=null;function v1(e,t){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function T0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,sn=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,sn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ao!==null?{id:Cr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ln=e,sn=null,!0):!1;default:return!1}}function kh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xh(e){if(Ke){var t=sn;if(t){var n=t;if(!T0(e,t)){if(kh(e))throw Error(F(418));t=ui(n.nextSibling);var r=ln;t&&T0(e,t)?v1(r,n):(e.flags=e.flags&-4097|2,Ke=!1,ln=e)}}else{if(kh(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ke=!1,ln=e}}}function E0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function yc(e){if(e!==ln)return!1;if(!Ke)return E0(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wh(e.type,e.memoizedProps)),t&&(t=sn)){if(kh(e))throw y1(),Error(F(418));for(;t;)v1(e,t),t=ui(t.nextSibling)}if(E0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){sn=ui(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}sn=null}}else sn=ln?ui(e.stateNode.nextSibling):null;return!0}function y1(){for(var e=sn;e;)e=ui(e.nextSibling)}function fs(){sn=ln=null,Ke=!1}function Hg(e){Bn===null?Bn=[e]:Bn.push(e)}var iI=qr.ReactCurrentBatchConfig;function Qs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function wc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C0(e){var t=e._init;return t(e._payload)}function w1(e){function t(g,b){if(e){var _=g.deletions;_===null?(g.deletions=[b],g.flags|=16):_.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=hi(g,b),g.index=0,g.sibling=null,g}function o(g,b,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<b?(g.flags|=2,b):_):(g.flags|=2,b)):(g.flags|=1048576,b)}function s(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,b,_,x){return b===null||b.tag!==6?(b=Zf(_,g.mode,x),b.return=g,b):(b=i(b,_),b.return=g,b)}function l(g,b,_,x){var k=_.type;return k===jo?u(g,b,_.props.children,x,_.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xr&&C0(k)===b.type)?(x=i(b,_.props),x.ref=Qs(g,b,_),x.return=g,x):(x=nu(_.type,_.key,_.props,null,g.mode,x),x.ref=Qs(g,b,_),x.return=g,x)}function c(g,b,_,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Yf(_,g.mode,x),b.return=g,b):(b=i(b,_.children||[]),b.return=g,b)}function u(g,b,_,x,k){return b===null||b.tag!==7?(b=no(_,g.mode,x,k),b.return=g,b):(b=i(b,_),b.return=g,b)}function d(g,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zf(""+b,g.mode,_),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:return _=nu(b.type,b.key,b.props,null,g.mode,_),_.ref=Qs(g,null,b),_.return=g,_;case No:return b=Yf(b,g.mode,_),b.return=g,b;case Xr:var x=b._init;return d(g,x(b._payload),_)}if(pa(b)||Ks(b))return b=no(b,g.mode,_,null),b.return=g,b;wc(g,b)}return null}function p(g,b,_,x){var k=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(g,b,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:return _.key===k?l(g,b,_,x):null;case No:return _.key===k?c(g,b,_,x):null;case Xr:return k=_._init,p(g,b,k(_._payload),x)}if(pa(_)||Ks(_))return k!==null?null:u(g,b,_,x,null);wc(g,_)}return null}function h(g,b,_,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(b,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lc:return g=g.get(x.key===null?_:x.key)||null,l(b,g,x,k);case No:return g=g.get(x.key===null?_:x.key)||null,c(b,g,x,k);case Xr:var T=x._init;return h(g,b,_,T(x._payload),k)}if(pa(x)||Ks(x))return g=g.get(_)||null,u(b,g,x,k,null);wc(b,x)}return null}function m(g,b,_,x){for(var k=null,T=null,C=b,P=b=0,I=null;C!==null&&P<_.length;P++){C.index>P?(I=C,C=null):I=C.sibling;var N=p(g,C,_[P],x);if(N===null){C===null&&(C=I);break}e&&C&&N.alternate===null&&t(g,C),b=o(N,b,P),T===null?k=N:T.sibling=N,T=N,C=I}if(P===_.length)return n(g,C),Ke&&Li(g,P),k;if(C===null){for(;P<_.length;P++)C=d(g,_[P],x),C!==null&&(b=o(C,b,P),T===null?k=C:T.sibling=C,T=C);return Ke&&Li(g,P),k}for(C=r(g,C);P<_.length;P++)I=h(C,g,P,_[P],x),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),b=o(I,b,P),T===null?k=I:T.sibling=I,T=I);return e&&C.forEach(function(H){return t(g,H)}),Ke&&Li(g,P),k}function v(g,b,_,x){var k=Ks(_);if(typeof k!="function")throw Error(F(150));if(_=k.call(_),_==null)throw Error(F(151));for(var T=k=null,C=b,P=b=0,I=null,N=_.next();C!==null&&!N.done;P++,N=_.next()){C.index>P?(I=C,C=null):I=C.sibling;var H=p(g,C,N.value,x);if(H===null){C===null&&(C=I);break}e&&C&&H.alternate===null&&t(g,C),b=o(H,b,P),T===null?k=H:T.sibling=H,T=H,C=I}if(N.done)return n(g,C),Ke&&Li(g,P),k;if(C===null){for(;!N.done;P++,N=_.next())N=d(g,N.value,x),N!==null&&(b=o(N,b,P),T===null?k=N:T.sibling=N,T=N);return Ke&&Li(g,P),k}for(C=r(g,C);!N.done;P++,N=_.next())N=h(C,g,P,N.value,x),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?P:N.key),b=o(N,b,P),T===null?k=N:T.sibling=N,T=N);return e&&C.forEach(function(z){return t(g,z)}),Ke&&Li(g,P),k}function S(g,b,_,x){if(typeof _=="object"&&_!==null&&_.type===jo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:e:{for(var k=_.key,T=b;T!==null;){if(T.key===k){if(k=_.type,k===jo){if(T.tag===7){n(g,T.sibling),b=i(T,_.props.children),b.return=g,g=b;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xr&&C0(k)===T.type){n(g,T.sibling),b=i(T,_.props),b.ref=Qs(g,T,_),b.return=g,g=b;break e}n(g,T);break}else t(g,T);T=T.sibling}_.type===jo?(b=no(_.props.children,g.mode,x,_.key),b.return=g,g=b):(x=nu(_.type,_.key,_.props,null,g.mode,x),x.ref=Qs(g,b,_),x.return=g,g=x)}return s(g);case No:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(g,b.sibling),b=i(b,_.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Yf(_,g.mode,x),b.return=g,g=b}return s(g);case Xr:return T=_._init,S(g,b,T(_._payload),x)}if(pa(_))return m(g,b,_,x);if(Ks(_))return v(g,b,_,x);wc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,_),b.return=g,g=b):(n(g,b),b=Zf(_,g.mode,x),b.return=g,g=b),s(g)):n(g,b)}return S}var ps=w1(!0),b1=w1(!1),Pu=Ci(null),Mu=null,Uo=null,Kg=null;function Jg(){Kg=Uo=Mu=null}function Gg(e){var t=Pu.current;qe(Pu),e._currentValue=t}function Th(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rs(e,t){Mu=e,Kg=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Kg!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(Mu===null)throw Error(F(308));Uo=e,Mu.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Hi=null;function Zg(e){Hi===null?Hi=[e]:Hi.push(e)}function _1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Zg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lr(e,r)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ei=!1;function Yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lr(e,n)}return i=r.interleaved,i===null?(t.next=t,Zg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lr(e,n)}function Zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dg(e,n)}}function A0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ou(e,t,n,r){var i=e.updateQueue;ei=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var p=a.lane,h=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(p=t,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,p=typeof m=="function"?m.call(h,d,p):m,p==null)break e;d=Xe({},d,p);break e;case 2:ei=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);co|=s,e.lanes=s,e.memoizedState=d}}function P0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Wl={},pr=Ci(Wl),Qa=Ci(Wl),Xa=Ci(Wl);function Ki(e){if(e===Wl)throw Error(F(174));return e}function Qg(e,t){switch($e(Xa,t),$e(Qa,e),$e(pr,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oh(t,e)}qe(pr),$e(pr,t)}function hs(){qe(pr),qe(Qa),qe(Xa)}function k1(e){Ki(Xa.current);var t=Ki(pr.current),n=oh(t,e.type);t!==n&&($e(Qa,e),$e(pr,n))}function Xg(e){Qa.current===e&&(qe(pr),qe(Qa))}var Ze=Ci(0);function Iu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qf=[];function ev(){for(var e=0;e<qf.length;e++)qf[e]._workInProgressVersionPrimary=null;qf.length=0}var Yc=qr.ReactCurrentDispatcher,Wf=qr.ReactCurrentBatchConfig,lo=0,Qe=null,ft=null,ht=null,Ru=!1,Aa=!1,el=0,oI=0;function xt(){throw Error(F(321))}function tv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function nv(e,t,n,r,i,o){if(lo=o,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=e===null||e.memoizedState===null?cI:uI,e=n(r,i),Aa){o=0;do{if(Aa=!1,el=0,25<=o)throw Error(F(301));o+=1,ht=ft=null,t.updateQueue=null,Yc.current=dI,e=n(r,i)}while(Aa)}if(Yc.current=Nu,t=ft!==null&&ft.next!==null,lo=0,ht=ft=Qe=null,Ru=!1,t)throw Error(F(300));return e}function rv(){var e=el!==0;return el=0,e}function sr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Qe.memoizedState=ht=e:ht=ht.next=e,ht}function In(){if(ft===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=ht===null?Qe.memoizedState:ht.next;if(t!==null)ht=t,ft=e;else{if(e===null)throw Error(F(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},ht===null?Qe.memoizedState=ht=e:ht=ht.next=e}return ht}function tl(e,t){return typeof t=="function"?t(e):t}function Hf(e){var t=In(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((lo&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,Qe.lanes|=u,co|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Yn(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Qe.lanes|=o,co|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kf(e){var t=In(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Yn(o,t.memoizedState)||(Gt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function x1(){}function T1(e,t){var n=Qe,r=In(),i=t(),o=!Yn(r.memoizedState,i);if(o&&(r.memoizedState=i,Gt=!0),r=r.queue,iv(A1.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,nl(9,C1.bind(null,n,r,i,t),void 0,null),gt===null)throw Error(F(349));lo&30||E1(n,t,i)}return i}function E1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function C1(e,t,n,r){t.value=n,t.getSnapshot=r,P1(t)&&M1(e)}function A1(e,t,n){return n(function(){P1(t)&&M1(e)})}function P1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch{return!0}}function M1(e){var t=Lr(e,1);t!==null&&Hn(t,e,1,-1)}function M0(e){var t=sr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t.queue=e,e=e.dispatch=lI.bind(null,Qe,e),[t.memoizedState,e]}function nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function O1(){return In().memoizedState}function Qc(e,t,n,r){var i=sr();Qe.flags|=e,i.memoizedState=nl(1|t,n,void 0,r===void 0?null:r)}function Nd(e,t,n,r){var i=In();r=r===void 0?null:r;var o=void 0;if(ft!==null){var s=ft.memoizedState;if(o=s.destroy,r!==null&&tv(r,s.deps)){i.memoizedState=nl(t,n,o,r);return}}Qe.flags|=e,i.memoizedState=nl(1|t,n,o,r)}function O0(e,t){return Qc(8390656,8,e,t)}function iv(e,t){return Nd(2048,8,e,t)}function I1(e,t){return Nd(4,2,e,t)}function R1(e,t){return Nd(4,4,e,t)}function N1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j1(e,t,n){return n=n!=null?n.concat([e]):null,Nd(4,4,N1.bind(null,t,e),n)}function ov(){}function D1(e,t){var n=In();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function L1(e,t){var n=In();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $1(e,t,n){return lo&21?(Yn(n,t)||(n=Uk(),Qe.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function sI(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=Wf.transition;Wf.transition={};try{e(!1),t()}finally{Ie=n,Wf.transition=r}}function F1(){return In().memoizedState}function aI(e,t,n){var r=pi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},V1(e))z1(t,n);else if(n=_1(e,t,n,r),n!==null){var i=zt();Hn(n,e,r,i),B1(n,t,r)}}function lI(e,t,n){var r=pi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(V1(e))z1(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,s)){var l=t.interleaved;l===null?(i.next=i,Zg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=_1(e,t,i,r),n!==null&&(i=zt(),Hn(n,e,r,i),B1(n,t,r))}}function V1(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function z1(e,t){Aa=Ru=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function B1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dg(e,n)}}var Nu={readContext:On,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},cI={readContext:On,useCallback:function(e,t){return sr().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:O0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qc(4194308,4,N1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qc(4,2,e,t)},useMemo:function(e,t){var n=sr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=aI.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=sr();return e={current:e},t.memoizedState=e},useState:M0,useDebugValue:ov,useDeferredValue:function(e){return sr().memoizedState=e},useTransition:function(){var e=M0(!1),t=e[0];return e=sI.bind(null,e[1]),sr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=sr();if(Ke){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),gt===null)throw Error(F(349));lo&30||E1(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,O0(A1.bind(null,r,o,e),[e]),r.flags|=2048,nl(9,C1.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=sr(),t=gt.identifierPrefix;if(Ke){var n=Ar,r=Cr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uI={readContext:On,useCallback:D1,useContext:On,useEffect:iv,useImperativeHandle:j1,useInsertionEffect:I1,useLayoutEffect:R1,useMemo:L1,useReducer:Hf,useRef:O1,useState:function(){return Hf(tl)},useDebugValue:ov,useDeferredValue:function(e){var t=In();return $1(t,ft.memoizedState,e)},useTransition:function(){var e=Hf(tl)[0],t=In().memoizedState;return[e,t]},useMutableSource:x1,useSyncExternalStore:T1,useId:F1,unstable_isNewReconciler:!1},dI={readContext:On,useCallback:D1,useContext:On,useEffect:iv,useImperativeHandle:j1,useInsertionEffect:I1,useLayoutEffect:R1,useMemo:L1,useReducer:Kf,useRef:O1,useState:function(){return Kf(tl)},useDebugValue:ov,useDeferredValue:function(e){var t=In();return ft===null?t.memoizedState=e:$1(t,ft.memoizedState,e)},useTransition:function(){var e=Kf(tl)[0],t=In().memoizedState;return[e,t]},useMutableSource:x1,useSyncExternalStore:T1,useId:F1,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Eh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jd={isMounted:function(e){return(e=e._reactInternals)?xo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),i=pi(e),o=Or(r,i);o.payload=t,n!=null&&(o.callback=n),t=di(e,o,i),t!==null&&(Hn(t,e,i,r),Zc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),i=pi(e),o=Or(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=di(e,o,i),t!==null&&(Hn(t,e,i,r),Zc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=pi(e),i=Or(n,r);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,r),t!==null&&(Hn(t,e,r,n),Zc(t,e,r))}};function I0(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ja(n,r)||!Ja(i,o):!0}function U1(e,t,n){var r=!1,i=yi,o=t.contextType;return typeof o=="object"&&o!==null?o=On(o):(i=Yt(t)?so:Rt.current,r=t.contextTypes,o=(r=r!=null)?ds(e,i):yi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function R0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jd.enqueueReplaceState(t,t.state,null)}function Ch(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Yg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=On(o):(o=Yt(t)?so:Rt.current,i.context=ds(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Eh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jd.enqueueReplaceState(i,i.state,null),Ou(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var n="",r=t;do n+=FM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Jf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ah(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function q1(e,t,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Du||(Du=!0,$h=r),Ah(e,t)},n}function W1(e,t,n){n=Or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ah(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ah(e,t),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function N0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fI;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=EI.bind(null,e,t,n),t.then(e,e))}function j0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function D0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Or(-1,1),t.tag=2,di(n,t,1))),n.lanes|=1),e)}var pI=qr.ReactCurrentOwner,Gt=!1;function Ft(e,t,n,r){t.child=e===null?b1(t,null,n,r):ps(t,e.child,n,r)}function L0(e,t,n,r,i){n=n.render;var o=t.ref;return rs(t,i),r=nv(e,t,n,r,o,i),n=rv(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$r(e,t,i)):(Ke&&n&&qg(t),t.flags|=1,Ft(e,t,r,i),t.child)}function $0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!pv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,H1(e,t,o,r,i)):(e=nu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(s,r)&&e.ref===t.ref)return $r(e,t,i)}return t.flags|=1,e=hi(o,r),e.ref=t.ref,e.return=t,t.child=e}function H1(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ja(o,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,$r(e,t,i)}return Ph(e,t,n,r,i)}function K1(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Wo,on),on|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Wo,on),on|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(Wo,on),on|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,$e(Wo,on),on|=r;return Ft(e,t,i,n),t.child}function J1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ph(e,t,n,r,i){var o=Yt(n)?so:Rt.current;return o=ds(t,o),rs(t,i),n=nv(e,t,n,r,o,i),r=rv(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$r(e,t,i)):(Ke&&r&&qg(t),t.flags|=1,Ft(e,t,n,i),t.child)}function F0(e,t,n,r,i){if(Yt(n)){var o=!0;Eu(t)}else o=!1;if(rs(t,i),t.stateNode===null)Xc(e,t),U1(t,n,r),Ch(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=Yt(n)?so:Rt.current,c=ds(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&R0(t,s,r,c),ei=!1;var p=t.memoizedState;s.state=p,Ou(t,r,s,i),l=t.memoizedState,a!==r||p!==l||Zt.current||ei?(typeof u=="function"&&(Eh(t,n,u,r),l=t.memoizedState),(a=ei||I0(t,n,a,r,p,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,S1(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Vn(t.type,a),s.props=c,d=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=Yt(n)?so:Rt.current,l=ds(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==l)&&R0(t,s,r,l),ei=!1,p=t.memoizedState,s.state=p,Ou(t,r,s,i);var m=t.memoizedState;a!==d||p!==m||Zt.current||ei?(typeof h=="function"&&(Eh(t,n,h,r),m=t.memoizedState),(c=ei||I0(t,n,c,r,p,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Mh(e,t,n,r,o,i)}function Mh(e,t,n,r,i,o){J1(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&x0(t,n,!1),$r(e,t,o);r=t.stateNode,pI.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=ps(t,e.child,null,o),t.child=ps(t,null,a,o)):Ft(e,t,a,o),t.memoizedState=r.state,i&&x0(t,n,!0),t.child}function G1(e){var t=e.stateNode;t.pendingContext?k0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k0(e,t.context,!1),Qg(e,t.containerInfo)}function V0(e,t,n,r,i){return fs(),Hg(i),t.flags|=256,Ft(e,t,n,r),t.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Ih(e){return{baseLanes:e,cachePool:null,transitions:null}}function Z1(e,t,n){var r=t.pendingProps,i=Ze.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Ze,i&1),e===null)return xh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=$d(s,r,0,null),e=no(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ih(n),t.memoizedState=Oh,e):sv(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hI(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hi(a,o):(o=no(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ih(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Oh,r}return o=e.child,e=o.sibling,r=hi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function sv(e,t){return t=$d({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bc(e,t,n,r){return r!==null&&Hg(r),ps(t,e.child,null,n),e=sv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hI(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Jf(Error(F(422))),bc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$d({mode:"visible",children:r.children},i,0,null),o=no(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ps(t,e.child,null,s),t.child.memoizedState=Ih(s),t.memoizedState=Oh,o);if(!(t.mode&1))return bc(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=Jf(o,r,void 0),bc(e,t,s,r)}if(a=(s&e.childLanes)!==0,Gt||a){if(r=gt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Lr(e,i),Hn(r,e,i,-1))}return fv(),r=Jf(Error(F(421))),bc(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=CI.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,sn=ui(i.nextSibling),ln=t,Ke=!0,Bn=null,e!==null&&(_n[Sn++]=Cr,_n[Sn++]=Ar,_n[Sn++]=ao,Cr=e.id,Ar=e.overflow,ao=t),t=sv(t,r.children),t.flags|=4096,t)}function z0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Th(e.return,t,n)}function Gf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Y1(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ft(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&z0(e,n,t);else if(e.tag===19)z0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Iu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Iu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gf(t,!0,n,null,o);break;case"together":Gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mI(e,t,n){switch(t.tag){case 3:G1(t),fs();break;case 5:k1(t);break;case 1:Yt(t.type)&&Eu(t);break;case 4:Qg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$e(Pu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?Z1(e,t,n):($e(Ze,Ze.current&1),e=$r(e,t,n),e!==null?e.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Y1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,K1(e,t,n)}return $r(e,t,n)}var Q1,Rh,X1,ex;Q1=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rh=function(){};X1=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ki(pr.current);var o=null;switch(n){case"input":i=th(e,i),r=th(e,r),o=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":i=ih(e,i),r=ih(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xu)}sh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(za.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(za.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};ex=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xs(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gI(e,t,n){var r=t.pendingProps;switch(Wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return Yt(t.type)&&Tu(),Tt(t),null;case 3:return r=t.stateNode,hs(),qe(Zt),qe(Rt),ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bn!==null&&(zh(Bn),Bn=null))),Rh(e,t),Tt(t),null;case 5:Xg(t);var i=Ki(Xa.current);if(n=t.type,e!==null&&t.stateNode!=null)X1(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Tt(t),null}if(e=Ki(pr.current),yc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[dr]=t,r[Ya]=o,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)Ue(ma[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Zy(r,o),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",r);break;case"textarea":Qy(r,o),Ue("invalid",r)}sh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&vc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&vc(r.textContent,a,e),i=["children",""+a]):za.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ue("scroll",r)}switch(n){case"input":cc(r),Yy(r,o,!0);break;case"textarea":cc(r),Xy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ak(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[dr]=t,e[Ya]=r,Q1(e,t,!1,!1),t.stateNode=e;e:{switch(s=ah(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),i=r;break;case"iframe":case"object":case"embed":Ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)Ue(ma[i],e);i=r;break;case"source":Ue("error",e),i=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=r;break;case"details":Ue("toggle",e),i=r;break;case"input":Zy(e,r),i=th(e,r),Ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":Qy(e,r),i=ih(e,r),Ue("invalid",e);break;default:i=r}sh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Ok(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Pk(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ba(e,l):typeof l=="number"&&Ba(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(za.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ue("scroll",e):l!=null&&Mg(e,o,l,s))}switch(n){case"input":cc(e),Yy(e,r,!1);break;case"textarea":cc(e),Xy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Xo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Xo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)ex(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Ki(Xa.current),Ki(pr.current),yc(t)){if(r=t.stateNode,n=t.memoizedProps,r[dr]=t,(o=r.nodeValue!==n)&&(e=ln,e!==null))switch(e.tag){case 3:vc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=t,t.stateNode=r}return Tt(t),null;case 13:if(qe(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&sn!==null&&t.mode&1&&!(t.flags&128))y1(),fs(),t.flags|=98560,o=!1;else if(o=yc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[dr]=t}else fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),o=!1}else Bn!==null&&(zh(Bn),Bn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?pt===0&&(pt=3):fv())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return hs(),Rh(e,t),e===null&&Ga(t.stateNode.containerInfo),Tt(t),null;case 10:return Gg(t.type._context),Tt(t),null;case 17:return Yt(t.type)&&Tu(),Tt(t),null;case 19:if(qe(Ze),o=t.memoizedState,o===null)return Tt(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Xs(o,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Iu(e),s!==null){for(t.flags|=128,Xs(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ze,Ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&it()>gs&&(t.flags|=128,r=!0,Xs(o,!1),t.lanes=4194304)}else{if(!r)if(e=Iu(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ke)return Tt(t),null}else 2*it()-o.renderingStartTime>gs&&n!==1073741824&&(t.flags|=128,r=!0,Xs(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=it(),t.sibling=null,n=Ze.current,$e(Ze,r?n&1|2:n&1),t):(Tt(t),null);case 22:case 23:return dv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?on&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function vI(e,t){switch(Wg(t),t.tag){case 1:return Yt(t.type)&&Tu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hs(),qe(Zt),qe(Rt),ev(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xg(t),null;case 13:if(qe(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ze),null;case 4:return hs(),null;case 10:return Gg(t.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var _c=!1,Ct=!1,yI=typeof WeakSet=="function"?WeakSet:Set,G=null;function qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Nh(e,t,n){try{n()}catch(r){tt(e,t,r)}}var B0=!1;function wI(e,t){if(vh=_u,e=o1(),Ug(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,p=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(a=s),p===o&&++u===r&&(l=s),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yh={focusedElem:e,selectionRange:n},_u=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vn(t.type,v),S);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){tt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return m=B0,B0=!1,m}function Pa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nh(t,n,o)}i=i.next}while(i!==r)}}function Dd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tx(e){var t=e.alternate;t!==null&&(e.alternate=null,tx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[Ya],delete t[_h],delete t[tI],delete t[nI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nx(e){return e.tag===5||e.tag===3||e.tag===4}function U0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xu));else if(r!==4&&(e=e.child,e!==null))for(Dh(e,t,n),e=e.sibling;e!==null;)Dh(e,t,n),e=e.sibling}function Lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lh(e,t,n),e=e.sibling;e!==null;)Lh(e,t,n),e=e.sibling}var yt=null,zn=!1;function Hr(e,t,n){for(n=n.child;n!==null;)rx(e,t,n),n=n.sibling}function rx(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ad,n)}catch{}switch(n.tag){case 5:Ct||qo(n,t);case 6:var r=yt,i=zn;yt=null,Hr(e,t,n),yt=r,zn=i,yt!==null&&(zn?(e=yt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(zn?(e=yt,n=n.stateNode,e.nodeType===8?Bf(e.parentNode,n):e.nodeType===1&&Bf(e,n),Ha(e)):Bf(yt,n.stateNode));break;case 4:r=yt,i=zn,yt=n.stateNode.containerInfo,zn=!0,Hr(e,t,n),yt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nh(n,t,s),i=i.next}while(i!==r)}Hr(e,t,n);break;case 1:if(!Ct&&(qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,t,a)}Hr(e,t,n);break;case 21:Hr(e,t,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,Hr(e,t,n),Ct=r):Hr(e,t,n);break;default:Hr(e,t,n)}}function q0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yI),t.forEach(function(r){var i=AI.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,zn=!1;break e;case 3:yt=a.stateNode.containerInfo,zn=!0;break e;case 4:yt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(yt===null)throw Error(F(160));rx(o,s,i),yt=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ix(t,e),t=t.sibling}function ix(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),rr(e),r&4){try{Pa(3,e,e.return),Dd(3,e)}catch(v){tt(e,e.return,v)}try{Pa(5,e,e.return)}catch(v){tt(e,e.return,v)}}break;case 1:Nn(t,e),rr(e),r&512&&n!==null&&qo(n,n.return);break;case 5:if(Nn(t,e),rr(e),r&512&&n!==null&&qo(n,n.return),e.flags&32){var i=e.stateNode;try{Ba(i,"")}catch(v){tt(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ek(i,o),ah(a,s);var c=ah(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Ok(i,d):u==="dangerouslySetInnerHTML"?Pk(i,d):u==="children"?Ba(i,d):Mg(i,u,d,c)}switch(a){case"input":nh(i,o);break;case"textarea":Ck(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Xo(i,!!o.multiple,h,!1):p!==!!o.multiple&&(o.defaultValue!=null?Xo(i,!!o.multiple,o.defaultValue,!0):Xo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ya]=o}catch(v){tt(e,e.return,v)}}break;case 6:if(Nn(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){tt(e,e.return,v)}}break;case 3:if(Nn(t,e),rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(v){tt(e,e.return,v)}break;case 4:Nn(t,e),rr(e);break;case 13:Nn(t,e),rr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(cv=it())),r&4&&q0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ct=(c=Ct)||u,Nn(t,e),Ct=c):Nn(t,e),rr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(d=G=u;G!==null;){switch(p=G,h=p.child,p.tag){case 0:case 11:case 14:case 15:Pa(4,p,p.return);break;case 1:qo(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){tt(r,n,v)}}break;case 5:qo(p,p.return);break;case 22:if(p.memoizedState!==null){H0(d);continue}}h!==null?(h.return=p,G=h):H0(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mk("display",s))}catch(v){tt(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){tt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(t,e),rr(e),r&4&&q0(e);break;case 21:break;default:Nn(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nx(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ba(i,""),r.flags&=-33);var o=U0(e);Lh(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=U0(e);Dh(e,a,s);break;default:throw Error(F(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bI(e,t,n){G=e,ox(e)}function ox(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||_c;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=_c;var c=Ct;if(_c=s,(Ct=l)&&!c)for(G=i;G!==null;)s=G,l=s.child,s.tag===22&&s.memoizedState!==null?K0(i):l!==null?(l.return=s,G=l):K0(i);for(;o!==null;)G=o,ox(o),o=o.sibling;G=i,_c=a,Ct=c}W0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,G=o):W0(e)}}function W0(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Dd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&P0(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}P0(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ha(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ct||t.flags&512&&jh(t)}catch(p){tt(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function H0(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function K0(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dd(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){tt(t,i,l)}}var o=t.return;try{jh(t)}catch(l){tt(t,o,l)}break;case 5:var s=t.return;try{jh(t)}catch(l){tt(t,s,l)}}}catch(l){tt(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var _I=Math.ceil,ju=qr.ReactCurrentDispatcher,av=qr.ReactCurrentOwner,An=qr.ReactCurrentBatchConfig,Te=0,gt=null,ct=null,_t=0,on=0,Wo=Ci(0),pt=0,rl=null,co=0,Ld=0,lv=0,Ma=null,Kt=null,cv=0,gs=1/0,Sr=null,Du=!1,$h=null,fi=null,Sc=!1,si=null,Lu=0,Oa=0,Fh=null,eu=-1,tu=0;function zt(){return Te&6?it():eu!==-1?eu:eu=it()}function pi(e){return e.mode&1?Te&2&&_t!==0?_t&-_t:iI.transition!==null?(tu===0&&(tu=Uk()),tu):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Zk(e.type)),e):1}function Hn(e,t,n,r){if(50<Oa)throw Oa=0,Fh=null,Error(F(185));Bl(e,n,r),(!(Te&2)||e!==gt)&&(e===gt&&(!(Te&2)&&(Ld|=n),pt===4&&ii(e,_t)),Qt(e,r),n===1&&Te===0&&!(t.mode&1)&&(gs=it()+500,Rd&&Ai()))}function Qt(e,t){var n=e.callbackNode;iO(e,t);var r=bu(e,e===gt?_t:0);if(r===0)n!==null&&n0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&n0(n),t===1)e.tag===0?rI(J0.bind(null,e)):m1(J0.bind(null,e)),XO(function(){!(Te&6)&&Ai()}),n=null;else{switch(qk(r)){case 1:n=jg;break;case 4:n=zk;break;case 16:n=wu;break;case 536870912:n=Bk;break;default:n=wu}n=px(n,sx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sx(e,t){if(eu=-1,tu=0,Te&6)throw Error(F(327));var n=e.callbackNode;if(is()&&e.callbackNode!==n)return null;var r=bu(e,e===gt?_t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$u(e,r);else{t=r;var i=Te;Te|=2;var o=lx();(gt!==e||_t!==t)&&(Sr=null,gs=it()+500,to(e,t));do try{xI();break}catch(a){ax(e,a)}while(!0);Jg(),ju.current=o,Te=i,ct!==null?t=0:(gt=null,_t=0,t=pt)}if(t!==0){if(t===2&&(i=fh(e),i!==0&&(r=i,t=Vh(e,i))),t===1)throw n=rl,to(e,0),ii(e,r),Qt(e,it()),n;if(t===6)ii(e,r);else{if(i=e.current.alternate,!(r&30)&&!SI(i)&&(t=$u(e,r),t===2&&(o=fh(e),o!==0&&(r=o,t=Vh(e,o))),t===1))throw n=rl,to(e,0),ii(e,r),Qt(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:$i(e,Kt,Sr);break;case 3:if(ii(e,r),(r&130023424)===r&&(t=cv+500-it(),10<t)){if(bu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=bh($i.bind(null,e,Kt,Sr),t);break}$i(e,Kt,Sr);break;case 4:if(ii(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Wn(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_I(r/1960))-r,10<r){e.timeoutHandle=bh($i.bind(null,e,Kt,Sr),r);break}$i(e,Kt,Sr);break;case 5:$i(e,Kt,Sr);break;default:throw Error(F(329))}}}return Qt(e,it()),e.callbackNode===n?sx.bind(null,e):null}function Vh(e,t){var n=Ma;return e.current.memoizedState.isDehydrated&&(to(e,t).flags|=256),e=$u(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&zh(t)),e}function zh(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function SI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~lv,t&=~Ld,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function J0(e){if(Te&6)throw Error(F(327));is();var t=bu(e,0);if(!(t&1))return Qt(e,it()),null;var n=$u(e,t);if(e.tag!==0&&n===2){var r=fh(e);r!==0&&(t=r,n=Vh(e,r))}if(n===1)throw n=rl,to(e,0),ii(e,t),Qt(e,it()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,Kt,Sr),Qt(e,it()),null}function uv(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(gs=it()+500,Rd&&Ai())}}function uo(e){si!==null&&si.tag===0&&!(Te&6)&&is();var t=Te;Te|=1;var n=An.transition,r=Ie;try{if(An.transition=null,Ie=1,e)return e()}finally{Ie=r,An.transition=n,Te=t,!(Te&6)&&Ai()}}function dv(){on=Wo.current,qe(Wo)}function to(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QO(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tu();break;case 3:hs(),qe(Zt),qe(Rt),ev();break;case 5:Xg(r);break;case 4:hs();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:Gg(r.type._context);break;case 22:case 23:dv()}n=n.return}if(gt=e,ct=e=hi(e.current,null),_t=on=t,pt=0,rl=null,lv=Ld=co=0,Kt=Ma=null,Hi!==null){for(t=0;t<Hi.length;t++)if(n=Hi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Hi=null}return e}function ax(e,t){do{var n=ct;try{if(Jg(),Yc.current=Nu,Ru){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ru=!1}if(lo=0,ht=ft=Qe=null,Aa=!1,el=0,av.current=null,n===null||n.return===null){pt=1,rl=t,ct=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=j0(s);if(h!==null){h.flags&=-257,D0(h,s,a,o,t),h.mode&1&&N0(o,c,t),t=h,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){N0(o,c,t),fv();break e}l=Error(F(426))}}else if(Ke&&a.mode&1){var S=j0(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),D0(S,s,a,o,t),Hg(ms(l,a));break e}}o=l=ms(l,a),pt!==4&&(pt=2),Ma===null?Ma=[o]:Ma.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=q1(o,l,t);A0(o,g);break e;case 1:a=l;var b=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fi===null||!fi.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=W1(o,a,t);A0(o,x);break e}}o=o.return}while(o!==null)}ux(n)}catch(k){t=k,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function lx(){var e=ju.current;return ju.current=Nu,e===null?Nu:e}function fv(){(pt===0||pt===3||pt===2)&&(pt=4),gt===null||!(co&268435455)&&!(Ld&268435455)||ii(gt,_t)}function $u(e,t){var n=Te;Te|=2;var r=lx();(gt!==e||_t!==t)&&(Sr=null,to(e,t));do try{kI();break}catch(i){ax(e,i)}while(!0);if(Jg(),Te=n,ju.current=r,ct!==null)throw Error(F(261));return gt=null,_t=0,pt}function kI(){for(;ct!==null;)cx(ct)}function xI(){for(;ct!==null&&!GM();)cx(ct)}function cx(e){var t=fx(e.alternate,e,on);e.memoizedProps=e.pendingProps,t===null?ux(e):ct=t,av.current=null}function ux(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vI(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ct=null;return}}else if(n=gI(n,t,on),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);pt===0&&(pt=5)}function $i(e,t,n){var r=Ie,i=An.transition;try{An.transition=null,Ie=1,TI(e,t,n,r)}finally{An.transition=i,Ie=r}return null}function TI(e,t,n,r){do is();while(si!==null);if(Te&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(oO(e,o),e===gt&&(ct=gt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,px(wu,function(){return is(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=An.transition,An.transition=null;var s=Ie;Ie=1;var a=Te;Te|=4,av.current=null,wI(e,n),ix(n,e),WO(yh),_u=!!vh,yh=vh=null,e.current=n,bI(n),ZM(),Te=a,Ie=s,An.transition=o}else e.current=n;if(Sc&&(Sc=!1,si=e,Lu=i),o=e.pendingLanes,o===0&&(fi=null),XM(n.stateNode),Qt(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,e=$h,$h=null,e;return Lu&1&&e.tag!==0&&is(),o=e.pendingLanes,o&1?e===Fh?Oa++:(Oa=0,Fh=e):Oa=0,Ai(),null}function is(){if(si!==null){var e=qk(Lu),t=An.transition,n=Ie;try{if(An.transition=null,Ie=16>e?16:e,si===null)var r=!1;else{if(e=si,si=null,Lu=0,Te&6)throw Error(F(331));var i=Te;for(Te|=4,G=e.current;G!==null;){var o=G,s=o.child;if(G.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Pa(8,u,o)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var p=u.sibling,h=u.return;if(tx(u),u===c){G=null;break}if(p!==null){p.return=h,G=p;break}G=h}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}G=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,G=s;else e:for(;G!==null;){if(o=G,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Pa(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,G=g;break e}G=o.return}}var b=e.current;for(G=b;G!==null;){s=G;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,G=_;else e:for(s=b;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dd(9,a)}}catch(k){tt(a,a.return,k)}if(a===s){G=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break e}G=a.return}}if(Te=i,Ai(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ad,e)}catch{}r=!0}return r}finally{Ie=n,An.transition=t}}return!1}function G0(e,t,n){t=ms(n,t),t=q1(e,t,1),e=di(e,t,1),t=zt(),e!==null&&(Bl(e,1,t),Qt(e,t))}function tt(e,t,n){if(e.tag===3)G0(e,e,n);else for(;t!==null;){if(t.tag===3){G0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){e=ms(n,e),e=W1(t,e,1),t=di(t,e,1),e=zt(),t!==null&&(Bl(t,1,e),Qt(t,e));break}}t=t.return}}function EI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,gt===e&&(_t&n)===n&&(pt===4||pt===3&&(_t&130023424)===_t&&500>it()-cv?to(e,0):lv|=n),Qt(e,t)}function dx(e,t){t===0&&(e.mode&1?(t=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):t=1);var n=zt();e=Lr(e,t),e!==null&&(Bl(e,t,n),Qt(e,n))}function CI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dx(e,n)}function AI(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),dx(e,n)}var fx;fx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,mI(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Ke&&t.flags&1048576&&g1(t,Au,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xc(e,t),e=t.pendingProps;var i=ds(t,Rt.current);rs(t,n),i=nv(null,t,r,e,i,n);var o=rv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(o=!0,Eu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yg(t),i.updater=jd,t.stateNode=i,i._reactInternals=t,Ch(t,r,e,n),t=Mh(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&qg(t),Ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=MI(r),e=Vn(r,e),i){case 0:t=Ph(null,t,r,e,n);break e;case 1:t=F0(null,t,r,e,n);break e;case 11:t=L0(null,t,r,e,n);break e;case 14:t=$0(null,t,r,Vn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),Ph(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),F0(e,t,r,i,n);case 3:e:{if(G1(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,i=o.element,S1(e,t),Ou(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ms(Error(F(423)),t),t=V0(e,t,r,n,i);break e}else if(r!==i){i=ms(Error(F(424)),t),t=V0(e,t,r,n,i);break e}else for(sn=ui(t.stateNode.containerInfo.firstChild),ln=t,Ke=!0,Bn=null,n=b1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),r===i){t=$r(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 5:return k1(t),e===null&&xh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,wh(r,i)?s=null:o!==null&&wh(r,o)&&(t.flags|=32),J1(e,t),Ft(e,t,s,n),t.child;case 6:return e===null&&xh(t),null;case 13:return Z1(e,t,n);case 4:return Qg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ps(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),L0(e,t,r,i,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,$e(Pu,r._currentValue),r._currentValue=s,o!==null)if(Yn(o.value,s)){if(o.children===i.children&&!Zt.current){t=$r(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Or(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Th(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Th(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rs(t,n),i=On(i),r=r(i),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return r=t.type,i=Vn(r,t.pendingProps),i=Vn(r.type,i),$0(e,t,r,i,n);case 15:return H1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),Xc(e,t),t.tag=1,Yt(r)?(e=!0,Eu(t)):e=!1,rs(t,n),U1(t,r,i),Ch(t,r,i,n),Mh(null,t,r,!0,e,n);case 19:return Y1(e,t,n);case 22:return K1(e,t,n)}throw Error(F(156,t.tag))};function px(e,t){return Vk(e,t)}function PI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(e,t,n,r){return new PI(e,t,n,r)}function pv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function MI(e){if(typeof e=="function")return pv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ig)return 11;if(e===Rg)return 14}return 2}function hi(e,t){var n=e.alternate;return n===null?(n=Tn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nu(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")pv(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jo:return no(n.children,i,o,t);case Og:s=8,i|=8;break;case Yp:return e=Tn(12,n,t,i|2),e.elementType=Yp,e.lanes=o,e;case Qp:return e=Tn(13,n,t,i),e.elementType=Qp,e.lanes=o,e;case Xp:return e=Tn(19,n,t,i),e.elementType=Xp,e.lanes=o,e;case kk:return $d(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _k:s=10;break e;case Sk:s=9;break e;case Ig:s=11;break e;case Rg:s=14;break e;case Xr:s=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Tn(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function no(e,t,n,r){return e=Tn(7,e,r,t),e.lanes=n,e}function $d(e,t,n,r){return e=Tn(22,e,r,t),e.elementType=kk,e.lanes=n,e.stateNode={isHidden:!1},e}function Zf(e,t,n){return e=Tn(6,e,null,t),e.lanes=n,e}function Yf(e,t,n){return t=Tn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function OI(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hv(e,t,n,r,i,o,s,a,l){return e=new OI(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Tn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(o),e}function II(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hx(e){if(!e)return yi;e=e._reactInternals;e:{if(xo(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Yt(n))return h1(e,n,t)}return t}function mx(e,t,n,r,i,o,s,a,l){return e=hv(n,r,!0,e,i,o,s,a,l),e.context=hx(null),n=e.current,r=zt(),i=pi(n),o=Or(r,i),o.callback=t??null,di(n,o,i),e.current.lanes=i,Bl(e,i,r),Qt(e,r),e}function Fd(e,t,n,r){var i=t.current,o=zt(),s=pi(i);return n=hx(n),t.context===null?t.context=n:t.pendingContext=n,t=Or(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=di(i,t,s),e!==null&&(Hn(e,i,s,o),Zc(e,i,s)),s}function Fu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mv(e,t){Z0(e,t),(e=e.alternate)&&Z0(e,t)}function RI(){return null}var gx=typeof reportError=="function"?reportError:function(e){console.error(e)};function gv(e){this._internalRoot=e}Vd.prototype.render=gv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Fd(e,t,null,null)};Vd.prototype.unmount=gv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uo(function(){Fd(null,e,null,null)}),t[Dr]=null}};function Vd(e){this._internalRoot=e}Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ri.length&&t!==0&&t<ri[n].priority;n++);ri.splice(n,0,e),n===0&&Gk(e)}};function vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function NI(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Fu(s);o.call(c)}}var s=mx(t,r,e,0,null,!1,!1,"",Y0);return e._reactRootContainer=s,e[Dr]=s.current,Ga(e.nodeType===8?e.parentNode:e),uo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fu(l);a.call(c)}}var l=hv(e,0,!1,null,null,!1,!1,"",Y0);return e._reactRootContainer=l,e[Dr]=l.current,Ga(e.nodeType===8?e.parentNode:e),uo(function(){Fd(t,l,n,r)}),l}function Bd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Fu(s);a.call(l)}}Fd(t,s,e,i)}else s=NI(n,t,e,i,r);return Fu(s)}Wk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(Dg(t,n|1),Qt(t,it()),!(Te&6)&&(gs=it()+500,Ai()))}break;case 13:uo(function(){var r=Lr(e,1);if(r!==null){var i=zt();Hn(r,e,1,i)}}),mv(e,1)}};Lg=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=zt();Hn(t,e,134217728,n)}mv(e,134217728)}};Hk=function(e){if(e.tag===13){var t=pi(e),n=Lr(e,t);if(n!==null){var r=zt();Hn(n,e,t,r)}mv(e,t)}};Kk=function(){return Ie};Jk=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};ch=function(e,t,n){switch(t){case"input":if(nh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Id(r);if(!i)throw Error(F(90));Tk(r),nh(r,i)}}}break;case"textarea":Ck(e,n);break;case"select":t=n.value,t!=null&&Xo(e,!!n.multiple,t,!1)}};Nk=uv;jk=uo;var jI={usingClientEntryPoint:!1,Events:[ql,Fo,Id,Ik,Rk,uv]},ea={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DI={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$k(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||RI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Ad=kc.inject(DI),fr=kc}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jI;hn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(t))throw Error(F(200));return II(e,t,null,n)};hn.createRoot=function(e,t){if(!vv(e))throw Error(F(299));var n=!1,r="",i=gx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hv(e,1,!1,null,null,n,!1,r,i),e[Dr]=t.current,Ga(e.nodeType===8?e.parentNode:e),new gv(t)};hn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=$k(t),e=e===null?null:e.stateNode,e};hn.flushSync=function(e){return uo(e)};hn.hydrate=function(e,t,n){if(!zd(t))throw Error(F(200));return Bd(null,e,t,!0,n)};hn.hydrateRoot=function(e,t,n){if(!vv(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=gx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=mx(t,null,e,1,n??null,i,!1,o,s),e[Dr]=t.current,Ga(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vd(t)};hn.render=function(e,t,n){if(!zd(t))throw Error(F(200));return Bd(null,e,t,!1,n)};hn.unmountComponentAtNode=function(e){if(!zd(e))throw Error(F(40));return e._reactRootContainer?(uo(function(){Bd(null,null,e,!1,function(){e._reactRootContainer=null,e[Dr]=null})}),!0):!1};hn.unstable_batchedUpdates=uv;hn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zd(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Bd(e,t,n,!1,r)};hn.version="18.3.1-next-f1338f8080-20240426";function vx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vx)}catch(e){console.error(e)}}vx(),vk.exports=hn;var LI=vk.exports,Q0=LI;Gp.createRoot=Q0.createRoot,Gp.hydrateRoot=Q0.hydrateRoot;const kn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ELEVENLABS_API_KEY:"sk_86ff15b3ad8b9da08ffe8ae0c1397dc7828eb00e708b5852",VITE_PICA_SECRET_KEY:"sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",VITE_TAVUS_API_KEY:"40ce96379c944b609b9671259afae13d"};let $I=0;function ee(e,t){const n=`atom${++$I}`,r={toString(){return(kn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=FI,r.write=VI),t&&(r.write=t),r}function FI(e){return e(this)}function VI(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const X0=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Qf=e=>"init"in e,Xf=e=>!!e.write,Vu=new WeakMap,Bh=e=>{var t;return Uh(e)&&!((t=Vu.get(e))!=null&&t[1])},zI=(e,t)=>{const n=Vu.get(e);if(n)n[1]=!0,n[0].forEach(r=>r(t));else if((kn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},BI=e=>{if(Vu.has(e))return;const t=[new Set,!1];Vu.set(e,t);const n=()=>{t[1]=!0};e.then(n,n),e.onCancel=r=>{t[0].add(r)}},Uh=e=>typeof(e==null?void 0:e.then)=="function",ew=e=>"v"in e||"e"in e,xc=e=>{if("e"in e)throw e.e;if((kn?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},yx=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},tw=(e,t,n,r,i)=>{var o;if((kn?"production":void 0)!=="production"&&r===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n),Bh(n.v)&&yx(t,n.v,i),(o=i.m)==null||o.t.add(t),e&&UI(e,r,t)},Co=()=>[new Map,new Map,new Set],ep=(e,t,n)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,n)},UI=(e,t,n)=>{const r=e[0].get(t);r&&r.add(n)},qI=(e,t)=>e[0].get(t),nw=(e,t)=>{e[2].add(t)},Kr=e=>{let t,n=!1;const r=i=>{try{i()}catch(o){n||(t=o,n=!0)}};for(;e[1].size||e[2].size;){e[0].clear();const i=new Set(e[1].values());e[1].clear();const o=new Set(e[2]);e[2].clear(),i.forEach(s=>{var a;return(a=s.m)==null?void 0:a.l.forEach(r)}),o.forEach(r)}if(n)throw t},wx=(...[e,t,n,r])=>{let i;(kn?"production":void 0)!=="production"&&(i=new Set);const o=(_,x,k)=>{const T="v"in x,C=x.v,P=Bh(x.v)?x.v:null;if(Uh(k)){BI(k);for(const I of x.d.keys())yx(_,k,e(I));x.v=k,delete x.e}else x.v=k,delete x.e;(!T||!Object.is(C,x.v))&&(++x.n,P&&zI(P,k))},s=(_,x,k)=>{var T;const C=e(x);if(ew(C)&&(C.m&&!(k!=null&&k.has(x))||Array.from(C.d).every(([B,ne])=>s(_,B,k).n===ne)))return C;C.d.clear();let P=!0;const I=B=>{if(X0(x,B)){const ve=e(B);if(!ew(ve))if(Qf(B))o(B,ve,B.init);else throw new Error("no atom init");return xc(ve)}const ne=s(_,B,k);try{return xc(ne)}finally{if(P)tw(_,x,C,B,ne);else{const ve=Co();tw(ve,x,C,B,ne),h(ve,x,C),Kr(ve)}}};let N,H;const z={get signal(){return N||(N=new AbortController),N.signal},get setSelf(){return(kn?"production":void 0)!=="production"&&!Xf(x)&&console.warn("setSelf function cannot be used with read-only atom"),!H&&Xf(x)&&(H=(...B)=>{if((kn?"production":void 0)!=="production"&&P&&console.warn("setSelf function cannot be called in sync"),!P)return p(x,...B)}),H}};try{const B=t(x,I,z);if(o(x,C,B),Uh(B)){(T=B.onCancel)==null||T.call(B,()=>N==null?void 0:N.abort());const ne=()=>{if(C.m){const ve=Co();h(ve,x,C),Kr(ve)}};B.then(ne,ne)}return C}catch(B){return delete C.v,C.e=B,++C.n,C}finally{P=!1}},a=_=>xc(s(void 0,_)),l=(_,x,k)=>{var T,C;const P=new Map;for(const I of((T=k.m)==null?void 0:T.t)||[])P.set(I,e(I));for(const I of k.p)P.set(I,e(I));return(C=qI(_,x))==null||C.forEach(I=>{P.set(I,e(I))}),P};function c(_,x,k){const T=[],C=new Set,P=new Set,I=[[x,k]];for(;I.length>0;){const[N,H]=I[I.length-1];if(P.has(N)){I.pop();continue}if(C.has(N)){T.push([N,H,H.n]),P.add(N),I.pop();continue}C.add(N);for(const[z,B]of l(_,N,H))N!==z&&!C.has(z)&&I.push([z,B])}return[T,P]}const u=(_,x,k)=>{const[T,C]=c(_,x,k),P=new Set([x]);for(let I=T.length-1;I>=0;--I){const[N,H,z]=T[I];let B=!1;for(const ne of H.d.keys())if(ne!==N&&P.has(ne)){B=!0;break}B&&(s(_,N,C),h(_,N,H),z!==H.n&&(ep(_,N,H),P.add(N))),C.delete(N)}},d=(_,x,...k)=>{let T=!0;const C=I=>xc(s(_,I)),P=(I,...N)=>{const H=e(I);try{if(X0(x,I)){if(!Qf(I))throw new Error("atom not writable");const z=H.n,B=N[0];o(I,H,B),h(_,I,H),z!==H.n&&(ep(_,I,H),u(_,I,H));return}else return d(_,I,...N)}finally{T||Kr(_)}};try{return n(x,C,P,...k)}finally{T=!1}},p=(_,...x)=>{const k=Co();try{return d(k,_,...x)}finally{Kr(k)}},h=(_,x,k)=>{if(k.m&&!Bh(k.v)){for(const T of k.d.keys())k.m.d.has(T)||(m(_,T,e(T)).t.add(x),k.m.d.add(T));for(const T of k.m.d||[])if(!k.d.has(T)){k.m.d.delete(T);const C=v(_,T,e(T));C==null||C.t.delete(x)}}},m=(_,x,k)=>{if(!k.m){s(_,x);for(const T of k.d.keys())m(_,T,e(T)).t.add(x);if(k.m={l:new Set,d:new Set(k.d.keys()),t:new Set},(kn?"production":void 0)!=="production"&&i.add(x),Xf(x)){const T=k.m;let C;const P=(I,N)=>{let H=!0;C=(...z)=>{try{return d(I,x,...z)}finally{H||Kr(I)}};try{return N()}finally{H=!1}};nw(_,()=>{const I=P(_,()=>r(x,(...N)=>C(...N)));I&&(T.u=N=>P(N,I))})}}return k.m},v=(_,x,k)=>{if(k.m&&!k.m.l.size&&!Array.from(k.m.t).some(T=>{var C;return(C=e(T).m)==null?void 0:C.d.has(x)})){const T=k.m.u;T&&nw(_,()=>T(_)),delete k.m,(kn?"production":void 0)!=="production"&&i.delete(x);for(const C of k.d.keys()){const P=v(_,C,e(C));P==null||P.t.delete(x)}return}return k.m},b={get:a,set:p,sub:(_,x)=>{const k=Co(),T=e(_),P=m(k,_,T).l;return P.add(x),Kr(k),()=>{P.delete(x);const I=Co();v(I,_,T),Kr(I)}},unstable_derive:_=>wx(..._(e,t,n,r))};return(kn?"production":void 0)!=="production"&&Object.assign(b,{dev4_get_internal_weak_map:()=>({get:x=>{const k=e(x);if(k.n!==0)return k}}),dev4_get_mounted_atoms:()=>i,dev4_restore_atoms:x=>{const k=Co();for(const[T,C]of x)if(Qf(T)){const P=e(T),I=P.n;o(T,P,C),h(k,T,P),I!==P.n&&(ep(k,T,P),u(k,T,P))}Kr(k)}}),b},bx=()=>{const e=new WeakMap;return wx(n=>{if((kn?"production":void 0)!=="production"&&!n)throw new Error("Atom is undefined or null");let r=e.get(n);return r||(r={d:new Map,p:new Set,n:0},e.set(n,r)),r},(n,...r)=>n.read(...r),(n,...r)=>n.write(...r),(n,...r)=>{var i;return(i=n.onMount)==null?void 0:i.call(n,...r)})};let ta;const _x=()=>(ta||(ta=bx(),(kn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ta),globalThis.__JOTAI_DEFAULT_STORE__!==ta&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ta),Sx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ELEVENLABS_API_KEY:"sk_86ff15b3ad8b9da08ffe8ae0c1397dc7828eb00e708b5852",VITE_PICA_SECRET_KEY:"sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",VITE_TAVUS_API_KEY:"40ce96379c944b609b9671259afae13d"},kx=A.createContext(void 0),xx=e=>A.useContext(kx)||_x(),WI=({children:e,store:t})=>{const n=A.useRef();return!t&&!n.current&&(n.current=bx()),A.createElement(kx.Provider,{value:t||n.current},e)},Tx=e=>typeof(e==null?void 0:e.then)=="function",HI=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},KI=xe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(HI(e),e)}),tp=new WeakMap,JI=e=>{let t=tp.get(e);return t||(t=new Promise((n,r)=>{let i=e;const o=l=>c=>{i===l&&n(c)},s=l=>c=>{i===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((Sx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");Tx(c)?(tp.set(c,t),i=c,c.then(o(c),s(c)),a(c)):n(c)})};e.then(o(e),s(e)),a(e)}),tp.set(e,t)),t};function At(e,t){const n=xx(),[[r,i,o],s]=A.useReducer(c=>{const u=n.get(e);return Object.is(c[0],u)&&c[1]===n&&c[2]===e?c:[u,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;if((i!==n||o!==e)&&(s(),a=n.get(e)),A.useEffect(()=>{const c=n.sub(e,()=>{s()});return s(),c},[n,e,void 0]),A.useDebugValue(a),Tx(a)){const c=JI(a);return KI(c)}return a}function Ex(e,t){const n=xx();return A.useCallback((...i)=>{if((Sx?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function mt(e,t){return[At(e),Ex(e)]}const GI={currentScreen:"intro"},Ud=ee(GI),ZI=()=>{const e=localStorage.getItem("user");return{isAuthenticated:!!e,user:e?JSON.parse(e):null,isLoading:!1}},os=ee(ZI()),YI=ee(null,async(e,t,n)=>{t(os,r=>({...r,isLoading:!0}));try{await new Promise(i=>setTimeout(i,1e3));const r={id:"1",email:n.email,name:n.email.split("@")[0]};return localStorage.setItem("user",JSON.stringify(r)),t(os,{isAuthenticated:!0,user:r,isLoading:!1}),{success:!0}}catch{return t(os,i=>({...i,isLoading:!1})),{success:!1,error:"Invalid credentials"}}}),QI=ee(null,(e,t)=>{localStorage.removeItem("user"),t(os,{isAuthenticated:!1,user:null,isLoading:!1})}),XI=()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},zu=ee(XI()),eR=ee(null,(e,t)=>{const r=e(zu)==="light"?"dark":"light";localStorage.setItem("theme",r),t(zu,r),document.documentElement.classList.toggle("dark",r==="dark")});function tR(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function nR(...e){return t=>e.forEach(n=>tR(n,t))}var Cx=A.forwardRef((e,t)=>{const{children:n,...r}=e,i=A.Children.toArray(n),o=i.find(iR);if(o){const s=o.props.children,a=i.map(l=>l===o?A.Children.count(s)>1?A.Children.only(null):A.isValidElement(s)?s.props.children:null:l);return O.jsx(qh,{...r,ref:t,children:A.isValidElement(s)?A.cloneElement(s,void 0,a):null})}return O.jsx(qh,{...r,ref:t,children:n})});Cx.displayName="Slot";var qh=A.forwardRef((e,t)=>{const{children:n,...r}=e;if(A.isValidElement(n)){const i=sR(n);return A.cloneElement(n,{...oR(r,n.props),ref:t?nR(t,i):i})}return A.Children.count(n)>1?A.Children.only(null):null});qh.displayName="SlotClone";var rR=({children:e})=>O.jsx(O.Fragment,{children:e});function iR(e){return A.isValidElement(e)&&e.type===rR}function oR(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function sR(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ax(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ax(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yv(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ax(e))&&(r&&(r+=" "),r+=t);return r}const rw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iw=yv,aR=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return iw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=o==null?void 0:o[c];if(u===null)return null;const p=rw(u)||rw(d);return i[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...h}=u;return Object.entries(h).every(m=>{let[v,S]=m;return Array.isArray(S)?S.includes({...o,...a}[v]):{...o,...a}[v]===S})?[...c,d,p]:c},[]);return iw(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},wv="-",lR=e=>{const t=uR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(wv);return a[0]===""&&a.length!==1&&a.shift(),Px(a,t)||cR(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},Px=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Px(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(wv);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},ow=/^\[(.+)\]$/,cR=e=>{if(ow.test(e)){const t=ow.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},uR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return fR(Object.entries(e.classGroups),n).forEach(([o,s])=>{Wh(s,r,o,t)}),r},Wh=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:sw(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(dR(i)){Wh(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Wh(s,sw(t,o),n,r)})})},sw=(e,t)=>{let n=e;return t.split(wv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dR=e=>e.isThemeGetter,fR=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,pR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},Mx="!",hR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const l=[];let c=0,u=0,d;for(let S=0;S<a.length;S++){let g=a[S];if(c===0){if(g===i&&(r||a.slice(S,S+o)===t)){l.push(a.slice(u,S)),u=S+o;continue}if(g==="/"){d=S;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(u),h=p.startsWith(Mx),m=h?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:s}):s},mR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},gR=e=>({cache:pR(e.cacheSize),parseClassName:hR(e),...lR(e)}),vR=/\s+/,yR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(vR);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}=n(c);let m=!!h,v=r(m?p.substring(0,h):p);if(!v){if(!m){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}m=!1}const S=mR(u).join(":"),g=d?S+Mx:S,b=g+v;if(o.includes(b))continue;o.push(b);const _=i(v,m);for(let x=0;x<_.length;++x){const k=_[x];o.push(g+k)}a=c+(a.length>0?" "+a:a)}return a};function wR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Ox(t))&&(r&&(r+=" "),r+=n);return r}const Ox=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ox(e[r]))&&(n&&(n+=" "),n+=t);return n};function bR(e,...t){let n,r,i,o=s;function s(l){const c=t.reduce((u,d)=>d(u),e());return n=gR(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=yR(l,n);return i(l,u),u}return function(){return o(wR.apply(null,arguments))}}const Be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},Ix=/^\[(?:([a-z-]+):)?(.+)\]$/i,_R=/^\d+\/\d+$/,SR=new Set(["px","full","screen"]),kR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ER=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wr=e=>ss(e)||SR.has(e)||_R.test(e),Jr=e=>Vs(e,"length",jR),ss=e=>!!e&&!Number.isNaN(Number(e)),np=e=>Vs(e,"number",ss),na=e=>!!e&&Number.isInteger(Number(e)),AR=e=>e.endsWith("%")&&ss(e.slice(0,-1)),pe=e=>Ix.test(e),Gr=e=>kR.test(e),PR=new Set(["length","size","percentage"]),MR=e=>Vs(e,PR,Rx),OR=e=>Vs(e,"position",Rx),IR=new Set(["image","url"]),RR=e=>Vs(e,IR,LR),NR=e=>Vs(e,"",DR),ra=()=>!0,Vs=(e,t,n)=>{const r=Ix.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},jR=e=>xR.test(e)&&!TR.test(e),Rx=()=>!1,DR=e=>ER.test(e),LR=e=>CR.test(e),$R=()=>{const e=Be("colors"),t=Be("spacing"),n=Be("blur"),r=Be("brightness"),i=Be("borderColor"),o=Be("borderRadius"),s=Be("borderSpacing"),a=Be("borderWidth"),l=Be("contrast"),c=Be("grayscale"),u=Be("hueRotate"),d=Be("invert"),p=Be("gap"),h=Be("gradientColorStops"),m=Be("gradientColorStopPositions"),v=Be("inset"),S=Be("margin"),g=Be("opacity"),b=Be("padding"),_=Be("saturate"),x=Be("scale"),k=Be("sepia"),T=Be("skew"),C=Be("space"),P=Be("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",pe,t],z=()=>[pe,t],B=()=>["",wr,Jr],ne=()=>["auto",ss,pe],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",pe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[ss,pe];return{cacheSize:500,separator:":",theme:{colors:[ra],spacing:[wr,Jr],blur:["none","",Gr,pe],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Gr,pe],borderSpacing:z(),borderWidth:B(),contrast:Z(),grayscale:q(),hueRotate:Z(),invert:q(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[AR,Jr],inset:H(),margin:H(),opacity:Z(),padding:z(),saturate:Z(),scale:Z(),sepia:q(),skew:Z(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Gr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),pe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",na,pe]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",na,pe]}],"grid-cols":[{"grid-cols":[ra]}],"col-start-end":[{col:["auto",{span:["full",na,pe]},pe]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[ra]}],"row-start-end":[{row:["auto",{span:[na,pe]},pe]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[Gr]},Gr]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",np]}],"font-family":[{font:[ra]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",ss,np]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,Jr]}],"underline-offset":[{"underline-offset":["auto",wr,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),OR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:me()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[wr,pe]}],"outline-w":[{outline:[wr,Jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[wr,Jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gr,NR]}],"shadow-color":[{shadow:[ra]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Gr,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[na,pe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wr,Jr,np]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Nx=bR($R);function fo(...e){return Nx(yv(e))}const FR=aR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),Pn=A.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?Cx:"button";return O.jsx(s,{className:fo(FR({variant:t,size:n,className:e})),ref:o,...i})});Pn.displayName="Button";/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>A.createElement("svg",{ref:l,...zR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jx("lucide",i),...a},[...s.map(([c,u])=>A.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(e,t)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(BR,{ref:o,iconNode:t,className:jx(`lucide-${VR(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=Dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=Dt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=Dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=Dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=Dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=Dt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=Dt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=Dt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=Dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=Dt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=Dt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Dt("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Dt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dx=()=>{mt(zu);const[,e]=mt(eR);return O.jsxs(Pn,{variant:"outline",size:"icon",onClick:e,className:"relative border-border/30 bg-background/50 hover:bg-primary/10 hover:border-primary/50",children:[O.jsx(XR,{className:"size-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),O.jsx(ZR,{className:"absolute size-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),O.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},iN=A.memo(()=>{const[e]=mt(os),[,t]=mt(QI);return O.jsx("header",{className:"glass-effect border-b border-border/30 p-4",children:O.jsxs("div",{className:"flex w-full items-center justify-between",children:[O.jsx("div",{className:"flex items-center",children:O.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"header-logo-large"})}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx(Dx,{}),e.user&&O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-secondary/50 border border-border/30",children:[O.jsx(eN,{className:"size-4 text-primary"}),O.jsx("span",{className:"text-sm font-medium",children:e.user.name})]}),O.jsx(Pn,{variant:"outline",size:"icon",onClick:t,className:"border-border/30 hover:bg-destructive hover:text-destructive-foreground hover:border-destructive",children:O.jsx(HR,{className:"size-4"})})]})]})]})})}),oN=()=>O.jsx("footer",{className:"flex w-full items-center justify-center p-4",children:O.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[O.jsx("span",{children:"Made with"}),O.jsx(UR,{className:"size-4 text-primary fill-primary"}),O.jsx("span",{children:"by Murphy's Kitchen"})]})}),Bu=A.forwardRef(({className:e,type:t,...n},r)=>O.jsx("input",{type:t,className:fo("flex h-11 w-full rounded-xl border border-input bg-background px-4 py-2 text-sm shadow-sm transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 hover:border-primary/50",e),ref:r,...n}));Bu.displayName="Input";const sN=()=>{const[,e]=mt(YI),[t,n]=A.useState(""),[r,i]=A.useState(""),[o,s]=A.useState(!1),[a,l]=A.useState(""),c=async u=>{u.preventDefault(),s(!0),l("");const d=await e({email:t,password:r});d.success||l(d.error||"Login failed"),s(!1)};return O.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-6 relative overflow-hidden",children:[O.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary/5 rounded-full blur-xl animate-pulse"}),O.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-accent/5 rounded-full blur-xl animate-pulse delay-1000"}),O.jsx("div",{className:"absolute top-1/2 right-10 w-16 h-16 bg-secondary/10 rounded-full blur-lg animate-pulse delay-500"}),O.jsx("div",{className:"absolute top-6 right-6 z-10",children:O.jsx(Dx,{})}),O.jsx("div",{className:"w-full max-w-md relative z-10",children:O.jsx("div",{className:"glass-effect rounded-2xl p-8 shadow-2xl border border-border/50",children:O.jsxs("div",{className:"space-y-8",children:[O.jsxs("div",{className:"text-center space-y-4",children:[O.jsxs("div",{className:"flex flex-col items-center gap-4",children:[O.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"size-64 object-contain"}),O.jsx("p",{className:"text-sm text-muted-foreground italic font-medium",children:"Anything can be cooked will be cooked"})]}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Welcome Back"}),O.jsx("p",{className:"text-muted-foreground",children:"Sign in to start cooking with AI"})]})]}),O.jsxs("form",{onSubmit:c,className:"space-y-6",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"relative",children:[O.jsx(KR,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),O.jsx(Bu,{type:"email",placeholder:"Email address",value:t,onChange:u=>n(u.target.value),className:"pl-12 h-12 bg-background/50 border-border/50 focus:bg-background",required:!0})]}),O.jsxs("div",{className:"relative",children:[O.jsx(WR,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),O.jsx(Bu,{type:"password",placeholder:"Password",value:r,onChange:u=>i(u.target.value),className:"pl-12 h-12 bg-background/50 border-border/50 focus:bg-background",required:!0})]})]}),a&&O.jsx("div",{className:"p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:O.jsx("p",{className:"text-sm text-destructive font-medium",children:a})}),O.jsx(Pn,{type:"submit",disabled:o,className:"w-full h-12 text-base font-semibold",size:"lg",children:o?O.jsxs(O.Fragment,{children:[O.jsx(qR,{className:"size-4 animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),O.jsx("div",{className:"text-center",children:O.jsx("p",{className:"text-sm text-muted-foreground",children:"Demo credentials: Any email and password"})})]})})})]})},aN=()=>{const e=localStorage.getItem("tavus-settings");return e?JSON.parse(e):{name:"",language:"en",interruptSensitivity:"medium",greeting:"",context:"",persona:"pcd2c84e5c66"}},lN=ee(aN());ee(!1);const cN=async e=>{const t=_x().get(lN);console.log("Creating conversation with settings:",t),console.log("Greeting value:",t.greeting),console.log("Context value:",t.context);let n="";t.name&&(n=`You are talking with the user, ${t.name}. Additional context: `),n+=t.context||"";let r=`Hello ${t.name}, I am Murphy, your kitchen assistant. What dish should I help you with?`;const i={persona_id:t.persona||"pcd2c84e5c66",custom_greeting:r,conversational_context:n};console.log("Sending payload to API:",i);const o=await fetch("https://tavusapi.com/v2/conversations",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e??""},body:JSON.stringify(i)});if(!(o!=null&&o.ok))throw new Error(`HTTP error! status: ${o.status}`);return await o.json()},uN=async(e,t)=>{try{if(!(await fetch(`https://tavusapi.com/v2/conversations/${t}/end`,{method:"POST",headers:{"x-api-key":e??""}})).ok)throw new Error("Failed to end conversation");return null}catch(n){throw console.error("Error:",n),n}};let Lx=class extends HTMLElement{constructor(){super();Wt(this,"_propsToUpgrade",{});Wt(this,"shadow");Wt(this,"template");Wt(this,"defaultProps");Wt(this,"isAttached",!1);this.shadow=this.attachShadow({mode:"open"}),this.template=document.createElement("template")}storePropsToUpgrade(n){n.forEach(r=>{this.hasOwnProperty(r)&&this[r]!==void 0&&(this._propsToUpgrade[r]=this[r],delete this[r])})}upgradeStoredProps(){Object.entries(this._propsToUpgrade).forEach(([n,r])=>{this.setAttribute(n,r)})}reflect(n){n.forEach(r=>{Object.defineProperty(this,r,{set(i){"string,number".includes(typeof i)?this.setAttribute(r,i.toString()):this.removeAttribute(r)},get(){return this.getAttribute(r)}})})}applyDefaultProps(n){this.defaultProps=n,Object.entries(n).forEach(([r,i])=>{this[r]=this[r]||i.toString()})}};var aw=':host{align-items:center;display:inline-flex;flex-shrink:0;height:calc(var(--uib-size)*.8);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{--uib-dot-size:calc(var(--uib-size)*0.1);height:calc(var(--uib-size)*.64);position:relative;width:calc(var(--uib-size)*.64)}.container,.dot{align-items:center;display:flex;justify-content:flex-start}.dot{--uib-d1:-0.48;--uib-d2:-0.4;--uib-d3:-0.32;--uib-d4:-0.24;--uib-d5:-0.16;--uib-d6:-0.08;--uib-d7:-0;animation:jump var(--uib-speed) ease-in-out infinite;backface-visibility:hidden;bottom:calc(var(--uib-bottom) + var(--uib-dot-size)/2);height:var(--uib-dot-size);opacity:var(--uib-scale);position:absolute;right:calc(var(--uib-right) + var(--uib-dot-size)/2);width:var(--uib-dot-size);will-change:transform}.dot:before{background-color:var(--uib-color);border-radius:50%;content:"";height:100%;transform:scale(var(--uib-scale));transition:background-color .3s ease;width:100%}.dot:first-child{--uib-bottom:24%;--uib-right:-35%;animation-delay:calc(var(--uib-speed)*var(--uib-d1))}.dot:nth-child(2){--uib-bottom:16%;--uib-right:-6%;animation-delay:calc(var(--uib-speed)*var(--uib-d2))}.dot:nth-child(3){--uib-bottom:8%;--uib-right:23%;animation-delay:calc(var(--uib-speed)*var(--uib-d3))}.dot:nth-child(4){--uib-bottom:-1%;--uib-right:51%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(5){--uib-bottom:38%;--uib-right:-17.5%;animation-delay:calc(var(--uib-speed)*var(--uib-d2))}.dot:nth-child(6){--uib-bottom:30%;--uib-right:10%;animation-delay:calc(var(--uib-speed)*var(--uib-d3))}.dot:nth-child(7){--uib-bottom:22%;--uib-right:39%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(8){--uib-bottom:14%;--uib-right:67%;animation-delay:calc(var(--uib-speed)*var(--uib-d5))}.dot:nth-child(9){--uib-bottom:53%;--uib-right:-0.8%;animation-delay:calc(var(--uib-speed)*var(--uib-d3))}.dot:nth-child(10){--uib-bottom:44.5%;--uib-right:27%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(11){--uib-bottom:36%;--uib-right:55.7%;animation-delay:calc(var(--uib-speed)*var(--uib-d5))}.dot:nth-child(12){--uib-bottom:28.7%;--uib-right:84.3%;animation-delay:calc(var(--uib-speed)*var(--uib-d6))}.dot:nth-child(13){--uib-bottom:66.8%;--uib-right:15%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(14){--uib-bottom:58.8%;--uib-right:43%;animation-delay:calc(var(--uib-speed)*var(--uib-d5))}.dot:nth-child(15){--uib-bottom:50%;--uib-right:72%;animation-delay:calc(var(--uib-speed)*var(--uib-d6))}.dot:nth-child(16){--uib-bottom:42%;--uib-right:100%;animation-delay:calc(var(--uib-speed)*var(--uib-d7))}.dot:nth-child(3){--uib-scale:0.98}.dot:nth-child(2),.dot:nth-child(8){--uib-scale:0.96}.dot:first-child,.dot:nth-child(7){--uib-scale:0.94}.dot:nth-child(12),.dot:nth-child(6){--uib-scale:0.92}.dot:nth-child(11),.dot:nth-child(5){--uib-scale:0.9}.dot:nth-child(10),.dot:nth-child(16){--uib-scale:0.88}.dot:nth-child(15),.dot:nth-child(9){--uib-scale:0.86}.dot:nth-child(14){--uib-scale:0.84}.dot:nth-child(13){--uib-scale:0.82}@keyframes jump{0%,to{transform:translateY(120%)}50%{transform:translateY(-120%)}}';let lw=class extends Lx{constructor(){super();Wt(this,"_attributes",["size","color","speed"]);Wt(this,"size");Wt(this,"color");Wt(this,"speed");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:60,color:"black",speed:1.5}),this.template.innerHTML=`
      <div class="container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
        }
        ${aw}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const n=this.shadow.querySelector("style");n&&(n.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
      }
      ${aw}
    `)}};var dN={register:(e="l-grid")=>{customElements.get(e)||customElements.define(e,class extends lw{})},element:lw},cw=':host{align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-size);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{animation:rotate calc(var(--uib-speed)*4) linear infinite;height:var(--uib-size);position:relative;width:var(--uib-size)}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.particle{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.particle:first-child{--uib-delay:0;transform:rotate(8deg)}.particle:nth-child(2){--uib-delay:-0.4;transform:rotate(36deg)}.particle:nth-child(3){--uib-delay:-0.9;transform:rotate(72deg)}.particle:nth-child(4){--uib-delay:-0.5;transform:rotate(90deg)}.particle:nth-child(5){--uib-delay:-0.3;transform:rotate(144deg)}.particle:nth-child(6){--uib-delay:-0.2;transform:rotate(180deg)}.particle:nth-child(7){--uib-delay:-0.6;transform:rotate(216deg)}.particle:nth-child(8){--uib-delay:-0.7;transform:rotate(252deg)}.particle:nth-child(9){--uib-delay:-0.1;transform:rotate(300deg)}.particle:nth-child(10){--uib-delay:-0.8;transform:rotate(324deg)}.particle:nth-child(11){--uib-delay:-1.2;transform:rotate(335deg)}.particle:nth-child(12){--uib-delay:-0.5;transform:rotate(290deg)}.particle:nth-child(13){--uib-delay:-0.2;transform:rotate(240deg)}.particle:before{--uib-d:calc(var(--uib-delay)*var(--uib-speed));animation:orbit var(--uib-speed) linear var(--uib-d) infinite;background-color:var(--uib-color);border-radius:50%;content:"";flex-shrink:0;height:17.5%;position:absolute;transition:background-color .3s ease;width:17.5%}@keyframes orbit{0%{opacity:.65;transform:translate(calc(var(--uib-size)*.5)) scale(.73684)}5%{opacity:.58;transform:translate(calc(var(--uib-size)*.4)) scale(.684208)}10%{opacity:.51;transform:translate(calc(var(--uib-size)*.3)) scale(.631576)}15%{opacity:.44;transform:translate(calc(var(--uib-size)*.2)) scale(.578944)}20%{opacity:.37;transform:translate(calc(var(--uib-size)*.1)) scale(.526312)}25%{opacity:.3;transform:translate(0) scale(.47368)}30%{opacity:.37;transform:translate(calc(var(--uib-size)*-.1)) scale(.526312)}35%{opacity:.44;transform:translate(calc(var(--uib-size)*-.2)) scale(.578944)}40%{opacity:.51;transform:translate(calc(var(--uib-size)*-.3)) scale(.631576)}45%{opacity:.58;transform:translate(calc(var(--uib-size)*-.4)) scale(.684208)}50%{opacity:.65;transform:translate(calc(var(--uib-size)*-.5)) scale(.73684)}55%{opacity:.72;transform:translate(calc(var(--uib-size)*-.4)) scale(.789472)}60%{opacity:.79;transform:translate(calc(var(--uib-size)*-.3)) scale(.842104)}65%{opacity:.86;transform:translate(calc(var(--uib-size)*-.2)) scale(.894736)}70%{opacity:.93;transform:translate(calc(var(--uib-size)*-.1)) scale(.947368)}75%{opacity:1;transform:translate(0) scale(1)}80%{opacity:.93;transform:translate(calc(var(--uib-size)*.1)) scale(.947368)}85%{opacity:.86;transform:translate(calc(var(--uib-size)*.2)) scale(.894736)}90%{opacity:.79;transform:translate(calc(var(--uib-size)*.3)) scale(.842104)}95%{opacity:.72;transform:translate(calc(var(--uib-size)*.4)) scale(.789472)}to{opacity:.65;transform:translate(calc(var(--uib-size)*.5)) scale(.73684)}}';let uw=class extends Lx{constructor(){super();Wt(this,"_attributes",["size","color","speed"]);Wt(this,"size");Wt(this,"color");Wt(this,"speed");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:45,color:"black",speed:1.75}),this.template.innerHTML=`
      <div class="container">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
        }
        ${cw}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const n=this.shadow.querySelector("style");n&&(n.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
      }
      ${cw}
    `)}};var Hl={register:(e="l-quantum")=>{customElements.get(e)||customElements.define(e,class extends uw{})},element:uw};Hl.register();/*! js-cookie v3.0.5 | MIT */function Tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var fN={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Hh(e,t){function n(i,o,s){if(!(typeof document>"u")){s=Tc({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var l=o[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(s[u]=e.read(c,u),i===u)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",Tc({},o,{expires:-1}))},withAttributes:function(i){return Hh(this.converter,Tc({},this.attributes,i))},withConverter:function(i){return Hh(Tc({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}Hh(fN,{path:"/"});function Uu(...e){return Nx(yv(e))}function pN(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function qd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Kh=e=>Array.isArray(e);function $x(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function il(e){return typeof e=="string"||Array.isArray(e)}function dw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function bv(e,t,n,r){if(typeof t=="function"){const[i,o]=dw(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=dw(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function Wd(e,t,n){const r=e.getProps();return bv(r,t,n!==void 0?n:r.custom,e)}const _v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sv=["initial",..._v],Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],To=new Set(Kl),Ir=e=>e*1e3,Rr=e=>e/1e3,hN={type:"spring",stiffness:500,damping:25,restSpeed:10},mN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),gN={type:"keyframes",duration:.8},vN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yN=(e,{keyframes:t})=>t.length>2?gN:To.has(e)?e.startsWith("scale")?mN(t[1]):hN:vN;function kv(e,t){return e?e[t]||e.default||e:void 0}const wN={skipAnimations:!1,useManualTiming:!1},bN=e=>e!==null;function Hd(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(bN),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const cn=e=>e;let Jh=cn;function _N(e){let t=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(c){o.has(c)&&(l.schedule(c),e()),c(s)}const l={schedule:(c,u=!1,d=!1)=>{const h=d&&r?t:n;return u&&o.add(c),h.has(c)||h.add(c),c},cancel:c=>{n.delete(c),o.delete(c)},process:c=>{if(s=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Ec=["read","resolveKeyframes","update","preRender","render","postRender"],SN=40;function Fx(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Ec.reduce((g,b)=>(g[b]=_N(o),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=s,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,SN),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},m=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:Ec.reduce((g,b)=>{const _=s[b];return g[b]=(x,k=!1,T=!1)=>(n||m(),_.schedule(x,k,T)),g},{}),cancel:g=>{for(let b=0;b<Ec.length;b++)s[Ec[b]].cancel(g)},state:i,steps:s}}const{schedule:We,cancel:wi,state:wt,steps:ip}=Fx(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),Vx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,kN=1e-7,xN=12;function TN(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=Vx(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>kN&&++a<xN);return s}function Jl(e,t,n,r){if(e===t&&n===r)return cn;const i=o=>TN(o,0,1,e,n);return o=>o===0||o===1?o:Vx(i(o),t,r)}const zx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Bx=e=>t=>1-e(1-t),Ux=Jl(.33,1.53,.69,.99),xv=Bx(Ux),qx=zx(xv),Wx=e=>(e*=2)<1?.5*xv(e):.5*(2-Math.pow(2,-10*(e-1))),Tv=e=>1-Math.sin(Math.acos(e)),Hx=Bx(Tv),Kx=zx(Tv),Jx=e=>/^0[^.\s]+$/u.test(e);function EN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Jx(e):!0}const Gx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Zx=e=>t=>typeof t=="string"&&t.startsWith(e),Yx=Zx("--"),CN=Zx("var(--"),Ev=e=>CN(e)?AN.test(e.split("/*")[0].trim()):!1,AN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,PN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MN(e){const t=PN.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Qx(e,t,n=1){const[r,i]=MN(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return Gx(s)?parseFloat(s):s}return Ev(i)?Qx(i,t,n+1):i}const Fr=(e,t,n)=>n>t?t:n<e?e:n,zs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ol={...zs,transform:e=>Fr(0,1,e)},Cc={...zs,default:1},Gl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=Gl("deg"),hr=Gl("%"),re=Gl("px"),ON=Gl("vh"),IN=Gl("vw"),fw={...hr,parse:e=>hr.parse(e)/100,transform:e=>hr.transform(e*100)},RN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pw=e=>e===zs||e===re,hw=(e,t)=>parseFloat(e.split(", ")[t]),mw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return hw(i[1],t);{const o=r.match(/^matrix\((.+)\)$/u);return o?hw(o[1],e):0}},NN=new Set(["x","y","z"]),jN=Kl.filter(e=>!NN.has(e));function DN(e){const t=[];return jN.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const vs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:mw(4,13),y:mw(5,14)};vs.translateX=vs.x;vs.translateY=vs.y;const Xx=e=>t=>t.test(e),LN={test:e=>e==="auto",parse:e=>e},eT=[zs,re,hr,Yr,IN,ON,LN],gw=e=>eT.find(Xx(e)),ro=new Set;let Gh=!1,Zh=!1;function tT(){if(Zh){const e=Array.from(ro).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=DN(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zh=!1,Gh=!1,ro.forEach(e=>e.complete()),ro.clear()}function nT(){ro.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zh=!0)})}function $N(){nT(),tT()}class Cv{constructor(t,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ro.add(this),Gh||(Gh=!0,We.read(nT),We.resolveKeyframes(tT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ro.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ro.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ia=e=>Math.round(e*1e5)/1e5,Av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FN(e){return e==null}const VN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pv=(e,t)=>n=>!!(typeof n=="string"&&VN.test(n)&&n.startsWith(e)||t&&!FN(n)&&Object.prototype.hasOwnProperty.call(n,t)),rT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(Av);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},zN=e=>Fr(0,255,e),op={...zs,transform:e=>Math.round(zN(e))},Ji={test:Pv("rgb","red"),parse:rT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+op.transform(e)+", "+op.transform(t)+", "+op.transform(n)+", "+Ia(ol.transform(r))+")"};function BN(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yh={test:Pv("#"),parse:BN,transform:Ji.transform},Ho={test:Pv("hsl","hue"),parse:rT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+hr.transform(Ia(t))+", "+hr.transform(Ia(n))+", "+Ia(ol.transform(r))+")"},Et={test:e=>Ji.test(e)||Yh.test(e)||Ho.test(e),parse:e=>Ji.test(e)?Ji.parse(e):Ho.test(e)?Ho.parse(e):Yh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ji.transform(e):Ho.transform(e)},UN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Av))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(UN))===null||n===void 0?void 0:n.length)||0)>0}const iT="number",oT="color",WN="var",HN="var(",vw="${}",KN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sl(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(KN,l=>(Et.test(l)?(r.color.push(o),i.push(oT),n.push(Et.parse(l))):l.startsWith(HN)?(r.var.push(o),i.push(WN),n.push(l)):(r.number.push(o),i.push(iT),n.push(parseFloat(l))),++o,vw)).split(vw);return{values:n,split:a,indexes:r,types:i}}function sT(e){return sl(e).values}function aT(e){const{split:t,types:n}=sl(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===iT?o+=Ia(i[s]):a===oT?o+=Et.transform(i[s]):o+=i[s]}return o}}const JN=e=>typeof e=="number"?0:e;function GN(e){const t=sT(e);return aT(e)(t.map(JN))}const bi={test:qN,parse:sT,createTransformer:aT,getAnimatableNone:GN},ZN=new Set(["brightness","contrast","saturate","opacity"]);function YN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Av)||[];if(!r)return e;const i=n.replace(r,"");let o=ZN.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const QN=/\b([a-z-]*)\(.*?\)/gu,Qh={...bi,getAnimatableNone:e=>{const t=e.match(QN);return t?t.map(YN).join(" "):e}},XN={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},ej={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Cc,scaleX:Cc,scaleY:Cc,scaleZ:Cc,skew:Yr,skewX:Yr,skewY:Yr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:ol,originX:fw,originY:fw,originZ:re},yw={...zs,transform:Math.round},Mv={...XN,...ej,zIndex:yw,size:re,fillOpacity:ol,strokeOpacity:ol,numOctaves:yw},tj={...Mv,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Qh,WebkitFilter:Qh},Ov=e=>tj[e];function lT(e,t){let n=Ov(e);return n!==Qh&&(n=bi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nj=new Set(["auto","none","0"]);function rj(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!nj.has(o)&&sl(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=lT(n,i)}class cT extends Cv{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Ev(c))){const u=Qx(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!RN.has(r)||t.length!==2)return;const[i,o]=t,s=gw(i),a=gw(o);if(s!==a)if(pw(s)&&pw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)EN(t[i])&&r.push(i);r.length&&rj(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=vs[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Iv(e){return typeof e=="function"}let ru;function ij(){ru=void 0}const mr={now:()=>(ru===void 0&&mr.set(wt.isProcessing||wN.useManualTiming?wt.timestamp:performance.now()),ru),set:e=>{ru=e,queueMicrotask(ij)}},ww=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bi.test(e)||e==="0")&&!e.startsWith("url("));function oj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function sj(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=ww(i,t),a=ww(o,t);return!s||!a?!1:oj(e)||(n==="spring"||Iv(n))&&r}const aj=40;class uT{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mr.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$N(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!sj(t,r,i,o))if(s)this.options.duration=0;else{l==null||l(Hd(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ys=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},dT=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=e(ys(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function fT(e,t){return t?e*(1e3/t):0}const lj=5;function pT(e,t,n){const r=Math.max(t-lj,0);return fT(n-e(r),t-r)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function cj({duration:e=et.duration,bounce:t=et.bounce,velocity:n=et.velocity,mass:r=et.mass}){let i,o,s=1-t;s=Fr(et.minDamping,et.maxDamping,s),e=Fr(et.minDuration,et.maxDuration,Rr(e)),s<1?(i=c=>{const u=c*s,d=u*e,p=u-n,h=Xh(c,s),m=Math.exp(-d);return sp-p/h*m},o=c=>{const d=c*s*e,p=d*n+n,h=Math.pow(s,2)*Math.pow(c,2)*e,m=Math.exp(-d),v=Xh(Math.pow(c,2),s);return(-i(c)+sp>0?-1:1)*((p-h)*m)/v}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-sp+u*d},o=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=dj(i,o,a);if(e=Ir(e),isNaN(l))return{stiffness:et.stiffness,damping:et.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:e}}}const uj=12;function dj(e,t,n){let r=n;for(let i=1;i<uj;i++)r=r-e(r)/t(r);return r}function Xh(e,t){return e*Math.sqrt(1-t*t)}const em=2e4;function hT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<em;)t+=n,r=e.next(t);return t>=em?1/0:t}const fj=["duration","bounce"],pj=["stiffness","damping","mass"];function bw(e,t){return t.some(n=>e[n]!==void 0)}function hj(e){let t={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...e};if(!bw(e,pj)&&bw(e,fj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Fr(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:et.mass,stiffness:i,damping:o}}else{const n=cj(e);t={...t,...n,mass:et.mass},t.isResolvedFromDuration=!0}return t}function mT(e=et.visualDuration,t=et.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:h}=hj({...n,velocity:-Rr(n.velocity||0)}),m=p||0,v=c/(2*Math.sqrt(l*u)),S=s-o,g=Rr(Math.sqrt(l/u)),b=Math.abs(S)<5;r||(r=b?et.restSpeed.granular:et.restSpeed.default),i||(i=b?et.restDelta.granular:et.restDelta.default);let _;if(v<1){const k=Xh(g,v);_=T=>{const C=Math.exp(-v*g*T);return s-C*((m+v*g*S)/k*Math.sin(k*T)+S*Math.cos(k*T))}}else if(v===1)_=k=>s-Math.exp(-g*k)*(S+(m+g*S)*k);else{const k=g*Math.sqrt(v*v-1);_=T=>{const C=Math.exp(-v*g*T),P=Math.min(k*T,300);return s-C*((m+v*g*S)*Math.sinh(P)+k*S*Math.cosh(P))/k}}const x={calculatedDuration:h&&d||null,next:k=>{const T=_(k);if(h)a.done=k>=d;else{let C=0;v<1&&(C=k===0?Ir(m):pT(_,k,T));const P=Math.abs(C)<=r,I=Math.abs(s-T)<=i;a.done=P&&I}return a.value=a.done?s:T,a},toString:()=>{const k=Math.min(hT(x),em),T=dT(C=>x.next(k*C).value,k,30);return k+"ms "+T}};return x}function _w({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],p={done:!1,value:d},h=P=>a!==void 0&&P<a||l!==void 0&&P>l,m=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let v=n*t;const S=d+v,g=s===void 0?S:s(S);g!==S&&(v=g-d);const b=P=>-v*Math.exp(-P/r),_=P=>g+b(P),x=P=>{const I=b(P),N=_(P);p.done=Math.abs(I)<=c,p.value=p.done?g:N};let k,T;const C=P=>{h(p.value)&&(k=P,T=mT({keyframes:[p.value,m(p.value)],velocity:pT(_,P,p.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:P=>{let I=!1;return!T&&k===void 0&&(I=!0,x(P),C(P)),k!==void 0&&P>=k?T.next(P-k):(!I&&x(P),p)}}}const mj=Jl(.42,0,1,1),gj=Jl(0,0,.58,1),gT=Jl(.42,0,.58,1),vj=e=>Array.isArray(e)&&typeof e[0]!="number",Rv=e=>Array.isArray(e)&&typeof e[0]=="number",Sw={linear:cn,easeIn:mj,easeInOut:gT,easeOut:gj,circIn:Tv,circInOut:Kx,circOut:Hx,backIn:xv,backInOut:qx,backOut:Ux,anticipate:Wx},kw=e=>{if(Rv(e)){Jh(e.length===4);const[t,n,r,i]=e;return Jl(t,n,r,i)}else if(typeof e=="string")return Jh(Sw[e]!==void 0),Sw[e];return e},yj=(e,t)=>n=>t(e(n)),Zl=(...e)=>e.reduce(yj),Ye=(e,t,n)=>e+(t-e)*n;function ap(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=ap(l,a,e+1/3),o=ap(l,a,e),s=ap(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function qu(e,t){return n=>n>0?t:e}const lp=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},bj=[Yh,Ji,Ho],_j=e=>bj.find(t=>t.test(e));function xw(e){const t=_j(e);if(!t)return!1;let n=t.parse(e);return t===Ho&&(n=wj(n)),n}const Tw=(e,t)=>{const n=xw(e),r=xw(t);if(!n||!r)return qu(e,t);const i={...n};return o=>(i.red=lp(n.red,r.red,o),i.green=lp(n.green,r.green,o),i.blue=lp(n.blue,r.blue,o),i.alpha=Ye(n.alpha,r.alpha,o),Ji.transform(i))},tm=new Set(["none","hidden"]);function Sj(e,t){return tm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function kj(e,t){return n=>Ye(e,t,n)}function Nv(e){return typeof e=="number"?kj:typeof e=="string"?Ev(e)?qu:Et.test(e)?Tw:Ej:Array.isArray(e)?vT:typeof e=="object"?Et.test(e)?Tw:xj:qu}function vT(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>Nv(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function xj(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Nv(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function Tj(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const s=t.types[o],a=e.indexes[s][i[s]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[o]=l,i[s]++}return r}const Ej=(e,t)=>{const n=bi.createTransformer(t),r=sl(e),i=sl(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?tm.has(e)&&!i.values.length||tm.has(t)&&!r.values.length?Sj(e,t):Zl(vT(Tj(r,i),i.values),n):qu(e,t)};function yT(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ye(e,t,n):Nv(e)(e,t)}function Cj(e,t,n){const r=[],i=n||yT,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||cn:t;a=Zl(l,a)}r.push(a)}return r}function Aj(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(Jh(o===t.length),o===1)return()=>t[0];if(o===2&&e[0]===e[1])return()=>t[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Cj(t,r,i),a=s.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=ys(e[u],e[u+1],c);return s[u](d)};return n?c=>l(Fr(e[0],e[o-1],c)):l}function Pj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ys(0,t,r);e.push(Ye(n,1,i))}}function Mj(e){const t=[0];return Pj(t,e.length-1),t}function Oj(e,t){return e.map(n=>n*t)}function Ij(e,t){return e.map(()=>t||gT).splice(0,e.length-1)}function Wu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=vj(r)?r.map(kw):kw(r),o={done:!1,value:t[0]},s=Oj(n&&n.length===t.length?n:Mj(t),e),a=Aj(s,t,{ease:Array.isArray(i)?i:Ij(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const Rj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>We.update(t,!0),stop:()=>wi(t),now:()=>wt.isProcessing?wt.timestamp:mr.now()}},Nj={decay:_w,inertia:_w,tween:Wu,keyframes:Wu,spring:mT},jj=e=>e/100;class jv extends uT{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||Cv,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=Iv(n)?n:Nj[n]||Wu;let l,c;a!==Wu&&typeof t[0]!="number"&&(l=Zl(jj,yT(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});o==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=hT(u));const{calculatedDuration:d}=u,p=d+i,h=p*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return o.next(0);const{delay:p,repeat:h,repeatType:m,repeatDelay:v,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),b=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,x=o;if(h){const P=Math.min(this.currentTime,u)/d;let I=Math.floor(P),N=P%1;!N&&P>=1&&(N=1),N===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(m==="reverse"?(N=1-N,v&&(N-=v/d)):m==="mirror"&&(x=s)),_=Fr(0,1,N)*d}const k=b?{done:!1,value:l[0]}:x.next(_);a&&(k.value=a(k.value));let{done:T}=k;!b&&c!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return C&&i!==void 0&&(k.value=Hd(l,this.options,i)),S&&S(k.value),C&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Rr(t.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(t){t=Ir(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Rj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Dj=new Set(["opacity","clipPath","filter","transform"]);function Dv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Lj={linearEasing:void 0};function $j(e,t){const n=Dv(e);return()=>{var r;return(r=Lj[t])!==null&&r!==void 0?r:n()}}const Hu=$j(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function wT(e){return!!(typeof e=="function"&&Hu()||!e||typeof e=="string"&&(e in nm||Hu())||Rv(e)||Array.isArray(e)&&e.every(wT))}const ga=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,nm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function bT(e,t){if(e)return typeof e=="function"&&Hu()?dT(e,t):Rv(e)?ga(e):Array.isArray(e)?e.map(n=>bT(n,t)||nm.easeOut):nm[e]}function Fj(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=bT(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Ew(e,t){e.timeline=t,e.onfinish=null}const Vj=Dv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ku=10,zj=2e4;function Bj(e){return Iv(e.type)||e.type==="spring"||!wT(e.ease)}function Uj(e,t){const n=new jv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let o=0;for(;!r.done&&o<zj;)r=n.sample(o),i.push(r.value),o+=Ku;return{times:void 0,keyframes:i,duration:o-Ku,ease:"linear"}}const _T={anticipate:Wx,backInOut:qx,circInOut:Kx};function qj(e){return e in _T}class Cw extends uT{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new cT(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:o,ease:s,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof s=="string"&&Hu()&&qj(s)&&(s=_T[s]),Bj(this.options)){const{onComplete:p,onUpdate:h,motionValue:m,element:v,...S}=this.options,g=Uj(t,S);t=g.keyframes,t.length===1&&(t[1]=t[0]),i=g.duration,o=g.times,s=g.ease,a="keyframes"}const d=Fj(l.owner.current,c,t,{...this.options,duration:i,times:o,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Ew(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Hd(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:o,type:a,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Rr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Rr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ir(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return cn;const{animation:r}=n;Ew(r,t)}return cn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...h}=this.options,m=new jv({...h,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),v=Ir(this.time);c.setWithVelocity(m.sample(v-Ku).value,m.sample(v).value,Ku)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=t;return Vj()&&r&&Dj.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const Wj=Dv(()=>window.ScrollTimeline!==void 0);class Hj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>Wj()&&i.attachTimeline?i.attachTimeline(t):n(i));return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Kj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Lv=(e,t,n,r={},i,o)=>s=>{const a=kv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ir(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};Kj(a)||(u={...u,...yN(e,u)}),u.duration&&(u.duration=Ir(u.duration)),u.repeatDelay&&(u.repeatDelay=Ir(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!o&&t.get()!==void 0){const p=Hd(u.keyframes,a);if(p!==void 0)return We.update(()=>{u.onUpdate(p),u.onComplete()}),new Hj([])}return!o&&Cw.supports(u)?new Cw(u):new jv(u)},Jj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Gj=e=>Kh(e)?e[e.length-1]||0:e;function $v(e,t){e.indexOf(t)===-1&&e.push(t)}function Fv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Vv{constructor(){this.subscriptions=[]}add(t){return $v(this.subscriptions,t),()=>Fv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Aw=30,Zj=e=>!isNaN(parseFloat(e));class Yj{constructor(t,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=mr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Zj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Vv);const r=this.events[t].add(n);return t==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Aw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Aw);return fT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(e,t){return new Yj(e,t)}function Qj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,al(n))}function Xj(e,t){const n=Wd(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=Gj(o[s]);Qj(e,s,a)}}const zv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),eD="framerAppearId",ST="data-"+zv(eD);function kT(e){return e.props[ST]}const It=e=>!!(e&&e.getVelocity);function tD(e){return!!(It(e)&&e.add)}function rm(e,t){const n=e.getValue("willChange");if(tD(n))return n.add(t)}function nD({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function xT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(s=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const p=e.getValue(d,(o=e.latestValues[d])!==null&&o!==void 0?o:null),h=l[d];if(h===void 0||u&&nD(u,d))continue;const m={delay:n,...kv(s||{},d)};let v=!1;if(window.MotionHandoffAnimation){const g=kT(e);if(g){const b=window.MotionHandoffAnimation(g,d,We);b!==null&&(m.startTime=b,v=!0)}}rm(e,d),p.start(Lv(d,p,h,e.shouldReduceMotion&&To.has(d)?{type:!1}:m,e,v));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{We.update(()=>{a&&Xj(e,a)})}),c}function im(e,t,n={}){var r;const i=Wd(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(xT(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=o;return rD(e,t,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,u]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(n.delay)])}function rD(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(iD).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(im(c,t,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function iD(e,t){return e.sortNodePosition(t)}function oD(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>im(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=im(e,t,n);else{const i=typeof t=="function"?Wd(e,t,n.custom):t;r=Promise.all(xT(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const sD=Sv.length;function TT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?TT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<sD;n++){const r=Sv[n],i=e.props[r];(il(i)||i===!1)&&(t[r]=i)}return t}const aD=[..._v].reverse(),lD=_v.length;function cD(e){return t=>Promise.all(t.map(({animation:n,options:r})=>oD(e,n,r)))}function uD(e){let t=cD(e),n=Pw(),r=!0;const i=l=>(c,u)=>{var d;const p=Wd(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:h,transitionEnd:m,...v}=p;c={...c,...v,...m}}return c};function o(l){t=l(e)}function s(l){const{props:c}=e,u=TT(e.parent)||{},d=[],p=new Set;let h={},m=1/0;for(let S=0;S<lD;S++){const g=aD[S],b=n[g],_=c[g]!==void 0?c[g]:u[g],x=il(_),k=g===l?b.isActive:null;k===!1&&(m=S);let T=_===u[g]&&_!==c[g]&&x;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...h},!b.isActive&&k===null||!_&&!b.prevProp||qd(_)||typeof _=="boolean")continue;const C=dD(b.prevProp,_);let P=C||g===l&&b.isActive&&!T&&x||S>m&&x,I=!1;const N=Array.isArray(_)?_:[_];let H=N.reduce(i(g),{});k===!1&&(H={});const{prevResolvedValues:z={}}=b,B={...z,...H},ne=ie=>{P=!0,p.has(ie)&&(I=!0,p.delete(ie)),b.needsAnimating[ie]=!0;const j=e.getValue(ie);j&&(j.liveStyle=!1)};for(const ie in B){const j=H[ie],q=z[ie];if(h.hasOwnProperty(ie))continue;let U=!1;Kh(j)&&Kh(q)?U=!$x(j,q):U=j!==q,U?j!=null?ne(ie):p.add(ie):j!==void 0&&p.has(ie)?ne(ie):b.protectedKeys[ie]=!0}b.prevProp=_,b.prevResolvedValues=H,b.isActive&&(h={...h,...H}),r&&e.blockInitialAnimation&&(P=!1),P&&(!(T&&C)||I)&&d.push(...N.map(ie=>({animation:ie,options:{type:g}})))}if(p.size){const S={};p.forEach(g=>{const b=e.getBaseTarget(g),_=e.getValue(g);_&&(_.liveStyle=!0),S[g]=b??null}),d.push({animation:S})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const d=s(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Pw(),r=!0}}}function dD(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$x(t,e):!1}function Ii(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pw(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class Pi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fD extends Pi{constructor(t){super(t),t.animationState||(t.animationState=uD(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pD=0;class hD extends Pi{constructor(){super(...arguments),this.id=pD++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mD={animation:{Feature:fD},exit:{Feature:hD}},Fn={x:!1,y:!1};function ET(){return Fn.x||Fn.y}function gD(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}function CT(e,t){const n=gD(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Mw(e){return t=>{t.pointerType==="touch"||ET()||e(t)}}function vD(e,t,n={}){const[r,i,o]=CT(e,n),s=Mw(a=>{const{target:l}=a,c=t(a);if(!c||!l)return;const u=Mw(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const Bv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,va=new WeakSet;function Ow(e){return t=>{t.key==="Enter"&&e(t)}}function cp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yD=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ow(()=>{if(va.has(n))return;cp(n,"down");const i=Ow(()=>{cp(n,"up")}),o=()=>cp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)},wD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bD(e){return wD.has(e.tagName)||e.tabIndex!==-1}const AT=(e,t)=>t?e===t?!0:AT(e,t.parentElement):!1;function Iw(e){return Bv(e)&&!ET()}function _D(e,t,n={}){const[r,i,o]=CT(e,n),s=a=>{const l=a.currentTarget;if(!Iw(a)||va.has(l))return;va.add(l);const c=t(a),u=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),!(!Iw(h)||!va.has(l))&&(va.delete(l),c&&c(h,{success:m}))},d=h=>{u(h,n.useGlobalTarget||AT(l,h.target))},p=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{bD(a)||(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",c=>yD(c,i),i)}),o}function SD(e){return e==="x"||e==="y"?Fn[e]?null:(Fn[e]=!0,()=>{Fn[e]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function Yl(e){return{point:{x:e.pageX,y:e.pageY}}}const kD=e=>t=>Bv(t)&&e(t,Yl(t));function ll(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ra(e,t,n,r){return ll(e,t,kD(n),r)}const Rw=(e,t)=>Math.abs(e-t);function xD(e,t){const n=Rw(e.x,t.x),r=Rw(e.y,t.y);return Math.sqrt(n**2+r**2)}class PT{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=dp(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=xD(d.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:m}=d,{timestamp:v}=wt;this.history.push({...m,timestamp:v});const{onStart:S,onMove:g}=this.handlers;p||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=up(p,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=dp(d.type==="pointercancel"?this.lastMoveEventInfo:up(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,S),m&&m(d,S)},!Bv(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Yl(t),a=up(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=wt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,dp(a,this.history)),this.removeListeners=Zl(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function up(e,t){return t?{point:t(e.point)}:e}function Nw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function dp({point:e},t){return{point:e,delta:Nw(e,MT(t)),offset:Nw(e,TD(t)),velocity:ED(t,.1)}}function TD(e){return e[0]}function MT(e){return e[e.length-1]}function ED(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=MT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ir(t)));)n--;if(!r)return{x:0,y:0};const o=Rr(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ko(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const OT=1e-4,CD=1-OT,AD=1+OT,IT=.01,PD=0-IT,MD=0+IT;function dn(e){return e.max-e.min}function OD(e,t,n){return Math.abs(e-t)<=n}function jw(e,t,n,r=.5){e.origin=r,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=dn(n)/dn(t),e.translate=Ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=CD&&e.scale<=AD||isNaN(e.scale))&&(e.scale=1),(e.translate>=PD&&e.translate<=MD||isNaN(e.translate))&&(e.translate=0)}function Na(e,t,n,r){jw(e.x,t.x,n.x,r?r.originX:void 0),jw(e.y,t.y,n.y,r?r.originY:void 0)}function Dw(e,t,n){e.min=n.min+t.min,e.max=e.min+dn(t)}function ID(e,t,n){Dw(e.x,t.x,n.x),Dw(e.y,t.y,n.y)}function Lw(e,t,n){e.min=t.min-n.min,e.max=e.min+dn(t)}function ja(e,t,n){Lw(e.x,t.x,n.x),Lw(e.y,t.y,n.y)}function RD(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ye(n,e,r.max):Math.min(e,n)),e}function $w(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ND(e,{top:t,left:n,bottom:r,right:i}){return{x:$w(e.x,n,i),y:$w(e.y,t,r)}}function Fw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function jD(e,t){return{x:Fw(e.x,t.x),y:Fw(e.y,t.y)}}function DD(e,t){let n=.5;const r=dn(e),i=dn(t);return i>r?n=ys(t.min,t.max-r,e.min):r>i&&(n=ys(e.min,e.max-i,t.min)),Fr(0,1,n)}function LD(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const om=.35;function $D(e=om){return e===!1?e=0:e===!0&&(e=om),{x:Vw(e,"left","right"),y:Vw(e,"top","bottom")}}function Vw(e,t,n){return{min:zw(e,t),max:zw(e,n)}}function zw(e,t){return typeof e=="number"?e:e[t]||0}const Bw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jo=()=>({x:Bw(),y:Bw()}),Uw=()=>({min:0,max:0}),rt=()=>({x:Uw(),y:Uw()});function bn(e){return[e("x"),e("y")]}function RT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function FD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fp(e){return e===void 0||e===1}function sm({scale:e,scaleX:t,scaleY:n}){return!fp(e)||!fp(t)||!fp(n)}function Fi(e){return sm(e)||NT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function NT(e){return qw(e.x)||qw(e.y)}function qw(e){return e&&e!=="0%"}function Ju(e,t,n){const r=e-n,i=t*r;return n+i}function Ww(e,t,n,r,i){return i!==void 0&&(e=Ju(e,i,r)),Ju(e,n,r)+t}function am(e,t=0,n=1,r,i){e.min=Ww(e.min,t,n,r,i),e.max=Ww(e.max,t,n,r,i)}function jT(e,{x:t,y:n}){am(e.x,t.translate,t.scale,t.originPoint),am(e.y,n.translate,n.scale,n.originPoint)}const Hw=.999999999999,Kw=1.0000000000001;function zD(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Zo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,jT(e,s)),r&&Fi(o.latestValues)&&Zo(e,o.latestValues))}t.x<Kw&&t.x>Hw&&(t.x=1),t.y<Kw&&t.y>Hw&&(t.y=1)}function Go(e,t){e.min=e.min+t,e.max=e.max+t}function Jw(e,t,n,r,i=.5){const o=Ye(e.min,e.max,i);am(e,t,n,o,r)}function Zo(e,t){Jw(e.x,t.x,t.scaleX,t.scale,t.originX),Jw(e.y,t.y,t.scaleY,t.scale,t.originY)}function DT(e,t){return RT(VD(e.getBoundingClientRect(),t))}function BD(e,t,n){const r=DT(e,n),{scroll:i}=t;return i&&(Go(r.x,i.offset.x),Go(r.y,i.offset.y)),r}const LT=({current:e})=>e?e.ownerDocument.defaultView:null,UD=new WeakMap;class qD{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yl(u).point)},o=(u,d)=>{const{drag:p,dragPropagation:h,onDragStart:m}=this.getProps();if(p&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SD(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(S=>{let g=this.getAxisMotionValue(S).get()||0;if(hr.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[S];_&&(g=dn(_)*(parseFloat(g)/100))}}this.originPoint[S]=g}),m&&We.postRender(()=>m(u,d)),rm(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:m,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=d;if(h&&this.currentDirection===null){this.currentDirection=WD(S),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>bn(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new PT(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:LT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&We.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ac(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=RD(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Ko(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ND(i.layoutBox,n):this.constraints=!1,this.elastic=$D(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=LD(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ko(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=BD(r,i.root,this.visualElement.getTransformPagePoint());let s=jD(i.layout.layoutBox,o);if(n){const a=n(FD(s));this.hasMutatedConstraints=!!a,a&&(s=RT(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=bn(u=>{if(!Ac(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const p=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return rm(this.visualElement,t),r.start(Lv(t,r,0,n,this.visualElement,!1))}stopAnimation(){bn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){bn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){bn(n=>{const{drag:r}=this.getProps();if(!Ac(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-Ye(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ko(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bn(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=DD({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(s=>{if(!Ac(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(Ye(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;UD.set(this.visualElement,this);const t=this.visualElement.current,n=Ra(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ko(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(r);const s=ll(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bn(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=om,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Ac(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function WD(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class HD extends Pi{constructor(t){super(t),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new qD(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Gw=e=>(t,n)=>{e&&We.postRender(()=>e(t,n))};class KD extends Pi{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(t){this.session=new PT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Gw(t),onStart:Gw(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&We.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uv=A.createContext(null);function JD(){const e=A.useContext(Uv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=A.useId();A.useEffect(()=>r(i),[]);const o=A.useCallback(()=>n&&n(i),[i,n]);return!t&&n?[!1,o]:[!0]}const $T=A.createContext({}),FT=A.createContext({}),iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ia={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=Zw(e,t.target.x),r=Zw(e,t.target.y);return`${n}% ${r}%`}},GD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=bi.parse(e);if(i.length>5)return r;const o=bi.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const c=Ye(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}},Gu={};function ZD(e){Object.assign(Gu,e)}const{schedule:qv,cancel:h6}=Fx(queueMicrotask,!1);class YD extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;ZD(QD),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||We.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VT(e){const[t,n]=JD(),r=A.useContext($T);return O.jsx(YD,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(FT),isPresent:t,safeToRemove:n})}const QD={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:GD},zT=["TopLeft","TopRight","BottomLeft","BottomRight"],XD=zT.length,Yw=e=>typeof e=="string"?parseFloat(e):e,Qw=e=>typeof e=="number"||re.test(e);function eL(e,t,n,r,i,o){i?(e.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,tL(r)),e.opacityExit=Ye(t.opacity!==void 0?t.opacity:1,0,nL(r))):o&&(e.opacity=Ye(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<XD;s++){const a=`border${zT[s]}Radius`;let l=Xw(t,a),c=Xw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Qw(l)===Qw(c)?(e[a]=Math.max(Ye(Yw(l),Yw(c),r),0),(hr.test(c)||hr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Ye(t.rotate||0,n.rotate||0,r))}function Xw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const tL=BT(0,.5,Hx),nL=BT(.5,.95,cn);function BT(e,t,n){return r=>r<e?0:r>t?1:n(ys(e,t,r))}function eb(e,t){e.min=t.min,e.max=t.max}function wn(e,t){eb(e.x,t.x),eb(e.y,t.y)}function tb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nb(e,t,n,r,i){return e-=t,e=Ju(e,1/n,r),i!==void 0&&(e=Ju(e,1/i,r)),e}function rL(e,t=0,n=1,r=.5,i,o=e,s=e){if(hr.test(t)&&(t=parseFloat(t),t=Ye(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Ye(o.min,o.max,r);e===o&&(a-=t),e.min=nb(e.min,t,n,a,i),e.max=nb(e.max,t,n,a,i)}function rb(e,t,[n,r,i],o,s){rL(e,t[n],t[r],t[i],t.scale,o,s)}const iL=["x","scaleX","originX"],oL=["y","scaleY","originY"];function ib(e,t,n,r){rb(e.x,t,iL,n?n.x:void 0,r?r.x:void 0),rb(e.y,t,oL,n?n.y:void 0,r?r.y:void 0)}function ob(e){return e.translate===0&&e.scale===1}function UT(e){return ob(e.x)&&ob(e.y)}function sb(e,t){return e.min===t.min&&e.max===t.max}function sL(e,t){return sb(e.x,t.x)&&sb(e.y,t.y)}function ab(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qT(e,t){return ab(e.x,t.x)&&ab(e.y,t.y)}function lb(e){return dn(e.x)/dn(e.y)}function cb(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aL{constructor(){this.members=[]}add(t){$v(this.members,t),t.scheduleRender()}remove(t){if(Fv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lL(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:h,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const cL=(e,t)=>e.depth-t.depth;class uL{constructor(){this.children=[],this.isDirty=!1}add(t){$v(this.children,t),this.isDirty=!0}remove(t){Fv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cL),this.isDirty=!1,this.children.forEach(t)}}function ou(e){const t=It(e)?e.get():e;return Jj(t)?t.toValue():t}function dL(e,t){const n=mr.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(wi(r),e(o-t))};return We.read(r,!0),()=>wi(r)}function fL(e){return e instanceof SVGElement&&e.tagName!=="svg"}function pL(e,t,n){const r=It(e)?e:al(e);return r.start(Lv("",r,t,n)),r.animation}const Vi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ya=typeof window<"u"&&window.MotionDebug!==void 0,pp=["","X","Y","Z"],hL={visibility:"hidden"},ub=1e3;let mL=0;function hp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function WT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=kT(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&WT(r)}function HT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=mL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ya&&(Vi.totalNodes=Vi.resolvedTargetDeltas=Vi.recalculatedProjection=0),this.nodes.forEach(yL),this.nodes.forEach(kL),this.nodes.forEach(xL),this.nodes.forEach(wL),ya&&window.MotionDebug.record(Vi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uL)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Vv),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fL(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=dL(p,250),iu.hasAnimatedSinceResize&&(iu.hasAnimatedSinceResize=!1,this.nodes.forEach(fb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||PL,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=u.getProps(),b=!this.targetLayout||!qT(this.targetLayout,m)||h,_=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const x={...kv(v,"layout"),onPlay:S,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else p||fb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TL),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(db);return}this.isUpdating||this.nodes.forEach(_L),this.isUpdating=!1,this.nodes.forEach(SL),this.nodes.forEach(gL),this.nodes.forEach(vL),this.clearAllSnapshots();const a=mr.now();wt.delta=Fr(0,1e3/60,a-wt.timestamp),wt.timestamp=a,wt.isProcessing=!0,ip.update.process(wt),ip.preRender.process(wt),ip.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bL),this.sharedNodes.forEach(EL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!UT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||Fi(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),ML(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(OL))){const{scroll:u}=this.root;u&&(Go(l.x,u.offset.x),Go(l.y,u.offset.y))}return l}removeElementScroll(s){var a;const l=rt();if(wn(l,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&wn(l,s),Go(l.x,d.offset.x),Go(l.y,d.offset.y))}return l}applyTransform(s,a=!1){const l=rt();wn(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Zo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fi(u.latestValues)&&Zo(l,u.latestValues)}return Fi(this.latestValues)&&Zo(l,this.latestValues),l}removeTransform(s){const a=rt();wn(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fi(c.latestValues))continue;sm(c.latestValues)&&c.updateSnapshot();const u=rt(),d=c.measurePageBox();wn(u,d),ib(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Fi(this.latestValues)&&ib(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ja(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ID(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):wn(this.target,this.layout.layoutBox),jT(this.target,this.targetDelta)):wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ja(this.relativeTargetOrigin,this.target,h.target),wn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ya&&Vi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sm(this.parent.latestValues)||NT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;wn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;zD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tb(this.prevProjectionDelta.x,this.projectionDelta.x),tb(this.prevProjectionDelta.y,this.projectionDelta.y)),Na(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ya&&Vi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Jo(),this.projectionDelta=Jo(),this.projectionDeltaWithTransform=Jo()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Jo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=rt(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=h!==m,S=this.getStack(),g=!S||S.members.length<=1,b=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(AL));this.animationProgress=0;let _;this.mixTargetDelta=x=>{const k=x/1e3;pb(d.x,s.x,k),pb(d.y,s.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ja(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CL(this.relativeTarget,this.relativeTargetOrigin,p,k),_&&sL(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=rt()),wn(_,this.relativeTarget)),v&&(this.animationValues=u,eL(u,c,this.latestValues,k,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{iu.hasAnimatedSinceResize=!0,this.currentAnimation=pL(0,ub,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ub),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&KT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rt();const d=dn(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const p=dn(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}wn(a,l),Zo(a,u),Na(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new aL),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&hp("z",s,c,this.animationValues);for(let u=0;u<pp.length;u++)hp(`rotate${pp[u]}`,s,c,this.animationValues),hp(`skew${pp[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hL;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ou(s==null?void 0:s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ou(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Fi(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=lL(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:h,y:m}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Gu){if(p[v]===void 0)continue;const{correct:S,applyTo:g}=Gu[v],b=c.transform==="none"?p[v]:S(p[v],d);if(g){const _=g.length;for(let x=0;x<_;x++)c[g[x]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=d===this?ou(s==null?void 0:s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(db),this.root.sharedNodes.clear()}}}function gL(e){e.updateLayout()}function vL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=n.source!==e.layout.source;o==="size"?bn(d=>{const p=s?n.measuredBox[d]:n.layoutBox[d],h=dn(p);p.min=r[d].min,p.max=p.min+h}):KT(o,n.layoutBox,r)&&bn(d=>{const p=s?n.measuredBox[d]:n.layoutBox[d],h=dn(r[d]);p.max=p.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=Jo();Na(a,r,n.layoutBox);const l=Jo();s?Na(l,e.applyTransform(i,!0),n.measuredBox):Na(l,r,n.layoutBox);const c=!UT(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:h}=d;if(p&&h){const m=rt();ja(m,n.layoutBox,p.layoutBox);const v=rt();ja(v,r,h.layoutBox),qT(m,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function yL(e){ya&&Vi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bL(e){e.clearSnapshot()}function db(e){e.clearMeasurements()}function _L(e){e.isLayoutDirty=!1}function SL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function fb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kL(e){e.resolveTargetDelta()}function xL(e){e.calcProjection()}function TL(e){e.resetSkewAndRotation()}function EL(e){e.removeLeadSnapshot()}function pb(e,t,n){e.translate=Ye(t.translate,0,n),e.scale=Ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function hb(e,t,n,r){e.min=Ye(t.min,n.min,r),e.max=Ye(t.max,n.max,r)}function CL(e,t,n,r){hb(e.x,t.x,n.x,r),hb(e.y,t.y,n.y,r)}function AL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const PL={duration:.45,ease:[.4,0,.1,1]},mb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),gb=mb("applewebkit/")&&!mb("chrome/")?Math.round:cn;function vb(e){e.min=gb(e.min),e.max=gb(e.max)}function ML(e){vb(e.x),vb(e.y)}function KT(e,t,n){return e==="position"||e==="preserve-aspect"&&!OD(lb(t),lb(n),.2)}function OL(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const IL=HT({attachResizeListener:(e,t)=>ll(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mp={current:void 0},JT=HT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mp.current){const e=new IL({});e.mount(window),e.setOptions({layoutScroll:!0}),mp.current=e}return mp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RL={pan:{Feature:KD},drag:{Feature:HD,ProjectionNode:JT,MeasureLayout:VT}};function yb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&We.postRender(()=>o(t,Yl(t)))}class NL extends Pi{mount(){const{current:t}=this.node;t&&(this.unmount=vD(t,n=>(yb(this.node,n,"Start"),r=>yb(this.node,r,"End"))))}unmount(){}}class jL extends Pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zl(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wb(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&We.postRender(()=>o(t,Yl(t)))}class DL extends Pi{mount(){const{current:t}=this.node;t&&(this.unmount=_D(t,n=>(wb(this.node,n,"Start"),(r,{success:i})=>wb(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lm=new WeakMap,gp=new WeakMap,LL=e=>{const t=lm.get(e.target);t&&t(e)},$L=e=>{e.forEach(LL)};function FL({root:e,...t}){const n=e||document;gp.has(n)||gp.set(n,{});const r=gp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver($L,{root:e,...t})),r[i]}function VL(e,t,n){const r=FL(t);return lm.set(e,n),r.observe(e),()=>{lm.delete(e),r.unobserve(e)}}const zL={some:0,all:1};class BL extends Pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:zL[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return VL(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(UL(t,n))&&this.startObserver()}unmount(){}}function UL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const qL={inView:{Feature:BL},tap:{Feature:DL},focus:{Feature:jL},hover:{Feature:NL}},WL={layout:{ProjectionNode:JT,MeasureLayout:VT}},GT=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Kd=A.createContext({}),Wv=typeof window<"u",HL=Wv?A.useLayoutEffect:A.useEffect,ZT=A.createContext({strict:!1});function KL(e,t,n,r,i){var o,s;const{visualElement:a}=A.useContext(Kd),l=A.useContext(ZT),c=A.useContext(Uv),u=A.useContext(GT).reducedMotion,d=A.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=d.current,h=A.useContext(FT);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&JL(d.current,n,i,h);const m=A.useRef(!1);A.useInsertionEffect(()=>{p&&m.current&&p.update(n,c)});const v=n[ST],S=A.useRef(!!v&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,v))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,v)));return HL(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),qv.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),S.current=!1))}),p}function JL(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:YT(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Ko(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function YT(e){if(e)return e.options.allowProjection!==!1?e.projection:YT(e.parent)}function GL(e,t,n){return A.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ko(n)&&(n.current=r))},[t])}function Jd(e){return qd(e.animate)||Sv.some(t=>il(e[t]))}function QT(e){return!!(Jd(e)||e.variants)}function ZL(e,t){if(Jd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||il(n)?n:void 0,animate:il(r)?r:void 0}}return e.inherit!==!1?t:{}}function YL(e){const{initial:t,animate:n}=ZL(e,A.useContext(Kd));return A.useMemo(()=>({initial:t,animate:n}),[bb(t),bb(n)])}function bb(e){return Array.isArray(e)?e.join(" "):e}const _b={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ws={};for(const e in _b)ws[e]={isEnabled:t=>_b[e].some(n=>!!t[n])};function QL(e){for(const t in e)ws[t]={...ws[t],...e[t]}}const XL=Symbol.for("motionComponentSymbol");function e2({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&QL(e);function o(a,l){let c;const u={...A.useContext(GT),...a,layoutId:t2(a)},{isStatic:d}=u,p=YL(a),h=r(a,d);if(!d&&Wv){n2();const m=r2(u);c=m.MeasureLayout,p.visualElement=KL(i,h,u,t,m.ProjectionNode)}return O.jsxs(Kd.Provider,{value:p,children:[c&&p.visualElement?O.jsx(c,{visualElement:p.visualElement,...u}):null,n(i,a,GL(h,p.visualElement,l),h,d,p.visualElement)]})}const s=A.forwardRef(o);return s[XL]=i,s}function t2({layoutId:e}){const t=A.useContext($T).id;return t&&e!==void 0?t+"-"+e:e}function n2(e,t){A.useContext(ZT).strict}function r2(e){const{drag:t,layout:n}=ws;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const i2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hv(e){return typeof e!="string"||e.includes("-")?!1:!!(i2.indexOf(e)>-1||/[A-Z]/u.test(e))}function XT(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const eE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tE(e,t,n,r){XT(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(eE.has(i)?i:zv(i),t.attrs[i])}function nE(e,{layout:t,layoutId:n}){return To.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gu[e]||e==="opacity")}function Kv(e,t,n){var r;const{style:i}=e,o={};for(const s in i)(It(i[s])||t.style&&It(t.style[s])||nE(s,e)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function rE(e,t,n){const r=Kv(e,t,n);for(const i in e)if(It(e[i])||It(t[i])){const o=Kl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}function o2(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}function s2({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const s={latestValues:a2(r,i,o,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const iE=e=>(t,n)=>{const r=A.useContext(Kd),i=A.useContext(Uv),o=()=>s2(e,t,r,i);return n?o():o2(o)};function a2(e,t,n,r){const i={},o=r(e,{});for(const p in o)i[p]=ou(o[p]);let{initial:s,animate:a}=e;const l=Jd(e),c=QT(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;if(d&&typeof d!="boolean"&&!qd(d)){const p=Array.isArray(d)?d:[d];for(let h=0;h<p.length;h++){const m=bv(e,p[h]);if(m){const{transitionEnd:v,transition:S,...g}=m;for(const b in g){let _=g[b];if(Array.isArray(_)){const x=u?_.length-1:0;_=_[x]}_!==null&&(i[b]=_)}for(const b in v)i[b]=v[b]}}}return i}const Jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),oE=()=>({...Jv(),attrs:{}}),sE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,l2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c2=Kl.length;function u2(e,t,n){let r="",i=!0;for(let o=0;o<c2;o++){const s=Kl[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=sE(a,Mv[s]);if(!l){i=!1;const u=l2[s]||s;r+=`${u}(${c}) `}n&&(t[s]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Gv(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const c=t[l];if(To.has(l)){s=!0;continue}else if(Yx(l)){i[l]=c;continue}else{const u=sE(c,Mv[l]);l.startsWith("origin")?(a=!0,o[l]=u):r[l]=u}}if(t.transform||(s||n?r.transform=u2(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}function Sb(e,t,n){return typeof e=="string"?e:re.transform(t+n*e)}function d2(e,t,n){const r=Sb(t,e.x,e.width),i=Sb(n,e.y,e.height);return`${r} ${i}`}const f2={offset:"stroke-dashoffset",array:"stroke-dasharray"},p2={offset:"strokeDashoffset",array:"strokeDasharray"};function h2(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?f2:p2;e[o.offset]=re.transform(-r);const s=re.transform(t),a=re.transform(n);e[o.array]=`${s} ${a}`}function Zv(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Gv(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:h,dimensions:m}=e;p.transform&&(m&&(h.transform=p.transform),delete p.transform),m&&(i!==void 0||o!==void 0||h.transform)&&(h.transformOrigin=d2(m,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&h2(p,s,a,l,!1)}const Yv=e=>typeof e=="string"&&e.toLowerCase()==="svg",m2={useVisualState:iE({scrapeMotionValuesFromProps:rE,createRenderState:oE,onMount:(e,t,{renderState:n,latestValues:r})=>{We.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),We.render(()=>{Zv(n,r,Yv(t.tagName),e.transformTemplate),tE(t,n)})}})},g2={useVisualState:iE({scrapeMotionValuesFromProps:Kv,createRenderState:Jv})};function aE(e,t,n){for(const r in t)!It(t[r])&&!nE(r,n)&&(e[r]=t[r])}function v2({transformTemplate:e},t){return A.useMemo(()=>{const n=Jv();return Gv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function y2(e,t){const n=e.style||{},r={};return aE(r,n,e),Object.assign(r,v2(e,t)),r}function w2(e,t){const n={},r=y2(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const b2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||b2.has(e)}let lE=e=>!Zu(e);function _2(e){e&&(lE=t=>t.startsWith("on")?!Zu(t):e(t))}try{_2(require("@emotion/is-prop-valid").default)}catch{}function S2(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(lE(i)||n===!0&&Zu(i)||!t&&!Zu(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function k2(e,t,n,r){const i=A.useMemo(()=>{const o=oE();return Zv(o,t,Yv(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};aE(o,e.style,e),i.style={...o,...i.style}}return i}function x2(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(Hv(n)?k2:w2)(r,o,s,n),c=S2(r,typeof n=="string",e),u=n!==A.Fragment?{...c,...l,ref:i}:{},{children:d}=r,p=A.useMemo(()=>It(d)?d.get():d,[d]);return A.createElement(n,{...u,children:p})}}function T2(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...Hv(r)?m2:g2,preloadedFeatures:e,useRender:x2(i),createVisualElement:t,Component:r};return e2(s)}}const cm={current:null},cE={current:!1};function E2(){if(cE.current=!0,!!Wv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cm.current=e.matches;e.addListener(t),t()}else cm.current=!1}function C2(e,t,n){for(const r in t){const i=t[r],o=n[r];if(It(i))e.addValue(r,i);else if(It(o))e.addValue(r,al(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,al(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const kb=new WeakMap,A2=[...eT,Et,bi],P2=e=>A2.find(Xx(e)),xb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class M2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=mr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Jd(n),this.isVariantNode=QT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const h=d[p];l[p]!==void 0&&It(h)&&h.set(l[p],!1)}}mount(t){this.current=t,kb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cE.current||E2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){kb.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=To.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ws){const n=ws[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<xb.length;r++){const i=xb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=C2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=al(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Gx(i)||Jx(i))?i=parseFloat(i):!P2(i)&&bi.test(n)&&(i=lT(t,n)),this.setBaseTarget(t,It(i)?i.get():i)),It(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=bv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[t])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!It(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Vv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class uE extends M2{constructor(){super(...arguments),this.KeyframeResolver=cT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;It(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function O2(e){return window.getComputedStyle(e)}class I2 extends uE{constructor(){super(...arguments),this.type="html",this.renderInstance=XT}readValueFromInstance(t,n){if(To.has(n)){const r=Ov(n);return r&&r.default||0}else{const r=O2(t),i=(Yx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DT(t,n)}build(t,n,r){Gv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Kv(t,n,r)}}class R2 extends uE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(To.has(n)){const r=Ov(n);return r&&r.default||0}return n=eE.has(n)?n:zv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rE(t,n,r)}build(t,n,r){Zv(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){tE(t,n,r,i)}mount(t){this.isSVGTag=Yv(t.tagName),super.mount(t)}}const N2=(e,t)=>Hv(e)?new R2(t):new I2(t,{allowProjection:e!==A.Fragment}),j2=T2({...mD,...qL,...RL,...WL},N2),dE=pN(j2);Hl.register();const fE="lg:aspect-video lg:max-h-none lg:h-auto",pE="sm:max-h-[680px]",hE="w-full h-full max-h-[500px] max-w-5xl",Gd=({children:e})=>O.jsxs("div",{className:Uu("relative overflow-hidden rounded-xl border border-border bg-card/95 backdrop-blur-sm",fE,pE,hE),children:[O.jsx("img",{src:"/images/dialogBlur.svg",alt:"background",className:"absolute inset-0 h-full w-full object-cover opacity-10"}),e||O.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[O.jsx("l-quantum",{size:"45",speed:"1.75",color:"hsl(var(--primary))"}),O.jsx("p",{className:"text-foreground text-lg",children:"Loading..."})]})]}),Tb=({children:e})=>O.jsxs(dE.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1],scale:{duration:.5,ease:[.34,1.56,.64,1]}},className:Uu("relative overflow-hidden rounded-xl border border-border bg-card/95 backdrop-blur-sm",fE,pE,hE),children:[O.jsx("img",{src:"/images/dialogBlur.svg",alt:"background",className:"absolute inset-0 h-full w-full object-cover opacity-10"}),e]}),Qv=({children:e})=>O.jsx(dE.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1],scale:{duration:.5,ease:[.34,1.56,.64,1]}},className:"relative flex size-full flex-col items-center justify-center px-2.5 py-6 sm:p-8",children:e}),mE=({imgSrc:e,title:t,titleClassName:n,description:r,descriptionClassName:i,children:o})=>O.jsxs("div",{className:"flex flex-col items-center justify-center",children:[O.jsx("img",{src:e,alt:"icon",className:"mb-4 size-20 sm:mb-8 lg:size-30"}),O.jsx("h2",{className:Uu("mb-4 bg-text-primary bg-clip-text pt-1 text-center text-4.5xl text-transparent sm:max-w-[650px] sm:text-6.5xl lg:text-7xl",n),children:t}),O.jsx("p",{className:Uu("max-w-[650px] text-center text-base sm:text-lg text-muted-foreground",i),children:r}),o]}),D2=()=>O.jsx(Gd,{children:O.jsx(Qv,{children:O.jsx(mE,{imgSrc:"/images/error.png",title:"System Currently Unavailable",titleClassName:"sm:max-w-full",description:"Our service is temporarily unavailable. Please try again later."})})}),L2=()=>O.jsx(Gd,{children:O.jsx(Qv,{children:O.jsx(mE,{imgSrc:"/images/clock.png",title:"You've reached your daily limit",description:"Come back tomorrow to continue chatting. We'll be here!"})})}),$2=null,gE=ee($2),F2=()=>"40ce96379c944b609b9671259afae13d",Ql=ee(F2());ee(!1);ee(e=>e(Ql)!==null);ee(null,(e,t,n)=>{localStorage.setItem("tavus-token",n),t(Ql,n)});ee(null,(e,t)=>{localStorage.removeItem("tavus-token"),t(Ql,null)});const V2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ELEVENLABS_API_KEY:"sk_86ff15b3ad8b9da08ffe8ae0c1397dc7828eb00e708b5852",VITE_PICA_SECRET_KEY:"sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",VITE_TAVUS_API_KEY:"40ce96379c944b609b9671259afae13d"};function Zd(e,t){let n=null;const r=new Map,i=new Set,o=a=>{let l;if(l=r.get(a),l!==void 0)if(n!=null&&n(l[1],a))o.remove(a);else return l[0];const c=e(a);return r.set(a,[c,Date.now()]),s("CREATE",a,c),c};function s(a,l,c){for(const u of i)u({type:a,param:l,atom:c})}return o.unstable_listen=a=>(i.add(a),()=>{i.delete(a)}),o.getParams=()=>r.keys(),o.remove=a=>{{if(!r.has(a))return;const[l]=r.get(a);r.delete(a),s("REMOVE",a,l)}},o.setShouldRemove=a=>{if(n=a,!!n)for(const[l,[c,u]]of r)n(u,l)&&(r.delete(l),s("REMOVE",l,c))},o}const z2=e=>typeof(e==null?void 0:e.then)=="function";function B2(e=()=>{try{return window.localStorage}catch(n){(V2?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,i;const o={getItem:(l,c)=>{var u,d;const p=m=>{if(m=m||"",r!==m){try{i=JSON.parse(m,t==null?void 0:t.reviver)}catch{return c}r=m}return i},h=(d=(u=e())==null?void 0:u.getItem(l))!=null?d:null;return z2(h)?h.then(p):p(h)},setItem:(l,c)=>{var u;return(u=e())==null?void 0:u.setItem(l,JSON.stringify(c,void 0))},removeItem:l=>{var c;return(c=e())==null?void 0:c.removeItem(l)}},s=l=>(c,u,d)=>l(c,p=>{let h;try{h=JSON.parse(p||"")}catch{h=d}u(h)});let a;try{a=(n=e())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(l,c)=>{if(!(e()instanceof window.Storage))return()=>{};const u=d=>{d.storageArea===e()&&d.key===l&&c(d.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),a&&(o.subscribe=s(a)),o}B2();function ge(e,t){const n=A.useMemo(()=>ee(null,(r,i,...o)=>e(r,i,...o)),[e]);return Ex(n)}var vE="Expected a function",Eb=NaN,U2="[object Symbol]",q2=/^\s+|\s+$/g,W2=/^[-+]0x[0-9a-f]+$/i,H2=/^0b[01]+$/i,K2=/^0o[0-7]+$/i,J2=parseInt,G2=typeof Vt=="object"&&Vt&&Vt.Object===Object&&Vt,Z2=typeof self=="object"&&self&&self.Object===Object&&self,Y2=G2||Z2||Function("return this")(),Q2=Object.prototype,X2=Q2.toString,e$=Math.max,t$=Math.min,vp=function(){return Y2.Date.now()};function n$(e,t,n){var r,i,o,s,a,l,c=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(vE);t=Cb(t)||0,Yu(n)&&(u=!!n.leading,d="maxWait"in n,o=d?e$(Cb(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function h(T){var C=r,P=i;return r=i=void 0,c=T,s=e.apply(P,C),s}function m(T){return c=T,a=setTimeout(g,t),u?h(T):s}function v(T){var C=T-l,P=T-c,I=t-C;return d?t$(I,o-P):I}function S(T){var C=T-l,P=T-c;return l===void 0||C>=t||C<0||d&&P>=o}function g(){var T=vp();if(S(T))return b(T);a=setTimeout(g,v(T))}function b(T){return a=void 0,p&&r?h(T):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?s:b(vp())}function k(){var T=vp(),C=S(T);if(r=arguments,i=this,l=T,C){if(a===void 0)return m(l);if(d)return a=setTimeout(g,t),h(l)}return a===void 0&&(a=setTimeout(g,t)),s}return k.cancel=_,k.flush=x,k}function r$(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(vE);return Yu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),n$(e,t,{leading:r,maxWait:t,trailing:i})}function Yu(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function i$(e){return!!e&&typeof e=="object"}function o$(e){return typeof e=="symbol"||i$(e)&&X2.call(e)==U2}function Cb(e){if(typeof e=="number")return e;if(o$(e))return Eb;if(Yu(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yu(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(q2,"");var n=H2.test(e);return n||K2.test(e)?J2(e.slice(2),n?2:8):W2.test(e)?Eb:+e}var s$=r$;const a$=kg(s$);function Ab(e,t){if(e==null)return{};var n,r,i=function(s,a){if(s==null)return{};var l,c,u={},d=Object.keys(s);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=s[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e){return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(e)}function yE(e){var t=function(n,r){if(Ne(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,r||"default");if(Ne(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ne(t)==="symbol"?t:String(t)}function Pb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yE(r.key),r)}}function tr(e,t,n){return t&&Pb(e.prototype,t),n&&Pb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function br(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cl(e,t){return cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cl(e,t)}function Yd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cl(e,t)}function Qd(e,t){if(t&&(Ne(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(e)}function Tr(e,t,n){return(t=yE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mb(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){Mb(o,r,i,s,a,"next",l)}function a(l){Mb(o,r,i,s,a,"throw",l)}s(void 0)})}}function Ob(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function po(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a,l,c=[],u=!0,d=!1;try{if(a=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(o=a.call(i)).done)&&(c.push(o.value),c.length!==r);u=!0);}catch(p){d=!0,s=p}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw s}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ob(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ob(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var wE,Pr={},l$={get exports(){return Pr},set exports(e){Pr=e}},as=typeof Reflect=="object"?Reflect:null,Ib=as&&typeof as.apply=="function"?as.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};wE=as&&typeof as.ownKeys=="function"?as.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Rb=Number.isNaN||function(e){return e!=e};function Re(){Re.init.call(this)}l$.exports=Re,Pr.once=function(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Fb(e,t,o,{once:!0}),t!=="error"&&function(s,a,l){typeof s.on=="function"&&Fb(s,"error",a,l)}(e,i,{once:!0})})},Re.EventEmitter=Re,Re.prototype._events=void 0,Re.prototype._eventsCount=0,Re.prototype._maxListeners=void 0;var Nb=10;function su(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function bE(e){return e._maxListeners===void 0?Re.defaultMaxListeners:e._maxListeners}function jb(e,t,n,r){var i,o,s,a;if(su(n),(o=e._events)===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=bE(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return e}function c$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Db(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c$.bind(r);return i.listener=n,r.wrapFn=i,i}function Lb(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?function(o){for(var s=new Array(o.length),a=0;a<s.length;++a)s[a]=o[a].listener||o[a];return s}(i):_E(i,i.length)}function $b(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function _E(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Fb(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else{if(typeof e.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)})}}Object.defineProperty(Re,"defaultMaxListeners",{enumerable:!0,get:function(){return Nb},set:function(e){if(typeof e!="number"||e<0||Rb(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Nb=e}}),Re.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Re.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Rb(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Re.prototype.getMaxListeners=function(){return bE(this)},Re.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")Ib(a,this,t);else{var l=a.length,c=_E(a,l);for(n=0;n<l;++n)Ib(c[n],this,t)}return!0},Re.prototype.addListener=function(e,t){return jb(this,e,t,!1)},Re.prototype.on=Re.prototype.addListener,Re.prototype.prependListener=function(e,t){return jb(this,e,t,!0)},Re.prototype.once=function(e,t){return su(t),this.on(e,Db(this,e,t)),this},Re.prototype.prependOnceListener=function(e,t){return su(t),this.prependListener(e,Db(this,e,t)),this},Re.prototype.removeListener=function(e,t){var n,r,i,o,s;if(su(t),(r=this._events)===void 0)return this;if((n=r[e])===void 0)return this;if(n===t||n.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(n,i),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},Re.prototype.off=Re.prototype.removeListener,Re.prototype.removeAllListeners=function(e){var t,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i,o=Object.keys(n);for(r=0;r<o.length;++r)(i=o[r])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=n[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Re.prototype.listeners=function(e){return Lb(this,e,!0)},Re.prototype.rawListeners=function(e){return Lb(this,e,!1)},Re.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):$b.call(e,t)},Re.prototype.listenerCount=$b,Re.prototype.eventNames=function(){return this._eventsCount>0?wE(this._events):[]};var Vb=Object.prototype.hasOwnProperty;function zb(e,t,n){for(n of e.keys())if(Ht(n,t))return n}function Ht(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Ht(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((i=r)&&typeof i=="object"&&!(i=zb(t,i))||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((i=r[0])&&typeof i=="object"&&!(i=zb(t,i))||!Ht(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(Vb.call(e,n)&&++r&&!Vb.call(t,n)||!(n in t)||!Ht(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const u$={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},SE={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},nt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},$t={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Qr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class L{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const i=L.getVersionPrecision(t),o=L.getVersionPrecision(n);let s=Math.max(i,o),a=0;const l=L.map([t,n],c=>{const u=s-L.getVersionPrecision(c),d=c+new Array(u+1).join(".0");return L.map(d.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(l[0][s]>l[1][s])return 1;if(l[0][s]===l[1][s]){if(s===a)return 0;s-=1}else if(l[0][s]<l[1][s])return-1}}static map(t,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}static find(t,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,i=t.length;r<i;r+=1){const o=t[r];if(n(o,r))return o}}static assign(t,...n){const r=t;let i,o;if(Object.assign)return Object.assign(t,...n);for(i=0,o=n.length;i<o;i+=1){const s=n[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(a=>{r[a]=s[a]})}return t}static getBrowserAlias(t){return u$[t]}static getBrowserTypeByAlias(t){return SE[t]||""}}const je=/version\/(\d+(\.?_?\d+)+)/i,d$=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=L.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=L.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=L.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=L.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=L.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=L.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=L.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=L.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=L.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=L.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=L.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=L.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=L.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=L.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=L.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=L.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=L.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=L.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=L.getFirstMatch(je,e)||L.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=L.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=L.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=L.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=L.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=L.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=L.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=L.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=L.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=L.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=L.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:L.getFirstMatch(t,e),version:L.getSecondMatch(t,e)}}}];var f$=[{test:[/Roku\/DVP/],describe(e){const t=L.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:$t.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=L.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:$t.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=L.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=L.getWindowsVersionName(t);return{name:$t.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:$t.iOS},n=L.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=L.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=L.getMacOSVersionName(t),r={name:$t.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=L.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:$t.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=L.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=L.getAndroidVersionName(t),r={name:$t.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=L.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:$t.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=L.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||L.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||L.getFirstMatch(/\bbb(\d+)/i,e);return{name:$t.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=L.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:$t.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=L.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:$t.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:$t.Linux})},{test:[/CrOS/],describe:()=>({name:$t.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=L.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:$t.PlayStation4,version:t}}}],p$=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=L.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:nt.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:nt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:nt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:nt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:nt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=L.getFirstMatch(/(ipod|iphone)/i,e);return{type:nt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:nt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:nt.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:nt.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:nt.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:nt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:nt.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:nt.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:nt.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:nt.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:nt.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:nt.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:nt.tv})}],h$=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Qr.Blink};const t=L.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Qr.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Qr.Trident},n=L.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Qr.Presto},n=L.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Qr.Gecko},n=L.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Qr.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Qr.WebKit},n=L.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class Bb{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=L.find(d$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=L.find(f$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=L.find(p$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=L.find(h$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return L.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const i={};let o=0;if(Object.keys(t).forEach(s=>{const a=t[s];typeof a=="string"?(i[s]=a,o+=1):typeof a=="object"&&(n[s]=a,r+=1)}),r>0){const s=Object.keys(n),a=L.find(s,c=>this.isOS(c));if(a){const c=this.satisfies(n[a]);if(c!==void 0)return c}const l=L.find(s,c=>this.isPlatform(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}}if(o>0){const s=Object.keys(i),a=L.find(s,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(i[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const o=L.getBrowserTypeByAlias(i);return n&&o&&(i=o.toLowerCase()),i===r}compareVersion(t){let n=[0],r=t,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(i=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(i=!0,r=t.substr(1)),n.indexOf(L.compareVersions(o,r,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class m${static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Bb(t,n)}static parse(t){return new Bb(t).getResult()}static get BROWSER_MAP(){return SE}static get ENGINE_MAP(){return Qr}static get OS_MAP(){return $t}static get PLATFORMS_MAP(){return nt}}function Xd(){return Date.now()+Math.random().toString()}function oa(){throw new Error("Method must be implemented in subclass")}function kE(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Qu(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:kE("https://c.daily.co/call-machine/versioned/".concat("0.73.0","/static/call-machine-object-bundle.js"),e)}function Xu(e){try{new URL(e)}catch{return!1}return!0}const xE=Object.prototype.toString;function Xv(e){switch(xE.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ho(e,Error)}}function Bs(e,t){return xE.call(e)===`[object ${t}]`}function TE(e){return Bs(e,"ErrorEvent")}function Ub(e){return Bs(e,"DOMError")}function Mr(e){return Bs(e,"String")}function ey(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function um(e){return e===null||ey(e)||typeof e!="object"&&typeof e!="function"}function bs(e){return Bs(e,"Object")}function ef(e){return typeof Event<"u"&&ho(e,Event)}function tf(e){return!!(e&&e.then&&typeof e.then=="function")}function ho(e,t){try{return e instanceof t}catch{return!1}}function EE(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}function ls(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function qb(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{EE(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function g$(e,t,n=!1){return!!Mr(e)&&(Bs(t,"RegExp")?t.test(e):!!Mr(t)&&(n?e===t:e.includes(t)))}function Pc(e,t=[],n=!1){return t.some(r=>g$(e,r,n))}function v$(e,t,n=250,r,i,o,s){if(!(o.exception&&o.exception.values&&s&&ho(s.originalException,Error)))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;var l,c;a&&(o.exception.values=(l=dm(e,t,i,s.originalException,r,o.exception.values,a,0),c=n,l.map(u=>(u.value&&(u.value=ls(u.value,c)),u))))}function dm(e,t,n,r,i,o,s,a){if(o.length>=n+1)return o;let l=[...o];if(ho(r[i],Error)){Wb(s,a);const c=e(t,r[i]),u=l.length;Hb(c,i,u,a),l=dm(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(ho(c,Error)){Wb(s,a);const d=e(t,c),p=l.length;Hb(d,`errors[${u}]`,p,a),l=dm(e,t,n,c,i,[d,...l],d,p)}}),l}function Wb(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Hb(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Kb(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const io="8.33.1",Ae=globalThis;function ed(e,t,n){const r=Ae,i=r.__SENTRY__=r.__SENTRY__||{},o=i[io]=i[io]||{};return o[e]||(o[e]=t())}const ty=Ae;function CE(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let o=0,s=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&o++<r&&(c=y$(n,u),!(c==="html"||o>1&&s+i.length*l+c.length>=d));)i.push(c),s+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function y$(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(ty.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(s=>n.getAttribute(s)).map(s=>[s,n.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{r.push(`[${s[0]}="${s[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const s=n.className;if(s&&Mr(s)){const a=s.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const o=["aria-label","type","name","title","alt"];for(const s of o){const a=n.getAttribute(s);a&&r.push(`[${s}="${a}"]`)}return r.join("")}const Xl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fm=["debug","info","warn","error","log","assert","trace"],td={};function ny(e){if(!("console"in Ae))return e();const t=Ae.console,n={},r=Object.keys(td);r.forEach(i=>{const o=td[i];n[i]=t[i],t[i]=o});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}const he=ed("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Xl?fm.forEach(n=>{t[n]=(...r)=>{e&&ny(()=>{Ae.console[n](`Sentry Logger [${n}]:`,...r)})}}):fm.forEach(n=>{t[n]=()=>{}}),t}),w$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function nd(e,t=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${s}`}function Jb(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function b$(e){const t=typeof e=="string"?function(n){const r=w$.exec(n);if(!r)return void ny(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[i,o,s="",a="",l="",c=""]=r.slice(1);let u="",d=c;const p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){const h=d.match(/^\d+/);h&&(d=h[0])}return Jb({host:a,pass:s,path:u,projectId:d,port:l,protocol:i,publicKey:o})}(e):Jb(e);if(t&&function(n){if(!Xl)return!0;const{port:r,projectId:i,protocol:o}=n;return!(["protocol","publicKey","host","projectId"].find(s=>!n[s]&&(he.error(`Invalid Sentry Dsn: ${s} missing`),!0))||(i.match(/^\d+$/)?function(s){return s==="http"||s==="https"}(o)?r&&isNaN(parseInt(r,10))&&(he.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(he.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(he.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))}(t))return t}class ar extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function an(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&AE(i,r),e[t]=i}function mo(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Xl&&he.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function AE(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,mo(e,"__sentry_original__",t)}catch{}}function ry(e){return e.__sentry_original__}function PE(e){if(Xv(e))return{message:e.message,name:e.name,stack:e.stack,...Zb(e)};if(ef(e)){const t={type:e.type,target:Gb(e.target),currentTarget:Gb(e.currentTarget),...Zb(e)};return typeof CustomEvent<"u"&&ho(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Gb(e){try{return t=e,typeof Element<"u"&&ho(t,Element)?CE(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function Zb(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function qn(e){return pm(e,new Map)}function pm(e,t){if(function(n){if(!bs(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))e[i]!==void 0&&(r[i]=pm(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(pm(i,t))}),r}return e}const Gi="?",Yb=/\(error: (.*)\)/,Qb=/captureMessage|captureException/;function Mc(e){return e[e.length-1]||{}}const Xb="<anonymous>";function _i(e){try{return e&&typeof e=="function"&&e.name||Xb}catch{return Xb}}function e_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const au={},t_={};function Zi(e,t){au[e]=au[e]||[],au[e].push(t)}function Yi(e,t){t_[e]||(t(),t_[e]=!0)}function Kn(e,t){const n=e&&au[e];if(n)for(const r of n)try{r(t)}catch(i){Xl&&he.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${_i(r)}
Error:`,i)}}function _$(){"console"in Ae&&fm.forEach(function(e){e in Ae.console&&an(Ae.console,e,function(t){return td[e]=t,function(...n){Kn("console",{args:n,level:e});const r=td[e];r&&r.apply(Ae.console,n)}})})}const yp=Ae;function hm(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function S$(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in yp))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(hm(yp.fetch))return!0;let e=!1;const t=yp.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=hm(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Xl&&he.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function ec(){return Date.now()/1e3}const mi=function(){const{performance:e}=Ae;if(!e||!e.now)return ec;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function k$(e,t){const n="fetch";Zi(n,e),Yi(n,()=>function(r,i=!1){i&&!S$()||an(Ae,"fetch",function(o){return function(...s){const{method:a,url:l}=function(d){if(d.length===0)return{method:"GET",url:""};if(d.length===2){const[h,m]=d;return{url:n_(h),method:mm(m,"method")?String(m.method).toUpperCase():"GET"}}const p=d[0];return{url:n_(p),method:mm(p,"method")?String(p.method).toUpperCase():"GET"}}(s),c={args:s,fetchData:{method:a,url:l},startTimestamp:1e3*mi()};Kn("fetch",{...c});const u=new Error().stack;return o.apply(Ae,s).then(async d=>(Kn("fetch",{...c,endTimestamp:1e3*mi(),response:d}),d),d=>{throw Kn("fetch",{...c,endTimestamp:1e3*mi(),error:d}),Xv(d)&&d.stack===void 0&&(d.stack=u,mo(d,"framesToPop",1)),d})}})}(void 0,t))}function mm(e,t){return!!e&&typeof e=="object"&&!!e[t]}function n_(e){return typeof e=="string"?e:e?mm(e,"url")?e.url:e.toString?e.toString():"":""}(()=>{const{performance:e}=Ae;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,s=e.timing&&e.timing.navigationStart,a=typeof s=="number"?Math.abs(s+n-r):t;(o||a<t)&&i<=a&&e.timeOrigin})();let Oc=null;function x$(){Oc=Ae.onerror,Ae.onerror=function(e,t,n,r,i){return Kn("error",{column:r,error:i,line:n,msg:e,url:t}),!(!Oc||Oc.__SENTRY_LOADER__)&&Oc.apply(this,arguments)},Ae.onerror.__SENTRY_INSTRUMENTED__=!0}let Ic=null;function T$(){Ic=Ae.onunhandledrejection,Ae.onunhandledrejection=function(e){return Kn("unhandledrejection",e),!(Ic&&!Ic.__SENTRY_LOADER__)||Ic.apply(this,arguments)},Ae.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Jn(){const e=Ae,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function ME(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ti(e){const{message:t,event_id:n}=e;if(t)return t;const r=ME(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function gm(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function ul(e,t){const n=ME(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const i={...r&&r.data,...t.data};n.mechanism.data=i}}function r_(e){if(e&&e.__sentry_captured__)return!0;try{mo(e,"__sentry_captured__",!0)}catch{}return!1}function ni(e,t=100,n=1/0){try{return vm("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function OE(e,t=3,n=102400){const r=ni(e,t);return i=r,function(o){return~-encodeURI(o).split(/%..|./).length}(JSON.stringify(i))>n?OE(e,t-1,n):r;var i}function vm(e,t,n=1/0,r=1/0,i=function(){const o=typeof WeakSet=="function",s=o?new WeakSet:[];return[function(a){if(o)return!!s.has(a)||(s.add(a),!1);for(let l=0;l<s.length;l++)if(s[l]===a)return!0;return s.push(a),!1},function(a){if(o)s.delete(a);else for(let l=0;l<s.length;l++)if(s[l]===a){s.splice(l,1);break}}]}()){const[o,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(h,m){try{if(h==="domain"&&m&&typeof m=="object"&&m._events)return"[Domain]";if(h==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&m===global)return"[Global]";if(typeof window<"u"&&m===window)return"[Window]";if(typeof document<"u"&&m===document)return"[Document]";if(EE(m))return"[VueViewModel]";if(bs(v=m)&&"nativeEvent"in v&&"preventDefault"in v&&"stopPropagation"in v)return"[SyntheticEvent]";if(typeof m=="number"&&!Number.isFinite(m))return`[${m}]`;if(typeof m=="function")return`[Function: ${_i(m)}]`;if(typeof m=="symbol")return`[${String(m)}]`;if(typeof m=="bigint")return`[BigInt: ${String(m)}]`;const S=function(g){const b=Object.getPrototypeOf(g);return b?b.constructor.name:"null prototype"}(m);return/^HTML(\w*)Element$/.test(S)?`[HTMLElement: ${S}]`:`[object ${S}]`}catch(S){return`**non-serializable** (${S})`}var v}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{return vm("",c.toJSON(),l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const p=PE(t);for(const h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;if(d>=r){u[h]="[MaxProperties ~]";break}const m=p[h];u[h]=vm(h,m,l-1,r,i),d++}return s(t),u}var kr;function go(e){return new xn(t=>{t(e)})}function rd(e){return new xn((t,n)=>{n(e)})}(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(kr||(kr={}));class xn{constructor(t){xn.prototype.__init.call(this),xn.prototype.__init2.call(this),xn.prototype.__init3.call(this),xn.prototype.__init4.call(this),this._state=kr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new xn((r,i)=>{this._handlers.push([!1,o=>{if(t)try{r(t(o))}catch(s){i(s)}else r(o)},o=>{if(n)try{r(n(o))}catch(s){i(s)}else i(o)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new xn((n,r)=>{let i,o;return this.then(s=>{o=!1,i=s,t&&t()},s=>{o=!0,i=s,t&&t()}).then(()=>{o?r(i):n(i)})})}__init(){this._resolve=t=>{this._setResult(kr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(kr.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===kr.PENDING&&(tf(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===kr.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===kr.RESOLVED&&n[1](this._value),this._state===kr.REJECTED&&n[2](this._value),n[0]=!0)})}}}function E$(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return rd(new ar("Not adding Promise because buffer limit was reached."));const i=r();return t.indexOf(i)===-1&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(r){return new xn((i,o)=>{let s=t.length;if(!s)return i(!0);const a=setTimeout(()=>{r&&r>0&&i(!1)},r);t.forEach(l=>{go(l).then(()=>{--s||(clearTimeout(a),i(!0))},o)})})}}}function wp(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const C$=["fatal","error","warning","log","info","debug"];function A$(e){return e==="warn"?"warning":C$.includes(e)?e:"log"}const P$=/^sentry-/;function M$(e){const t=function(r){if(!(!r||!Mr(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((i,o)=>{const s=i_(o);return Object.entries(s).forEach(([a,l])=>{i[a]=l}),i},{}):i_(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,o])=>(i.match(P$)&&(r[i.slice(7)]=o),r),{});return Object.keys(n).length>0?n:void 0}function i_(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function dl(e,t=[]){return[e,t]}function O$(e,t){const[n,r]=e;return[n,[...r,t]]}function o_(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function ym(e){return Ae.__SENTRY__&&Ae.__SENTRY__.encodePolyfill?Ae.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function I$(e){const[t,n]=e;let r=JSON.stringify(t);function i(o){typeof r=="string"?r=typeof o=="string"?r+o:[ym(r),o]:r.push(typeof o=="string"?ym(o):o)}for(const o of n){const[s,a]=o;if(i(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ni(a))}i(l)}}return typeof r=="string"?r:function(o){const s=o.reduce((c,u)=>c+u.length,0),a=new Uint8Array(s);let l=0;for(const c of o)a.set(c,l),l+=c.length;return a}(r)}function R$(e){const t=typeof e.data=="string"?ym(e.data):e.data;return[qn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const N$={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function s_(e){return N$[e]}function IE(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function j$(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const a of o.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),p=1e3*(isNaN(d)?60:d);if(c)for(const h of c.split(";"))h==="metric_bucket"&&u&&!u.split(";").includes("custom")||(i[h]=r+p);else i.all=r+p}else s?i.all=r+function(a,l=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const u=Date.parse(`${a}`);return isNaN(u)?6e4:u-l}(s,r):t===429&&(i.all=r+6e4);return i}function a_(){return{traceId:Jn(),spanId:Jn().substring(16)}}const Rc=Ae,Le=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function nf(){return iy(Ae),Ae}function iy(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||io,t[io]=t[io]||{}}function wm(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||mi(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Jn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}const bm="_sentrySpan";function l_(e,t){t?mo(e,bm,t):delete e[bm]}function c_(e){return e[bm]}class oy{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=a_()}clone(){const t=new oy;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,l_(t,c_(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&wm(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Si?[n.getScopeData(),n.getRequestSession()]:bs(n)?[t,t.requestSession]:[],{tags:o,extra:s,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...s},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,l_(this,void 0),this._attachments=[],this._propagationContext=a_(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const i={timestamp:ec(),...t},o=this._breadcrumbs;return o.push(i),this._breadcrumbs=o.length>r?o.slice(-r):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:c_(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Jn();if(!this._client)return he.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Jn();if(!this._client)return he.warn("No client configured on scope - will not capture message!"),i;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Jn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(he.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Si=oy;class D${constructor(t,n){let r,i;r=t||new Si,i=n||new Si,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return tf(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function _s(){const e=iy(nf());return e.stack=e.stack||new D$(ed("defaultCurrentScope",()=>new Si),ed("defaultIsolationScope",()=>new Si))}function L$(e){return _s().withScope(e)}function $$(e,t){const n=_s();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function u_(e){return _s().withScope(()=>e(_s().getIsolationScope()))}function sy(e){const t=iy(e);return t.acs?t.acs:{withIsolationScope:u_,withScope:L$,withSetScope:$$,withSetIsolationScope:(n,r)=>u_(r),getCurrentScope:()=>_s().getScope(),getIsolationScope:()=>_s().getIsolationScope()}}function ay(){return sy(nf()).getCurrentScope()}function RE(){return sy(nf()).getIsolationScope()}function Jt(){return ay().getClient()}function F$(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(qn(i));return n}function V$(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=id(e);return qn({parent_span_id:r,span_id:t,trace_id:n})}function d_(e){return typeof e=="number"?f_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?f_(e.getTime()):mi()}function f_(e){return e>9999999999?e/1e3:e}function id(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const i=r;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)}(e)){const{attributes:r,startTime:i,name:o,endTime:s,parentSpanId:a,status:l}=e;return qn({span_id:t,trace_id:n,data:r,description:o,parent_span_id:a,start_timestamp:d_(i),timestamp:d_(s)||void 0,status:z$(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:F$(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function z$(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function NE(e){return e._sentryRootSpan||e}const jE="production";function DE(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=qn({environment:n.environment||jE,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function B$(e){const t=Jt();if(!t)return{};const n=DE(id(e).trace_id||"",t),r=NE(e),i=r._frozenDsc;if(i)return i;const o=r.spanContext().traceState,s=o&&o.get("sentry.dsc"),a=s&&M$(s);if(a)return a;const l=id(r),c=l.data||{},u=c["sentry.sample_rate"];u!=null&&(n.sample_rate=`${u}`);const d=c["sentry.source"],p=l.description;return d!=="url"&&p&&(n.transaction=p),function(h){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const m=Jt(),v=m&&m.getOptions();return!!v&&(v.enableTracing||"tracesSampleRate"in v||"tracesSampler"in v)}()&&(n.sampled=String(function(h){const{traceFlags:m}=h.spanContext();return m===1}(r))),t.emit("createDsc",n,r),n}function U$(e,t,n,r){const i=IE(n),o=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const s=function(a,l,c,u){const d=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&u&&{dsn:nd(u)},...d&&{trace:qn({...d})}}}(e,i,r,t);return delete e.sdkProcessingMetadata,dl(s,[[{type:o},e]])}function _m(e,t,n,r=0){return new xn((i,o)=>{const s=e[r];if(t===null||typeof s!="function")i(t);else{const a=s({...t},n);Le&&s.id&&a===null&&he.log(`Event processor "${s.id}" dropped event`),tf(a)?a.then(l=>_m(e,l,n,r+1).then(i)).then(null,o):_m(e,a,n,r+1).then(i).then(null,o)}})}function q$(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;(function(s,a){const{extra:l,tags:c,user:u,contexts:d,level:p,transactionName:h}=a,m=qn(l);m&&Object.keys(m).length&&(s.extra={...m,...s.extra});const v=qn(c);v&&Object.keys(v).length&&(s.tags={...v,...s.tags});const S=qn(u);S&&Object.keys(S).length&&(s.user={...S,...s.user});const g=qn(d);g&&Object.keys(g).length&&(s.contexts={...g,...s.contexts}),p&&(s.level=p),h&&s.type!=="transaction"&&(s.transaction=h)})(e,t),r&&function(s,a){s.contexts={trace:V$(a),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:B$(a),...s.sdkProcessingMetadata};const l=NE(a),c=id(l).description;c&&!s.transaction&&s.type==="transaction"&&(s.transaction=c)}(e,r),function(s,a){s.fingerprint=s.fingerprint?function(l){return Array.isArray(l)?l:[l]}(s.fingerprint):[],a&&(s.fingerprint=s.fingerprint.concat(a)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint}(e,n),function(s,a){const l=[...s.breadcrumbs||[],...a];s.breadcrumbs=l.length?l:void 0}(e,i),function(s,a){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...a}}(e,o)}function p_(e,t){const{extra:n,tags:r,user:i,contexts:o,level:s,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:m}=t;sa(e,"extra",n),sa(e,"tags",r),sa(e,"user",i),sa(e,"contexts",o),sa(e,"sdkProcessingMetadata",a),s&&(e.level=s),h&&(e.transactionName=h),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function sa(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function W$(e,t,n,r,i,o){const{normalizeDepth:s=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Jn(),timestamp:t.timestamp||ec()},c=n.integrations||e.integrations.map(m=>m.name);(function(m,v){const{environment:S,release:g,dist:b,maxValueLength:_=250}=v;"environment"in m||(m.environment="environment"in v?S:jE),m.release===void 0&&g!==void 0&&(m.release=g),m.dist===void 0&&b!==void 0&&(m.dist=b),m.message&&(m.message=ls(m.message,_));const x=m.exception&&m.exception.values&&m.exception.values[0];x&&x.value&&(x.value=ls(x.value,_));const k=m.request;k&&k.url&&(k.url=ls(k.url,_))})(l,e),function(m,v){v.length>0&&(m.sdk=m.sdk||{},m.sdk.integrations=[...m.sdk.integrations||[],...v])}(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&function(m,v){const S=Ae._sentryDebugIds;if(!S)return;let g;const b=h_.get(v);b?g=b:(g=new Map,h_.set(v,g));const _=Object.entries(S).reduce((x,[k,T])=>{let C;const P=g.get(k);P?C=P:(C=v(k),g.set(k,C));for(let I=C.length-1;I>=0;I--){const N=C[I];if(N.filename){x[N.filename]=T;break}}return x},{});try{m.exception.values.forEach(x=>{x.stacktrace.frames.forEach(k=>{k.filename&&(k.debug_id=_[k.filename])})})}catch{}}(l,e.stackParser);const u=function(m,v){if(!v)return m;const S=m?m.clone():new Si;return S.update(v),S}(r,n.captureContext);n.mechanism&&ul(l,n.mechanism);const d=i?i.getEventProcessors():[],p=ed("globalScope",()=>new Si).getScopeData();o&&p_(p,o.getScopeData()),u&&p_(p,u.getScopeData());const h=[...n.attachments||[],...p.attachments];return h.length&&(n.attachments=h),q$(l,p),_m([...d,...p.eventProcessors],l,n).then(m=>(m&&function(v){const S={};try{v.exception.values.forEach(b=>{b.stacktrace.frames.forEach(_=>{_.debug_id&&(_.abs_path?S[_.abs_path]=_.debug_id:_.filename&&(S[_.filename]=_.debug_id),delete _.debug_id)})})}catch{}if(Object.keys(S).length===0)return;v.debug_meta=v.debug_meta||{},v.debug_meta.images=v.debug_meta.images||[];const g=v.debug_meta.images;Object.entries(S).forEach(([b,_])=>{g.push({type:"sourcemap",code_file:b,debug_id:_})})}(m),typeof s=="number"&&s>0?function(v,S,g){if(!v)return null;const b={...v,...v.breadcrumbs&&{breadcrumbs:v.breadcrumbs.map(_=>({..._,..._.data&&{data:ni(_.data,S,g)}}))},...v.user&&{user:ni(v.user,S,g)},...v.contexts&&{contexts:ni(v.contexts,S,g)},...v.extra&&{extra:ni(v.extra,S,g)}};return v.contexts&&v.contexts.trace&&b.contexts&&(b.contexts.trace=v.contexts.trace,v.contexts.trace.data&&(b.contexts.trace.data=ni(v.contexts.trace.data,S,g))),v.spans&&(b.spans=v.spans.map(_=>({..._,..._.data&&{data:ni(_.data,S,g)}}))),b}(m,s,a):m))}const h_=new WeakMap;function m_(e,t){return ay().captureEvent(e,t)}function H$(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&");var n}const g_=[];function v_(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function y_(e,t,n){if(n[t.name])Le&&he.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,g_.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),g_.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,o)=>r(i,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((o,s)=>r(o,s,e),{id:t.name});e.addEventProcessor(i)}Le&&he.log(`Integration installed: ${t.name}`)}}const w_="Not capturing exception because it's already been captured.";class K${constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=b$(t.dsn):Le&&he.warn("No DSN provided, client will not send events."),this._dsn){const o=(n=this._dsn,r=t.tunnel,i=t._metadata?t._metadata.sdk:void 0,r||`${function(s){return`${function(a){const l=a.protocol?`${a.protocol}:`:"",c=a.port?`:${a.port}`:"";return`${l}//${a.host}${c}${a.path?`/${a.path}`:""}/api/`}(s)}${s.projectId}/envelope/`}(n)}?${H$(n,i)}`);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}var n,r,i}captureException(t,n,r){const i=Jn();if(r_(t))return Le&&he.log(w_),i;const o={event_id:i,...n};return this._process(this.eventFromException(t,o).then(s=>this._captureEvent(s,o,r))),o.event_id}captureMessage(t,n,r,i){const o={event_id:Jn(),...r},s=ey(t)?t:String(t),a=um(t)?this.eventFromMessage(s,n,o):this.eventFromException(t,o);return this._process(a.then(l=>this._captureEvent(l,o,i))),o.event_id}captureEvent(t,n,r){const i=Jn();if(n&&n.originalException&&r_(n.originalException))return Le&&he.log(w_),i;const o={event_id:i,...n},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,s||r)),o.event_id}captureSession(t){typeof t.release!="string"?Le&&he.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),wm(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):go(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];y_(this,t,this._integrations),n||v_(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=U$(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=O$(r,R$(o));const i=this.sendEnvelope(r);i&&i.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const n=function(r,i,o,s){const a=IE(o);return dl({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!s&&i&&{dsn:nd(i)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,o=`${t}:${n}`;Le&&he.log(`Recording outcome: "${o}"${i>1?` (${i} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(Le&&he.error("Error while sending event:",n),n)):(Le&&he.error("Transport disabled"),go({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const i={};return r.forEach(o=>{o&&y_(n,o,i)}),i}(this,t),v_(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const o=n.exception&&n.exception.values;if(o){i=!0;for(const a of o){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&r)&&(wm(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new xn(n=>{let r=0;const i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=RE()){const o=this.getOptions(),s=Object.keys(this._integrations);return!n.integrations&&s.length>0&&(n.integrations=s),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),W$(o,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:c,spanId:u,parentSpanId:d,dsc:p}=l;a.contexts={trace:qn({trace_id:c,span_id:u,parent_span_id:d}),...a.contexts};const h=p||DE(c,this);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Le){const o=i;o.logLevel==="log"?he.log(o.message):he.warn(o)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:o}=i,s=__(t),a=b_(t),l=t.type||"error",c=`before send for type \`${l}\``,u=o===void 0?void 0:function(h){if(typeof h=="boolean")return Number(h);const m=typeof h=="string"?parseFloat(h):h;if(!(typeof m!="number"||isNaN(m)||m<0||m>1))return m;Le&&he.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(h)} of type ${JSON.stringify(typeof h)}.`)}(o);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),rd(new ar(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",d,t),new ar("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const m=function(v,S,g,b){const{beforeSend:_,beforeSendTransaction:x,beforeSendSpan:k}=S;if(b_(g)&&_)return _(g,b);if(__(g)){if(g.spans&&k){const T=[];for(const C of g.spans){const P=k(C);P?T.push(P):v.recordDroppedEvent("before_send","span")}g.spans=T}if(x){if(g.spans){const T=g.spans.length;g.sdkProcessingMetadata={...g.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return x(g,b)}}return g}(this,i,h,n);return function(v,S){const g=`${S} must return \`null\` or a valid event.`;if(tf(v))return v.then(b=>{if(!bs(b)&&b!==null)throw new ar(g);return b},b=>{throw new ar(`${S} rejected with ${b}`)});if(!bs(v)&&v!==null)throw new ar(g);return v}(m,c)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",d,t),s){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw new ar(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!s&&m&&this._updateSessionFromEvent(m,h),s){const S=(h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(h.spans?h.spans.length:0);S>0&&this.recordDroppedEvent("before_send","span",S)}const v=h.transaction_info;if(s&&v&&h.transaction!==t.transaction){const S="custom";h.transaction_info={...v,source:S}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof ar?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new ar(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,o]=n.split(":");return{reason:i,category:o,quantity:r}})}_flushOutcomes(){Le&&he.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Le&&he.log("No outcomes to send"));if(!this._dsn)return void(Le&&he.log("No dsn provided, will not send outcomes"));Le&&he.log("Sending outcomes:",t);const n=(r=t,dl((i=this._options.tunnel&&nd(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:o||ec(),discarded_events:r}]]));var r,i,o;this.sendEnvelope(n)}}function b_(e){return e.type===void 0}function __(e){return e.type==="transaction"}function J$(e,t,n=E$(e.bufferSize||64)){let r={};return{send:function(i){const o=[];if(o_(i,(l,c)=>{const u=s_(c);if(function(d,p,h=Date.now()){return function(m,v){return m[v]||m.all||0}(d,p)>h}(r,u)){const d=S_(l,c);e.recordDroppedEvent("ratelimit_backoff",u,d)}else o.push(l)}),o.length===0)return go({});const s=dl(i[0],o),a=l=>{o_(s,(c,u)=>{const d=S_(c,u);e.recordDroppedEvent(l,s_(u),d)})};return n.add(()=>t({body:I$(s)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Le&&he.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=j$(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof ar)return Le&&he.error("Skipped sending event because buffer is full."),a("queue_overflow"),go({});throw l})},flush:i=>n.drain(i)}}function S_(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const G$=100;function Ri(e,t){const n=Jt(),r=RE();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=G$}=n.getOptions();if(o<=0)return;const s={timestamp:ec(),...e},a=i?ny(()=>i(s,t)):s;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,o))}let k_;const x_=new WeakMap,Z$=()=>({name:"FunctionToString",setupOnce(){k_=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ry(this),n=x_.has(Jt())&&t!==void 0?t:this;return k_.apply(n,e)}}catch{}},setup(e){x_.set(e,!0)}}),Y$=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Q$=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const i=r.getOptions(),o=function(s={},a={}){return{allowUrls:[...s.allowUrls||[],...a.allowUrls||[]],denyUrls:[...s.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...s.ignoreErrors||[],...a.ignoreErrors||[],...s.disableErrorDefaults?[]:Y$],ignoreTransactions:[...s.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:s.ignoreInternal===void 0||s.ignoreInternal}}(e,i);return function(s,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(s)?(Le&&he.warn(`Event dropped due to being internal Sentry Error.
Event: ${ti(s)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(u){const d=[];u.message&&d.push(u.message);let p;try{p=u.exception.values[u.exception.values.length-1]}catch{}return p&&p.value&&(d.push(p.value),p.type&&d.push(`${p.type}: ${p.value}`)),d}(l).some(u=>Pc(u,c))}(s,a.ignoreErrors)?(Le&&he.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ti(s)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(s)?(Le&&he.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ti(s)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const u=l.transaction;return!!u&&Pc(u,c)}(s,a.ignoreTransactions)?(Le&&he.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ti(s)}`),!0):function(l,c){if(!c||!c.length)return!1;const u=Nc(l);return!!u&&Pc(u,c)}(s,a.denyUrls)?(Le&&he.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ti(s)}.
Url: ${Nc(s)}`),!0):function(l,c){if(!c||!c.length)return!0;const u=Nc(l);return!u||Pc(u,c)}(s,a.allowUrls)?!1:(Le&&he.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ti(s)}.
Url: ${Nc(s)}`),!0)}(t,o)?null:t}});function Nc(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const i=n[r];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null}(t):null}catch{return Le&&he.error(`Cannot extract url for event ${ti(e)}`),null}}const X$=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(i,o){const s=i.message,a=o.message;return!(!s&&!a||s&&!a||!s&&a||s!==a||!E_(i,o)||!T_(i,o))}(n,r)||function(i,o){const s=C_(o),a=C_(i);return!(!s||!a||s.type!==a.type||s.value!==a.value||!E_(i,o)||!T_(i,o))}(n,r)):!1}(t,e))return Le&&he.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function T_(e,t){let n=e_(e),r=e_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const o=r[i],s=n[i];if(o.filename!==s.filename||o.lineno!==s.lineno||o.colno!==s.colno||o.function!==s.function)return!1}return!0}function E_(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function C_(e){return e.exception&&e.exception.values&&e.exception.values[0]}const bt=Ae;let Sm=0;function A_(){return Sm>0}function Ss(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(ry(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const o=i.map(s=>Ss(s,t));return e.apply(this,o)}catch(o){throw Sm++,setTimeout(()=>{Sm--}),function(...s){const a=sy(nf());if(s.length===2){const[l,c]=s;return l?a.withSetScope(l,c):a.withScope(c)}a.withScope(s[0])}(s=>{var a;s.addEventProcessor(l=>(t.mechanism&&(gm(l,void 0),ul(l,t.mechanism)),l.extra={...l.extra,arguments:i},l)),a=o,ay().captureException(a,void 0)}),o}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}AE(r,e),mo(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const ly=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function cy(e,t){const n=uy(e,t),r={type:t&&t.name,value:nF(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function eF(e,t,n,r){const i=Jt(),o=i&&i.getOptions().normalizeDepth,s=function(c){for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u)){const d=c[u];if(d instanceof Error)return d}}(t),a={__serialized__:OE(t,o)};if(s)return{exception:{values:[cy(e,s)]},extra:a};const l={exception:{values:[{type:ef(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:rF(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=uy(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function bp(e,t){return{exception:{values:[cy(e,t)]}}}function uy(e,t){const n=t.stacktrace||t.stack||"",r=function(o){return o&&tF.test(o.message)?1:0}(t),i=function(o){return typeof o.framesToPop=="number"?o.framesToPop:0}(t);try{return e(n,r,i)}catch{}return[]}const tF=/Minified React error #\d+;/i;function nF(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function km(e,t,n,r,i){let o;if(TE(t)&&t.error)return bp(e,t.error);if(Ub(t)||Bs(t,"DOMException")){const s=t;if("stack"in t)o=bp(e,t);else{const a=s.name||(Ub(s)?"DOMError":"DOMException"),l=s.message?`${a}: ${s.message}`:a;o=xm(e,l,n,r),gm(o,l)}return"code"in s&&(o.tags={...o.tags,"DOMException.code":`${s.code}`}),o}return Xv(t)?bp(e,t):bs(t)||ef(t)?(o=eF(e,t,n,i),ul(o,{synthetic:!0}),o):(o=xm(e,t,n,r),gm(o,`${t}`),ul(o,{synthetic:!0}),o)}function xm(e,t,n,r){const i={};if(r&&n){const o=uy(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(ey(t)){const{__sentry_template_string__:o,__sentry_template_values__:s}=t;return i.logentry={message:o,params:s},i}return i.message=t,i}function rF(e,{isUnhandledRejection:t}){const n=function(i,o=40){const s=Object.keys(PE(i));s.sort();const a=s[0];if(!a)return"[object has no keys]";if(a.length>=o)return ls(a,o);for(let l=s.length;l>0;l--){const c=s.slice(0,l).join(", ");if(!(c.length>o))return l===s.length?c:ls(c,o)}return""}(e),r=t?"promise rejection":"exception";return TE(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ef(e)?`Event \`${function(i){try{const o=Object.getPrototypeOf(i);return o?o.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class iF extends K${constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,i,o=[i],s="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${i}`,packages:o.map(l=>({name:`${s}:@sentry/${l}`,version:io})),version:io}),r._metadata=a})(n,"browser",["browser"],bt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&bt.document&&bt.document.addEventListener("visibilitychange",()=>{bt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,i,o,s){const a=km(r,i,o&&o.syntheticException||void 0,s);return ul(a),a.level="error",o&&o.event_id&&(a.event_id=o.event_id),go(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(i,o,s="info",a,l){const c=xm(i,o,a&&a.syntheticException||void 0,l);return c.level=s,a&&a.event_id&&(c.event_id=a.event_id),go(c)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(ly&&he.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:i,tunnel:o,dsn:s}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!o&&!!s&&{dsn:nd(s)}};return dl(a,[function(c){return[{type:"user_report"},c]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const oF=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Mt=Ae;let P_,_p,Sp,jc;function sF(){if(!Mt.document)return;const e=Kn.bind(null,"dom"),t=M_(e,!0);Mt.document.addEventListener("click",t,!1),Mt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Mt[n]&&Mt[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(an(r,"addEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[o]=c[o]||{refCount:0};if(!u.handler){const d=M_(e);u.handler=d,i.call(this,o,d,a)}u.refCount++}catch{}return i.call(this,o,s,a)}}),an(r,"removeEventListener",function(i){return function(o,s,a){if(o==="click"||o=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[o];u&&(u.refCount--,u.refCount<=0&&(i.call(this,o,u.handler,a),u.handler=void 0,delete c[o]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,s,a)}}))})}function M_(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(o){try{return o.target}catch{return null}}(n);if(function(o,s){return o==="keypress"&&(!s||!s.tagName||s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!s.isContentEditable)}(n.type,r))return;mo(n,"_sentryCaptured",!0),r&&!r._sentryId&&mo(r,"_sentryId",Jn());const i=n.type==="keypress"?"input":n.type;(function(o){if(o.type!==_p)return!1;try{if(!o.target||o.target._sentryId!==Sp)return!1}catch{}return!0})(n)||(e({event:n,name:i,global:t}),_p=n.type,Sp=r?r._sentryId:void 0),clearTimeout(P_),P_=Mt.setTimeout(()=>{Sp=void 0,_p=void 0},1e3)}}function aF(){if(!function(){const n=Rc.chrome,r=n&&n.app&&n.app.runtime,i="history"in Rc&&!!Rc.history.pushState&&!!Rc.history.replaceState;return!r&&i}())return;const e=Mt.onpopstate;function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const o=jc,s=String(i);jc=s,Kn("history",{from:o,to:s})}return n.apply(this,r)}}Mt.onpopstate=function(...n){const r=Mt.location.href,i=jc;if(jc=r,Kn("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}},an(Mt.history,"pushState",t),an(Mt.history,"replaceState",t)}const lu={};function O_(e){lu[e]=void 0}const wa="__sentry_xhr_v3__";function lF(){if(!Mt.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=1e3*mi(),o=Mr(r[0])?r[0].toUpperCase():void 0,s=function(l){if(Mr(l))return l;try{return l.toString()}catch{}}(r[1]);if(!o||!s)return t.apply(n,r);n[wa]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const l=n[wa];if(l&&n.readyState===4){try{l.status_code=n.status}catch{}Kn("xhr",{endTimestamp:1e3*mi(),startTimestamp:i,xhr:n})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(l,c,u)=>(a(),l.apply(c,u))}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(l,c,u){const[d,p]=u,h=c[wa];return h&&Mr(d)&&Mr(p)&&(h.request_headers[d.toLowerCase()]=p),l.apply(c,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[wa];return i?(r[0]!==void 0&&(i.body=r[0]),Kn("xhr",{startTimestamp:1e3*mi(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function cF(e,t=function(n){const r=lu[n];if(r)return r;let i=Mt[n];if(hm(i))return lu[n]=i.bind(Mt);const o=Mt.document;if(o&&typeof o.createElement=="function")try{const s=o.createElement("iframe");s.hidden=!0,o.head.appendChild(s);const a=s.contentWindow;a&&a[n]&&(i=a[n]),o.head.removeChild(s)}catch(s){oF&&he.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,s)}return i&&(lu[n]=i.bind(Mt))}("fetch")){let n=0,r=0;return J$(e,function(i){const o=i.body.length;n+=o,r++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return O_("fetch"),rd("No fetch implementation available");try{return t(e.url,s).then(a=>(n-=o,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return O_("fetch"),n-=o,r--,rd(a)}})}function kp(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Gi:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const uF=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,dF=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fF=/\((\S*)(?::(\d+))(?::(\d+))\)/,pF=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,hF=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,mF=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const o=[],s=n.split(`
`);for(let a=r;a<s.length;a++){const l=s[a];if(l.length>1024)continue;const c=Yb.test(l)?l.replace(Yb,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){o.push(d);break}}if(o.length>=50+i)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test(Mc(l).function||"")&&l.pop(),l.reverse(),Qb.test(Mc(l).function||"")&&(l.pop(),Qb.test(Mc(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||Mc(l).filename,function:c.function||Gi}))}(o.slice(i))}}([30,e=>{const t=uF.exec(e);if(t){const[,r,i,o]=t;return kp(r,Gi,+i,+o)}const n=dF.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const o=fF.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}const[r,i]=I_(n[1]||Gi,n[2]);return kp(i,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=pF.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=hF.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],r=t[1]||Gi;return[r,n]=I_(r,n),kp(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),I_=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Gi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},R_=1024,gF=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(i){const o="console";Zi(o,i),Yi(o,_$)}(function(i){return function(o){if(Jt()!==i)return;const s={category:"console",data:{arguments:o.args,logger:"console"},level:A$(o.level),message:qb(o.args," ")};if(o.level==="assert"){if(o.args[0]!==!1)return;s.message=`Assertion failed: ${qb(o.args.slice(1)," ")||"console.assert"}`,s.data.arguments=o.args.slice(1)}Ri(s,{input:o.args,level:o.level})}}(n)),t.dom&&(r=function(i,o){return function(s){if(Jt()!==i)return;let a,l,c=typeof o=="object"?o.serializeAttribute:void 0,u=typeof o=="object"&&typeof o.maxStringLength=="number"?o.maxStringLength:void 0;u&&u>R_&&(ly&&he.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${u} was configured. Sentry will use 1024 instead.`),u=R_),typeof c=="string"&&(c=[c]);try{const p=s.event,h=function(m){return!!m&&!!m.target}(p)?p.target:p;a=CE(h,{keyAttrs:c,maxStringLength:u}),l=function(m){if(!ty.HTMLElement)return null;let v=m;for(let S=0;S<5;S++){if(!v)return null;if(v instanceof HTMLElement){if(v.dataset.sentryComponent)return v.dataset.sentryComponent;if(v.dataset.sentryElement)return v.dataset.sentryElement}v=v.parentNode}return null}(h)}catch{a="<unknown>"}if(a.length===0)return;const d={category:`ui.${s.name}`,message:a};l&&(d.data={"ui.component_name":l}),Ri(d,{event:s.event,name:s.name,global:s.global})}}(n,t.dom),Zi("dom",r),Yi("dom",sF)),t.xhr&&function(i){Zi("xhr",i),Yi("xhr",lF)}(function(i){return function(o){if(Jt()!==i)return;const{startTimestamp:s,endTimestamp:a}=o,l=o.xhr[wa];if(!s||!a||!l)return;const{method:c,url:u,status_code:d,body:p}=l,h={method:c,url:u,status_code:d},m={xhr:o.xhr,input:p,startTimestamp:s,endTimestamp:a};Ri({category:"xhr",data:h,type:"http",level:Kb(d)},m)}}(n)),t.fetch&&k$(function(i){return function(o){if(Jt()!==i)return;const{startTimestamp:s,endTimestamp:a}=o;if(a&&(!o.fetchData.url.match(/sentry_key/)||o.fetchData.method!=="POST"))if(o.error)Ri({category:"fetch",data:o.fetchData,level:"error",type:"http"},{data:o.error,input:o.args,startTimestamp:s,endTimestamp:a});else{const l=o.response,c={...o.fetchData,status_code:l&&l.status},u={input:o.args,response:l,startTimestamp:s,endTimestamp:a};Ri({category:"fetch",data:c,type:"http",level:Kb(c.status_code)},u)}}}(n)),t.history&&function(i){const o="history";Zi(o,i),Yi(o,aF)}(function(i){return function(o){if(Jt()!==i)return;let s=o.from,a=o.to;const l=wp(bt.location.href);let c=s?wp(s):void 0;const u=wp(a);c&&c.path||(c=l),l.protocol===u.protocol&&l.host===u.host&&(a=u.relative),l.protocol===c.protocol&&l.host===c.host&&(s=c.relative),Ri({category:"navigation",data:{from:s,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(i){return function(o){Jt()===i&&Ri({category:"sentry."+(o.type==="transaction"?"transaction":"event"),event_id:o.event_id,level:o.level,message:ti(o)},{event:o})}}(n))}}},vF=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],yF=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&an(bt,"setTimeout",N_),t.setInterval&&an(bt,"setInterval",N_),t.requestAnimationFrame&&an(bt,"requestAnimationFrame",wF),t.XMLHttpRequest&&"XMLHttpRequest"in bt&&an(XMLHttpRequest.prototype,"send",bF);const n=t.eventTarget;n&&(Array.isArray(n)?n:vF).forEach(_F)}}};function N_(e){return function(...t){const n=t[0];return t[0]=Ss(n,{mechanism:{data:{function:_i(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function wF(e){return function(t){return e.apply(this,[Ss(t,{mechanism:{data:{function:"requestAnimationFrame",handler:_i(e)},handled:!1,type:"instrument"}})])}}function bF(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&an(n,r,function(i){const o={mechanism:{data:{function:r,handler:_i(i)},handled:!1,type:"instrument"}},s=ry(i);return s&&(o.mechanism.data.handler=_i(s)),Ss(i,o)})}),e.apply(this,t)}}function _F(e){const t=bt,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(an(n,"addEventListener",function(r){return function(i,o,s){try{typeof o.handleEvent=="function"&&(o.handleEvent=Ss(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:_i(o),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Ss(o,{mechanism:{data:{function:"addEventListener",handler:_i(o),target:e},handled:!1,type:"instrument"}}),s])}}),an(n,"removeEventListener",function(r){return function(i,o,s){const a=o;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,s)}catch{}return r.call(this,i,a,s)}}))}const SF=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(i){const o="error";Zi(o,i),Yi(o,x$)})(i=>{const{stackParser:o,attachStacktrace:s}=D_();if(Jt()!==r||A_())return;const{msg:a,url:l,line:c,column:u,error:d}=i,p=function(h,m,v,S){const g=h.exception=h.exception||{},b=g.values=g.values||[],_=b[0]=b[0]||{},x=_.stacktrace=_.stacktrace||{},k=x.frames=x.frames||[],T=isNaN(parseInt(S,10))?void 0:S,C=isNaN(parseInt(v,10))?void 0:v,P=Mr(m)&&m.length>0?m:function(){try{return ty.document.location.href}catch{return""}}();return k.length===0&&k.push({colno:T,filename:P,function:Gi,in_app:!0,lineno:C}),h}(km(o,d||a,void 0,s,!1),l,c,u);p.level="error",m_(p,{originalException:d,mechanism:{handled:!1,type:"onerror"}})})}(n),j_("onerror")),t.onunhandledrejection&&(function(r){(function(i){const o="unhandledrejection";Zi(o,i),Yi(o,T$)})(i=>{const{stackParser:o,attachStacktrace:s}=D_();if(Jt()!==r||A_())return;const a=function(c){if(um(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(i),l=um(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:km(o,a,void 0,s,!0);l.level="error",m_(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),j_("onunhandledrejection"))}}};function j_(e){ly&&he.log(`Global Handler attached: ${e}`)}function D_(){const e=Jt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const kF=()=>({name:"HttpContext",preprocessEvent(e){if(!bt.navigator&&!bt.location&&!bt.document)return;const t=e.request&&e.request.url||bt.location&&bt.location.href,{referrer:n}=bt.document||{},{userAgent:r}=bt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},o={...e.request,...t&&{url:t},headers:i};e.request=o}}),xF=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,i,o){const s=o.getOptions();v$(cy,s.stackParser,s.maxValueLength,n,t,r,i)}}};var L_="new",$_="loading",F_="loaded",Tm="joining-meeting",Ui="joined-meeting",Ni="left-meeting",Zr="error",xp="unknown",TF="full",EF="base",V_="no-room",CF="end-of-life",AF="connection-error",PF="iframe-ready-for-launch-config",MF="iframe-launch-config",OF="theme-updated",IF="loading",RF="load-attempt-failed",z_="loaded",NF="started-camera",jF="camera-error",DF="joining-meeting",LF="joined-meeting",$F="left-meeting",FF="participant-joined",VF="participant-updated",zF="participant-left",BF="participant-counts-updated",UF="access-state-updated",qF="meeting-session-summary-updated",WF="meeting-session-state-updated",HF="waiting-participant-added",KF="waiting-participant-updated",JF="waiting-participant-removed",GF="track-started",ZF="track-stopped",YF="transcription-started",QF="transcription-stopped",XF="transcription-error",B_="recording-started",U_="recording-stopped",eV="recording-stats",tV="recording-error",nV="recording-upload-completed",rV="recording-data",iV="app-message",oV="transcription-message",sV="remote-media-player-started",aV="remote-media-player-updated",lV="remote-media-player-stopped",cV="local-screen-share-started",uV="local-screen-share-stopped",dV="local-screen-share-canceled",fV="active-speaker-change",pV="active-speaker-mode-change",hV="network-quality-change",mV="network-connection",gV="cpu-load-change",vV="face-counts-updated",Dc="fullscreen",Lc="exited-fullscreen",yV="live-streaming-started",wV="live-streaming-updated",bV="live-streaming-stopped",_V="live-streaming-error",SV="lang-updated",kV="receive-settings-updated",xV="input-settings-updated",q_="nonfatal-error",W_="error",Tp=4096,H_=102400,Ep="iframe-call-message",K_="local-screen-start",J_="daily-method-update-live-streaming-endpoints",$c="transmit-log",ba="daily-custom-track",cu={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},LE={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Em={PLAY:"play",PAUSE:"pause"},Cp=["jpg","png","jpeg"],TV="add-endpoints",EV="remove-endpoints",G_="sip-call-transfer";function Rn(){return!Ce()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ce(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function $E(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function CV(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(vo(),fl())||Ce())}function Z_(){if(Ce()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var AV=function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl2")!=null;return e.remove(),t}catch{return!1}}();function FE(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ce()&&!!AV&&(e?function(){return Q_()?!1:["Chrome","Firefox"].includes(vo())}():function(){if(Q_())return!1;var t=vo();if(t==="Safari"){var n=fy();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?dy().major>=77:t==="Firefox"?py().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function VE(){if(Ce()||zE()||typeof AudioWorkletNode>"u")return!1;switch(vo()){case"Chrome":case"Firefox":return!0;case"Safari":return fl().major>=17&&fl().minor>=4}return!1}function Y_(){return $E()&&!function(){var e,t=vo();if(!Rn())return!0;switch(t){case"Chrome":return(e=dy()).major&&e.major>0&&e.major<75;case"Firefox":return(e=py()).major<91;case"Safari":return(e=fy()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function zE(){return Rn().match(/Linux; Android/)}function Q_(){var e,t,n=Rn(),r=n.match(/Mac/)&&(!Ce()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(t=e.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(n.match(/Mobi/)||n.match(/Android/)||r)||!!Rn().match(/DailyAnd\//)||void 0}function vo(){if(typeof window<"u"){var e=Rn();return BE()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||UE()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function fl(){switch(vo()){case"Chrome":return dy();case"Safari":return fy();case"Firefox":return py();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Rn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function dy(){var e=0,t=0,n=0,r=0,i=!1;if(typeof window<"u"){var o=Rn(),s=o.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),n=parseInt(s[3]),r=parseInt(s[4]),i=o.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:i}}function BE(){return!!Rn().match(/iPad|iPhone|iPod/i)&&$E()}function UE(){return Rn().indexOf("AppleWebKit/605.1.15")>-1}function fy(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Rn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(BE()||UE())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function py(){var e=0,t=0;if(typeof window<"u"){var n=Rn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var qE=function(){function e(){er(this,e)}return tr(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){oa()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){oa()}},{key:"sendMessageToCallMachine",value:function(t,n,r,i){oa()}},{key:"sendMessageToDailyJs",value:function(t,n){oa()}},{key:"removeListener",value:function(t){oa()}}]),e}();function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(r){Tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PV(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}var MV=function(){Yd(t,qE);var e=PV(t);function t(){var n;return er(this,t),(n=e.call(this))._wrappedListeners={},n._messageCallbacks={},n}return tr(t,[{key:"addListenerForMessagesFromCallMachine",value:function(n,r,i){var o=this,s=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var l=Ap({},a.data);if(delete l.from,l.callbackStamp&&o._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;o._messageCallbacks[c].call(i,l),delete o._messageCallbacks[c]}delete l.what,delete l.callbackStamp,n.call(i,l)}};this._wrappedListeners[n]=s,window.addEventListener("message",s)}},{key:"addListenerForMessagesFromDailyJs",value:function(n,r,i){var o=function(s){var a;if(!(!s.data||s.data.what!==Ep||!s.data.action||s.data.from&&s.data.from!=="module"||s.data.callClientId&&r&&s.data.callClientId!==r||s!=null&&(a=s.data)!==null&&a!==void 0&&a.callFrameId)){var l=s.data;n.call(i,l)}};this._wrappedListeners[n]=o,window.addEventListener("message",o)}},{key:"sendMessageToCallMachine",value:function(n,r,i,o){if(!i)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var s=Ap({},n);if(s.what=Ep,s.from="module",s.callClientId=i,r){var a=Xd();this._messageCallbacks[a]=r,s.callbackStamp=a}var l=o?o.contentWindow:window,c=this._callMachineTargetOrigin(o);c&&l.postMessage(s,c)}},{key:"sendMessageToDailyJs",value:function(n,r){n.what=Ep,n.callClientId=r,n.from="embedded",window.postMessage(n,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(n){var r=this._wrappedListeners[n];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[n])}},{key:"forwardPackagedMessageToCallMachine",value:function(n,r,i){var o=Ap({},n);o.callClientId=i;var s=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&s.postMessage(o,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(n,r){var i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===r)&&(!o.data.from||o.data.from!=="module")){var s=o.data;n(s)}};return this._wrappedListeners[n]=i,window.addEventListener("message",i),n}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(n){var r=this._wrappedListeners[n];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[n])}},{key:"_callMachineTargetOrigin",value:function(n){return n?n.src?new URL(n.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}]),t}();function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OV(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}var IV=function(){Yd(t,qE);var e=OV(t);function t(){var n;return er(this,t),n=e.call(this),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Pr.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Pr.EventEmitter,n._wrappedListeners={},n._messageCallbacks={},n}return tr(t,[{key:"addListenerForMessagesFromCallMachine",value:function(n,r,i){this._addListener(n,global.callMachineToDailyJsEmitter,r,i,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(n,r,i){this._addListener(n,global.dailyJsToCallMachineEmitter,r,i,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(n,r,i){this._sendMessage(n,global.dailyJsToCallMachineEmitter,i,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(n,r){this._sendMessage(n,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(n){var r=this._wrappedListeners[n];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[n])}},{key:"_addListener",value:function(n,r,i,o,s){var a=this,l=function(c){if(c.callClientId===i){if(c.callbackStamp&&a._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;a._messageCallbacks[u].call(o,c),delete a._messageCallbacks[u]}n.call(o,c)}};this._wrappedListeners[n]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(n,r,i,o,s){var a=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?eS(Object(d),!0).forEach(function(p){Tr(c,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):eS(Object(d)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(d,p))})}return c}({},n);if(a.callClientId=i,o){var l=Xd();this._messageCallbacks[l]=o,a.callbackStamp=l}r.emit("message",a)}}]),t}(),Cm="replace",Am="shallow-merge",tS=[Cm,Am],RV=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,i=r===void 0?Cm:r;er(this,e),e._validateMergeStrategy(i),e._validateData(n,i),this.mergeStrategy=i,this.data=n}return tr(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Am}},{key:"_validateMergeStrategy",value:function(t){if(!tS.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(tS,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ne(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Cm){var i=JSON.parse(r);Ht(i,t)||console.warn("The meeting session data provided will be modified when serialized.",i,t)}else if(n===Am){for(var o in t)if(Object.hasOwnProperty.call(t,o)&&t[o]!==void 0){var s=JSON.parse(JSON.stringify(t[o]));Ht(t[o],s)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",s,t[o])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>H_)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(H_,"."))}}]),e}();function Pm(e,t,n){return Pm=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(r,i,o){var s=[null];s.push.apply(s,i);var a=new(Function.bind.apply(r,s));return o&&cl(a,o.prototype),a},Pm.apply(null,arguments)}function Mm(e){var t=typeof Map=="function"?new Map:void 0;return Mm=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Pm(n,arguments,Qn(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),cl(i,n)},Mm(e)}function NV(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}function nS(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var jV=function(){function e(t){er(this,e),this._currentLoad=null,this._callClientId=t}return tr(e,[{key:"load",value:function(){var t,n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void i(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new DV(r,function(){i(!1)},function(s,a){a||nS(n._callClientId),o(s,a)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),nS(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),e}(),DV=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;er(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r}return tr(e,[{key:"start",value:function(){var t=this;this._currentAttempt||(this._currentAttempt=new rS(this._dailyConfig,this._successCallback,function n(r){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(r,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new rS(t._dailyConfig,t._successCallback,n),t._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),e}(),Pp=function(){Yd(t,Mm(Error));var e=NV(t);function t(){return er(this,t),e.apply(this,arguments)}return tr(t)}(),od=2e4,rS=function(){function e(n,r,i){er(this,e),this._loadAttemptImpl=Ce()||!n.avoidEval?new LV(n,r,i):new $V(n,r,i)}var t;return tr(e,[{key:"start",value:(t=oe(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),e}(),LV=function(){function e(o,s,a){er(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=o,this._successCallback=s,this._failureCallback=a}var t,n,r,i;return tr(e,[{key:"start",value:(i=oe(function*(){var o=Qu(this._dailyConfig);!(yield this._tryLoadFromIOSCache(o))&&this._loadFromNetwork(o)}),function(){return i.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=oe(function*(o){if(!this._iosCache)return!1;try{var s=yield this._iosCache.get(o);return!!this.cancelled||!!s&&(s.code?(Function('"use strict";'+s.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=s.refetchHeaders,!1))}catch{return!1}}),function(o){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(n=oe(function*(o){var s=this;this._networkTimeout=setTimeout(function(){s._networkTimedOut=!0,s._failureCallback({msg:"Timed out (>".concat(od," ms) when loading call object bundle ").concat(o),type:"timeout"})},od);try{var a=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(o,a);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Pp;var c=yield this._getBundleCodeFromResponse(o,l);if(this.cancelled)throw new Pp;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(o,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof Pp||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(o,": ").concat(u),type:u.message})}}),function(o){return n.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=oe(function*(o,s){if(s.ok)return yield s.text();if(this._iosCache&&s.status===304)return(yield this._iosCache.renew(o,s.headers)).code;throw new Error("Received ".concat(s.status," response"))}),function(o,s){return t.apply(this,arguments)})}]),e}(),$V=function(){function e(t,n,r){er(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Xd(),this._networkTimeout=null,this._scriptElement=null}return tr(e,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=Qu(this._dailyConfig);(typeof document>"u"?"undefined":Ne(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var n=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){n._stopLoading(),n._failureCallback({msg:"Timed out (>".concat(od," ms) when loading call object bundle ").concat(t),type:"timeout"})},od);var r=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=function(){n._stopLoading(),n.succeeded=!0,n._successCallback()},i.onerror=function(o){n._stopLoading(),n._failureCallback({msg:"Failed to load call object bundle ".concat(o.target.src),type:o.message})},i.src=t,r.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),e}(),Fc=function(e,t,n){return VV(e.local,t,n)===!0},FV=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Yo=function(e,t,n,r){var i=zV(e,t,n,r);return i&&i.pendingTrack},VV=function(e,t,n){if(!e)return!1;var r=function(o){switch(o){case"avatar":return!0;case"staged":return o;default:return!!o}},i=e.public.subscribedTracks;return i&&i[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&i[t].custom?[!0,"staged"].includes(i[t].custom)?r(i[t].custom):r(i[t].custom[n]):r(i[t][n]):!i||r(i.ALL)},zV=function(e,t,n,r){var i=Object.values(e.streams||{}).filter(function(o){return o.participantId===t&&o.type===n&&o.pendingTrack&&o.pendingTrack.kind===r}).sort(function(o,s){return new Date(s.starttime)-new Date(o.starttime)});return i&&i[0]},BV=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function iS(e,t){for(var n=t.getState(),r=0,i=["cam","screen"];r<i.length;r++)for(var o=i[r],s=0,a=["video","audio"];s<a.length;s++){var l=a[s],c=o==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),u=e.tracks[c];if(u){var d=e.local?FV(n,o,l):Yo(n,e.session_id,o,l);u.state==="playable"&&(u.track=d),u.persistentTrack=d}}}function oS(e,t){try{var n=t.getState();for(var r in e.tracks)if(!UV(r)){var i=e.tracks[r].kind;if(i){var o=e.tracks[r];if(o){var s=e.local?BV(n,r):Yo(n,e.session_id,r,i);o.state==="playable"&&(e.tracks[r].track=s),o.persistentTrack=s}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function UV(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function sS(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var i=!0;try{var o=r.participants[e.session_id];o&&o.public&&o.public.rtcType&&o.public.rtcType.impl==="peer-to-peer"&&o.private&&!["connected","completed"].includes(o.private.peeringState)&&(i=!1)}catch(u){console.error(u)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Fc(r,e.session_id,"cam-audio")){var s=Yo(r,e.session_id,"cam","audio");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&Fc(r,e.session_id,"cam-video")){var a=Yo(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&Fc(r,e.session_id,"screen-audio")){var l=Yo(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&Fc(r,e.session_id,"screen-video")){var c=Yo(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(u){console.error("unexpected error matching up tracks",u)}}}function qV(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return aS(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return aS(l,c)}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function aS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lr=new Map,cs=null;function WV(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return lS(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return lS(l,c)}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cr=new Map,Da=null;function HV(e){WE()?function(t){lr.has(t)||(lr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){lr.has(t)&&(lr.get(t).lastDevicesString=JSON.stringify(n),cs||(cs=function(){var r=oe(function*(){var i,o=yield navigator.mediaDevices.enumerateDevices(),s=qV(lr.keys());try{for(s.s();!(i=s.n()).done;){var a=i.value,l=JSON.stringify(o);l!==lr.get(a).lastDevicesString&&(lr.get(a).lastDevicesString=l,a(o))}}catch(c){s.e(c)}finally{s.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",cs)))}).catch(function(){}))}(e):function(t){cr.has(t)||(cr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){cr.has(t)&&(cr.get(t).lastDevicesString=JSON.stringify(n),Da||(Da=setInterval(oe(function*(){var r,i=yield navigator.mediaDevices.enumerateDevices(),o=WV(cr.keys());try{for(o.s();!(r=o.n()).done;){var s=r.value,a=JSON.stringify(i);a!==cr.get(s).lastDevicesString&&(cr.get(s).lastDevicesString=a,s(i))}}catch(l){o.e(l)}finally{o.f()}}),3e3)))}))}(e)}function KV(e){WE()?function(t){lr.has(t)&&(lr.delete(t),lr.size===0&&cs&&(navigator.mediaDevices.removeEventListener("devicechange",cs),cs=null))}(e):function(t){cr.has(t)&&(cr.delete(t),cr.size===0&&Da&&(clearInterval(Da),Da=null))}(e)}function WE(){return Ce()||navigator.mediaDevices.ondevicechange!==void 0}var JV=new Set;function GV(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!JV.has(n.id)}(e)}var ZV=["result"],YV=["preserveIframe"];function cS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(n),!0).forEach(function(r){Tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QV(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}function uS(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return dS(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return dS(l,c)}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}function dS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ji={},fS="video",XV="voice",pS=Ce()?{data:{}}:{data:{},topology:"none"},hS={present:0,hidden:0},HE={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Mp=Object.keys(HE),mS=["state","volume","simulcastEncodings"],gS={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},sd={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Om={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Di={customIntegrations:{validate:eC,help:QE()},customTrayButtons:{validate:XE,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(sd))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return tC(e,gS)},help:"reactNativeConfig should look like ".concat(JSON.stringify(gS),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return KE(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){return e instanceof MediaStreamTrack&&(t._sharedTracks.videoDeviceId=e),t._preloadCache.videoDeviceId=e,!0}},audioSource:{validate:function(e,t){return e instanceof MediaStreamTrack&&(t._sharedTracks.audioDeviceId=e),t._preloadCache.audioDeviceId=e,!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];if(!t.includes(s))return console.error('unsupported color "'.concat(s,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[s].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(s,' theme color should be provided in valid hex color format. Received: "').concat(r[s],'"')),!1}return!0};return Ne(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return JE(e,{allowAllParticipantsKey:!1})},help:YE({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(i){return console.error("Failed to validate send settings",i),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!GE(e)&&(t._preloadCache.inputSettings||(t._preloadCache.inputSettings={}),ZE(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig),e.audio&&(t._preloadCache.inputSettings.audio=e.audio),e.video&&(t._preloadCache.inputSettings.video=e.video),!0)},help:Im()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Vc={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Ce()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function i(o){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in o)if(a==="custom"){if(!n.includes(o[a])&&!i(o[a],!0))return!1}else{var l=!s&&!r.includes(a),c=!n.includes(o[a]);if(l||c)return!1}return!0}(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ce()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=po(n[t],2),i=r[0],o=r[1];switch(i){case"hasPresence":if(typeof o!="boolean")return!1;break;case"canSend":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var s,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=uS(o);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(!a.includes(c))return!1}}catch(m){l.e(m)}finally{l.f()}}else if(typeof o!="boolean")return!1;(o instanceof Array||Array.isArray(o))&&(e.canSend=new Set(o));break;case"canAdmin":if(o instanceof Set||o instanceof Array||Array.isArray(o)){var u,d=["participants","streaming","transcription"],p=uS(o);try{for(p.s();!(u=p.n()).done;){var h=u.value;if(!d.includes(h))return!1}}catch(m){p.e(m)}finally{p.f()}}else if(typeof o!="boolean")return!1;(o instanceof Array||Array.isArray(o))&&(e.canAdmin=new Set(o));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=oe(function*(t){return new Promise(function(n,r){var i=[];t.forEach(function(o){return Promise.resolve(o).then(function(s){n(s)}).catch(function(s){i.push(s),i.length===t.length&&r(i)})})})});return function(t){return e.apply(this,arguments)}}());var zc=function(){Yd(_e,Pr);var e,t,n,r,i,o,s,a,l,c,u,d,p,h,m,v,S,g,b,_,x,k,T,C,P,I,N,H,z,B,ne,ve,me,ie,j,q,U,Z,be=QV(_e);function _e(f){var w,y,M,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(er(this,_e),Tr(br(y=be.call(this)),"startListeningForDeviceChanges",function(){HV(y.handleDeviceChange)}),Tr(br(y),"stopListeningForDeviceChanges",function(){KV(y.handleDeviceChange)}),Tr(br(y),"handleDeviceChange",function(K){K=K.map(function(X){return JSON.parse(JSON.stringify(X))}),y.emitDailyJSEvent({action:"available-devices-updated",availableDevices:K})}),Tr(br(y),"handleNativeAppStateChange",function(){var K=oe(function*(X){if(X==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield y.destroy());var ye=X==="active";y.disableReactNativeAutoDeviceManagement("video")||(ye?y.camUnmutedBeforeLosingNativeActiveState&&y.setLocalVideo(!0):(y.camUnmutedBeforeLosingNativeActiveState=y.localVideo(),y.camUnmutedBeforeLosingNativeActiveState&&y.setLocalVideo(!1)))});return function(X){return K.apply(this,arguments)}}()),Tr(br(y),"handleNativeAudioFocusChange",function(K){y.disableReactNativeAutoDeviceManagement("audio")||(y._hasNativeAudioFocus=K,y.toggleParticipantAudioBasedOnNativeAudioFocus(),y._hasNativeAudioFocus?y.micUnmutedBeforeLosingNativeAudioFocus&&y.setLocalAudio(!0):(y.micUnmutedBeforeLosingNativeAudioFocus=y.localAudio(),y.setLocalAudio(!1)))}),Tr(br(y),"handleNativeSystemScreenCaptureStop",function(){y.stopScreenShare()}),y.strictMode=E.strictMode===void 0||E.strictMode,y.allowMultipleCallInstances=(w=E.allowMultipleCallInstances)!==null&&w!==void 0&&w,Object.keys(ji).length&&(y._logDuplicateInstanceAttempt(),!y.allowMultipleCallInstances)){if(y.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),y.callClientId=Xd(),M=br(y),ji[M.callClientId]=M,window._daily.instances[y.callClientId]={},y._sharedTracks={},window._daily.instances[y.callClientId].tracks=y._sharedTracks,E.dailyJsVersion=_e.version(),y._iframe=f,y._callObjectMode=E.layout==="none"&&!y._iframe,y._preloadCache={subscribeToTracksAutomatically:!0,audioDeviceId:null,videoDeviceId:null,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},E.showLocalVideo!==void 0?y._callObjectMode?console.error("showLocalVideo is not available in call object mode"):y._showLocalVideo=!!E.showLocalVideo:y._showLocalVideo=!0,E.showParticipantsBar!==void 0?y._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):y._showParticipantsBar=!!E.showParticipantsBar:y._showParticipantsBar=!0,E.customIntegrations!==void 0?y._callObjectMode?console.error("customIntegrations is not available in call object mode"):y._customIntegrations=E.customIntegrations:y._customIntegrations={},E.customTrayButtons!==void 0?y._callObjectMode?console.error("customTrayButtons is not available in call object mode"):y._customTrayButtons=E.customTrayButtons:y._customTrayButtons={},E.activeSpeakerMode!==void 0?y._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):y._activeSpeakerMode=!!E.activeSpeakerMode:y._activeSpeakerMode=!1,E.receiveSettings?y._callObjectMode?y._receiveSettings=E.receiveSettings:console.error("receiveSettings is only available in call object mode"):y._receiveSettings={},y.validateProperties(E),y.properties=ae({},E),y._preloadCache.inputSettings||(y._preloadCache.inputSettings={}),E.inputSettings&&E.inputSettings.audio&&(y._preloadCache.inputSettings.audio=E.inputSettings.audio),E.inputSettings&&E.inputSettings.video&&(y._preloadCache.inputSettings.video=E.inputSettings.video),y._callObjectLoader=y._callObjectMode?new jV(y.callClientId):null,y._callState=L_,y._isPreparingToJoin=!1,y._accessState={access:xp},y._meetingSessionSummary={},y._finalSummaryOfPrevSession={},y._meetingSessionState=Rp(pS,y._callObjectMode),y._nativeInCallAudioMode=fS,y._participants={},y._isScreenSharing=!1,y._participantCounts=hS,y._rmpPlayerState={},y._waitingParticipants={},y._network={threshold:"good",quality:100},y._activeSpeaker={},y._localAudioLevel=0,y._isLocalAudioLevelObserverRunning=!1,y._remoteParticipantsAudioLevel={},y._isRemoteParticipantsAudioLevelObserverRunning=!1,y._maxAppMessageSize=Tp,y._messageChannel=Ce()?new IV:new MV,y._iframe&&(y._iframe.requestFullscreen?y._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===y._iframe?(y.emitDailyJSEvent({action:Dc}),y.sendMessageToCallMachine({action:Dc})):(y.emitDailyJSEvent({action:Lc}),y.sendMessageToCallMachine({action:Lc}))}):y._iframe.webkitRequestFullscreen&&y._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===y._iframe?(y.emitDailyJSEvent({action:Dc}),y.sendMessageToCallMachine({action:Dc})):(y.emitDailyJSEvent({action:Lc}),y.sendMessageToCallMachine({action:Lc}))})),Ce()){var D=y.nativeUtils();D.addAudioFocusChangeListener&&D.removeAudioFocusChangeListener&&D.addAppStateChangeListener&&D.removeAppStateChangeListener&&D.addSystemScreenCaptureStopListener&&D.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),y._hasNativeAudioFocus=!0,D.addAudioFocusChangeListener(y.handleNativeAudioFocusChange),D.addAppStateChangeListener(y.handleNativeAppStateChange),D.addSystemScreenCaptureStopListener(y.handleNativeSystemScreenCaptureStop)}return y._callObjectMode&&y.startListeningForDeviceChanges(),y._messageChannel.addListenerForMessagesFromCallMachine(y.handleMessageFromCallMachine,y.callClientId,br(y)),y}return tr(_e,[{key:"destroy",value:(Z=oe(function*(){var f,w;try{yield this.leave()}catch{}var y=this._iframe;if(y){var M=y.parentElement;M&&M.removeChild(y)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ce()){var E=this.nativeUtils();E.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),E.removeAppStateChangeListener(this.handleNativeAppStateChange),E.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete ji[this.callClientId],!((f=window)===null||f===void 0||(w=f._daily)===null||w===void 0)&&w.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Z.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(f){var w=f.bodyClass,y=f.cssFile,M=f.cssText;return Se(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(y),bodyClass:w,cssText:M}),this}},{key:"iframe",value:function(){return Se(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return jn(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return jn(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(f,w){for(var y in w){if(!Vc[y])throw new Error("unrecognized updateParticipant property ".concat(y));if(Vc[y].validate&&!Vc[y].validate(w[y],this,this._participants[f]))throw new Error(Vc[y].help)}}},{key:"updateParticipant",value:function(f,w){return this._participants.local&&this._participants.local.session_id===f&&(f="local"),f&&w&&(this.validateParticipantProperties(f,w),this.sendMessageToCallMachine({action:"update-participant",id:f,properties:w})),this}},{key:"updateParticipants",value:function(f){var w=this._participants.local&&this._participants.local.session_id;for(var y in f)y===w&&(y="local"),y&&f[y]&&this.validateParticipantProperties(y,f[y]);return this.sendMessageToCallMachine({action:"update-participants",participants:f}),this}},{key:"updateWaitingParticipant",value:(U=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jn(this._callObjectMode,"updateWaitingParticipant()"),De(this._callState,"updateWaitingParticipant()"),typeof w!="string"||Ne(y)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(M,E){f.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:w,updates:y},function(D){D.error&&E(D.error),D.id||E(new Error("unknown error in updateWaitingParticipant()")),M({id:D.id})})})}),function(){return U.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(q=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(jn(this._callObjectMode,"updateWaitingParticipants()"),De(this._callState,"updateWaitingParticipants()"),Ne(w)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(y,M){f.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:w},function(E){E.error&&M(E.error),E.ids||M(new Error("unknown error in updateWaitingParticipants()")),y({ids:E.ids})})})}),function(){return q.apply(this,arguments)})},{key:"requestAccess",value:(j=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=w.access,M=y===void 0?{level:TF}:y,E=w.name,D=E===void 0?"":E;return jn(this._callObjectMode,"requestAccess()"),De(this._callState,"requestAccess()"),new Promise(function(K,X){f.sendMessageToCallMachine({action:"daily-method-request-access",access:M,name:D},function(ye){ye.error&&X(ye.error),ye.access||X(new Error("unknown error in requestAccess()")),K({access:ye.access,granted:ye.granted})})})}),function(){return j.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in w&&(Ce()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),w={}):f&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),w={})),this.sendMessageToCallMachine({action:"local-audio",state:f,options:w}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(f){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:f}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(f){return this.sendMessageToCallMachine({action:"local-video",state:f}),this}},{key:"getReceiveSettings",value:(ie=oe(function*(f){var w=this,y=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,M=y!==void 0&&y;if(jn(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ne(f)){case"string":return new Promise(function(E){w.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:f,showInheritedValues:M},function(D){E(D.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(f){return ie.apply(this,arguments)})},{key:"updateReceiveSettings",value:(me=oe(function*(f){var w=this;if(jn(this._callObjectMode,"updateReceiveSettings()"),!JE(f,{allowAllParticipantsKey:!0}))throw new Error(YE({allowAllParticipantsKey:!0}));return De(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(y){w.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:f},function(M){y({receiveSettings:M.receiveSettings})})})}),function(f){return me.apply(this,arguments)})},{key:"_prepInputSettingsToPresentToUser",value:function(f){var w,y,M,E,D,K,X,ye;if(f){var Je={},ze=((w=f.audio)===null||w===void 0||(y=w.processor)===null||y===void 0?void 0:y.type)==="none"&&((M=f.audio)===null||M===void 0||(E=M.processor)===null||E===void 0?void 0:E._isDefaultWhenNone);if(f.audio&&!ze){var st=ae({},f.audio.processor);delete st._isDefaultWhenNone,Je.audio=ae(ae({},f.audio),{},{processor:st})}var tn=((D=f.video)===null||D===void 0||(K=D.processor)===null||K===void 0?void 0:K.type)==="none"&&((X=f.video)===null||X===void 0||(ye=X.processor)===null||ye===void 0?void 0:ye._isDefaultWhenNone);if(f.video&&!tn){var gn=ae({},f.video.processor);delete gn._isDefaultWhenNone,Je.video=ae(ae({},f.video),{},{processor:gn})}return Je}}},{key:"getInputSettings",value:function(){var f=this;return Se(),new Promise(function(w){w(f._getInputSettings())})}},{key:"_getInputSettings",value:function(){var f,w,y,M,E,D,K,X,ye={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(f=((y=this._inputSettings)===null||y===void 0?void 0:y.video)||ye,w=((M=this._inputSettings)===null||M===void 0?void 0:M.audio)||ye):(f=((E=this._preloadCache)===null||E===void 0||(D=E.inputSettings)===null||D===void 0?void 0:D.video)||ye,w=((K=this._preloadCache)===null||K===void 0||(X=K.inputSettings)===null||X===void 0?void 0:X.audio)||ye);var Je={audio:w,video:f};return this._prepInputSettingsToPresentToUser(Je)}},{key:"updateInputSettings",value:(ve=oe(function*(f){var w=this;return Se(),GE(f)?(f&&(this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),ZE(f,this.properties.dailyConfig),f.audio&&(this._preloadCache.inputSettings.audio=f.audio),f.video&&(this._preloadCache.inputSettings.video=f.video)),f.video||f.audio?this._callObjectMode&&!this._callMachineInitialized?this._getInputSettings():new Promise(function(y,M){w.sendMessageToCallMachine({action:"update-input-settings",inputSettings:f},function(E){E.error?M(E.error):y({inputSettings:w._prepInputSettingsToPresentToUser(E.inputSettings)})})}):this._getInputSettings()):(console.error(Im()),Promise.reject(Im()))}),function(f){return ve.apply(this,arguments)})},{key:"setBandwidth",value:function(f){var w=f.kbs,y=f.trackConstraints;if(Se(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:w,trackConstraints:y}),this}},{key:"getDailyLang",value:function(){var f=this;if(Se(),this._callMachineInitialized)return new Promise(function(w){f.sendMessageToCallMachine({action:"get-daily-lang"},function(y){delete y.action,delete y.callbackStamp,w(y)})})}},{key:"setDailyLang",value:function(f){return Se(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:f}),this}},{key:"setProxyUrl",value:function(f){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:f}),this}},{key:"setIceConfig",value:function(f){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:f}),this}},{key:"meetingSessionSummary",value:function(){return[Ni,Zr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(ne=oe(function*(){var f=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),De(this._callState,"getMeetingSession()"),new Promise(function(w){f.sendMessageToCallMachine({action:"get-meeting-session"},function(y){delete y.action,delete y.callbackStamp,w(y)})})}),function(){return ne.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return De(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";jn(this._callObjectMode,"setMeetingSessionData()"),De(this._callState,"setMeetingSessionData");try{(function(y,M){new RV({data:y,mergeStrategy:M})})(f,w)}catch(y){throw console.error(y),y}try{this.sendMessageToCallMachine({action:"set-session-data",data:f,mergeStrategy:w})}catch(y){throw new Error("Error setting meeting session data: ".concat(y))}}},{key:"setUserName",value:function(f,w){var y=this;return this.properties.userName=f,new Promise(function(M){y.sendMessageToCallMachine({action:"set-user-name",name:f??"",thisMeetingOnly:Ce()||!!w&&!!w.thisMeetingOnly},function(E){delete E.action,delete E.callbackStamp,M(E)})})}},{key:"setUserData",value:(B=oe(function*(f){var w=this;try{KE(f)}catch(y){throw console.error(y),y}if(this.properties.userData=f,this._callMachineInitialized)return new Promise(function(y){try{w.sendMessageToCallMachine({action:"set-user-data",userData:f},function(M){delete M.action,delete M.callbackStamp,y(M)})}catch(M){throw new Error("Error setting user data: ".concat(M))}})}),function(f){return B.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(f){if(f&&(f<100||typeof f!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(f){var w=this;if(typeof AudioWorkletNode>"u"&&!Ce())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(f),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(y,M){w.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:f},function(E){w._isLocalAudioLevelObserverRunning=!E.error,E.error?M({error:E.error}):y()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:f}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(f){var w=this;if(this.validateAudioLevelInterval(f),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(y,M){w.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:f},function(E){w._isRemoteParticipantsAudioLevelObserverRunning=!E.error,E.error?M({error:E.error}):y()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:f}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(z=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(jn(this._callObjectMode,"startCamera()"),Op(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(w)}catch(y){return Promise.reject(y)}else{if(this._didPreAuth){if(w.url&&w.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(w.token&&w.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(w),this.properties=ae(ae({},this.properties),w)}return new Promise(function(y){f.sendMessageToCallMachine({action:"start-camera",properties:Ao(f.properties,f.callClientId),preloadCache:Ao(f._preloadCache,f.callClientId)},function(M){delete M.action,delete M.callbackStamp,y(M)})})}),function(){return z.apply(this,arguments)})},{key:"validateCustomTrack",value:function(f,w,y){if(y&&y.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(w&&w!=="music"&&w!=="speech"&&!(w instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(y&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(y))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(f instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return Se(),De(this._callState,"startCustomTrack()"),this.validateCustomTrack(w.track,w.mode,w.trackName),new Promise(function(y,M){f._sharedTracks.customTrack=w.track,w.track=ba,f.sendMessageToCallMachine({action:"start-custom-track",properties:w},function(E){E.error?M({error:E.error}):y(E.mediaTag)})})}},{key:"stopCustomTrack",value:function(f){var w=this;return Se(),De(this._callState,"stopCustomTrack()"),new Promise(function(y){w.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:f},function(M){y(M.mediaTag)})})}},{key:"setCamera",value:function(f){var w=this;return aa(),Bc(this._callMachineInitialized,"setCamera()"),new Promise(function(y){w.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:f},function(M){y({device:M.device})})})}},{key:"setAudioDevice",value:(H=oe(function*(f){return aa(),this.nativeUtils().setAudioDevice(f),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(f){return H.apply(this,arguments)})},{key:"cycleCamera",value:function(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(y){f.sendMessageToCallMachine({action:"cycle-camera",properties:w},function(M){y({device:M.device})})})}},{key:"cycleMic",value:function(){var f=this;return Se(),new Promise(function(w){f.sendMessageToCallMachine({action:"cycle-mic"},function(y){w({device:y.device})})})}},{key:"getCameraFacingMode",value:function(){var f=this;return aa(),new Promise(function(w){f.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(y){w(y.facingMode)})})}},{key:"setInputDevicesAsync",value:(N=oe(function*(f){var w=this,y=f.audioDeviceId,M=f.videoDeviceId,E=f.audioSource,D=f.videoSource;return Se(),E!==void 0&&(y=E),D!==void 0&&(M=D),y&&(this._preloadCache.audioDeviceId=y,this._sharedTracks.audioDeviceId=y),M&&(this._preloadCache.videoDeviceId=M,this._sharedTracks.videoDeviceId=M),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:(y instanceof MediaStreamTrack&&(y=ba),M instanceof MediaStreamTrack&&(M=ba),new Promise(function(K){w.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:y,videoDeviceId:M},function(X){delete X.action,delete X.callbackStamp,X.returnPreloadCache?K({camera:{deviceId:w._preloadCache.videoDeviceId},mic:{deviceId:w._preloadCache.audioDeviceId},speaker:{deviceId:w._preloadCache.outputDeviceId}}):K(X)})}))}),function(f){return N.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(I=oe(function*(f){var w=this,y=f.outputDeviceId;return Se(),y&&(this._preloadCache.outputDeviceId=y),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(M){w.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:y},function(E){delete E.action,delete E.callbackStamp,E.returnPreloadCache?M({camera:{deviceId:w._preloadCache.videoDeviceId},mic:{deviceId:w._preloadCache.audioDeviceId},speaker:{deviceId:w._preloadCache.outputDeviceId}}):M(E)})})}),function(f){return I.apply(this,arguments)})},{key:"getInputDevices",value:(P=oe(function*(){var f=this;return this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(w){f.sendMessageToCallMachine({action:"get-input-devices"},function(y){delete y.action,delete y.callbackStamp,y.returnPreloadCache?w({camera:{deviceId:f._preloadCache.videoDeviceId},mic:{deviceId:f._preloadCache.audioDeviceId},speaker:{deviceId:f._preloadCache.outputDeviceId}}):w(y)})})}),function(){return P.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return aa(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(f){if(aa(),[fS,XV].includes(f)){if(f!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=f,!this.disableReactNativeAutoDeviceManagement("audio")&&uu(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",f)}},{key:"preAuth",value:(C=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(jn(this._callObjectMode,"preAuth()"),Op(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(w)),!w.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(w),this.properties=ae(ae({},this.properties),w),new Promise(function(y,M){f.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ao(f.properties,f.callClientId),preloadCache:Ao(f._preloadCache,f.callClientId)},function(E){return E.error?M(E.error):E.access?(f._didPreAuth=!0,void y({access:E.access})):M(new Error("unknown error in preAuth()"))})})}),function(){return C.apply(this,arguments)})},{key:"load",value:(T=oe(function*(f){var w=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(f&&(this.validateProperties(f),this.properties=ae(ae({},this.properties),f)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState($_),this.emitDailyJSEvent({action:IF}),this._callObjectMode?new Promise(function(y,M){w._callObjectLoader.cancel();var E=Date.now();w._callObjectLoader.load(w.properties.dailyConfig,function(D){w._bundleLoadTime=D?"no-op":Date.now()-E,w._updateCallState(F_),D&&w.emitDailyJSEvent({action:z_}),y()},function(D,K){if(w.emitDailyJSEvent({action:RF}),!K){w._updateCallState(Zr),w.resetMeetingDependentVars();var X={action:W_,errorMsg:D.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:D,bundleUrl:Qu(w.properties.dailyConfig)}}};w._maybeSendToSentry(X),w.emitDailyJSEvent(X),M(D.msg)}})}):(this._iframe.src=kE(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(y,M){w._loadedCallback=function(E){w._callState!==Zr?(w._updateCallState(F_),(w.properties.cssFile||w.properties.cssText)&&w.loadCss(w.properties),y()):M(E)}}))}}),function(f){return T.apply(this,arguments)})},{key:"join",value:(k=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var y=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(w)}catch(M){return this.updateIsPreparingToJoin(!1),Promise.reject(M)}}else{if(y=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(w.url&&w.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(w.token&&w.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(w.url&&!this._callObjectMode&&w.url&&w.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(w.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(w),this.properties=ae(ae({},this.properties),w)}return w.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!w.showLocalVideo),w.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!w.showParticipantsBar),this._callState===Ui||this._callState===Tm?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Tm,!1),this.emitDailyJSEvent({action:DF}),this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),w.inputSettings&&w.inputSettings.audio&&(this._preloadCache.inputSettings.audio=w.inputSettings.audio),w.inputSettings&&w.inputSettings.video&&(this._preloadCache.inputSettings.video=w.inputSettings.video),this.sendMessageToCallMachine({action:"join-meeting",properties:Ao(this.properties,this.callClientId),preloadCache:Ao(this._preloadCache,this.callClientId)}),new Promise(function(M,E){f._joinedCallback=function(D,K){if(f._callState!==Zr){if(f._updateCallState(Ui),D)for(var X in D){if(f._callObjectMode){var ye=f._callMachine().store;iS(D[X],ye),oS(D[X],ye),sS(D[X],f._participants[X],ye)}f._participants[X]=ae({},D[X]),f.toggleParticipantAudioBasedOnNativeAudioFocus()}y&&f.loadCss(f.properties),M(D)}else E(K)}}))}),function(){return k.apply(this,arguments)})},{key:"leave",value:(x=oe(function*(){var f=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(w){f._callState===Ni||f._callState===Zr?w():f._callObjectLoader&&!f._callObjectLoader.loaded?(f._callObjectLoader.cancel(),f._updateCallState(Ni),f.resetMeetingDependentVars(),f.emitDailyJSEvent({action:Ni}),w()):(f._resolveLeave=w,f.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return x.apply(this,arguments)})},{key:"startScreenShare",value:(_=oe(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Bc(this._callMachineInitialized,"startScreenShare()"),w.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",w.screenVideoSendSettings),w.mediaStream&&(this._sharedTracks.screenMediaStream=w.mediaStream,w.mediaStream=ba),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var y=this.nativeUtils();if(yield y.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:q_,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});y.setSystemScreenCaptureStartCallback(function(){y.setSystemScreenCaptureStartCallback(null),f.sendMessageToCallMachine({action:K_,captureOptions:w})}),y.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:K_,captureOptions:w})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Bc(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"local-recording-start"},f))}},{key:"updateRecording",value:function(f){var w=f.layout,y=w===void 0?{preset:"default"}:w,M=f.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:y,instanceId:M})}},{key:"stopRecording",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"local-recording-stop"},f))}},{key:"startLiveStreaming",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-start-live-streaming"},f))}},{key:"updateLiveStreaming",value:function(f){var w=f.layout,y=w===void 0?{preset:"default"}:w,M=f.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:y,instanceId:M})}},{key:"addLiveStreamingEndpoints",value:function(f){var w=f.endpoints,y=f.instanceId;this.sendMessageToCallMachine({action:J_,endpointsOp:TV,endpoints:w,instanceId:y})}},{key:"removeLiveStreamingEndpoints",value:function(f){var w=f.endpoints,y=f.instanceId;this.sendMessageToCallMachine({action:J_,endpointsOp:EV,endpoints:w,instanceId:y})}},{key:"stopLiveStreaming",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-stop-live-streaming"},f))}},{key:"validateDailyConfig",value:function(f){f.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(f.camSimulcastEncodings)),f.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),zE()&&f.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(f){if(!(f instanceof Array||Array.isArray(f)))throw new Error("encodings must be an Array");if(!wS(f.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var M=0;M<f.length;M++){var E=f[M];for(var D in this._validateEncodingLayerHasValidProperties(E),E)if(Mp.includes(D)){if(typeof E[D]!="number")throw new Error("".concat(D," must be a number"));if(w){var K=w[D],X=K.min,ye=K.max;if(!wS(E[D],X,ye))throw new Error("".concat(D," value not in range. valid range: ").concat(X," to ").concat(ye))}}else if(!["active","scalabilityMode"].includes(D))throw new Error("Invalid key ".concat(D,", valid keys are:")+Object.values(Mp));if(y&&!E.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(b=oe(function*(f){var w=this,y=f.url,M=f.settings,E=M===void 0?{state:Em.PLAY}:M;try{(function(D){if(typeof D!="string")throw new Error('url parameter must be "string" type')})(y),yS(E),function(D){for(var K in D)if(!mS.includes(K))throw new Error("Invalid key ".concat(K,", valid keys are: ").concat(mS));D.simulcastEncodings&&this.validateSimulcastEncodings(D.simulcastEncodings,HE,!0)}(E)}catch(D){throw console.error("invalid argument Error: ".concat(D)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),D}return new Promise(function(D,K){w.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:y,settings:E},function(X){X.error?K({error:X.error,errorMsg:X.errorMsg}):D({session_id:X.session_id,remoteMediaPlayerState:{state:X.state,settings:X.settings}})})})}),function(f){return b.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(g=oe(function*(f){var w=this;if(typeof f!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(y,M){w.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:f},function(E){E.error?M({error:E.error,errorMsg:E.errorMsg}):y()})})}),function(f){return g.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(S=oe(function*(f){var w=this,y=f.session_id,M=f.settings;try{yS(M)}catch(E){throw console.error("invalid argument Error: ".concat(E)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),E}return new Promise(function(E,D){w.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:y,settings:M},function(K){K.error?D({error:K.error,errorMsg:K.errorMsg}):E({session_id:K.session_id,remoteMediaPlayerState:{state:K.state,settings:K.settings}})})})}),function(f){return S.apply(this,arguments)})},{key:"startTranscription",value:function(f){De(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ae({action:"daily-method-start-transcription"},f))}},{key:"updateTranscription",value:function(f){if(De(this._callState,"updateTranscription()"),!f)throw new Error("updateTranscription Error: options is mandatory");if(Ne(f)!=="object")throw new Error("updateTranscription Error: options must be object type");if(f.participants&&!Array.isArray(f.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ae({action:"daily-method-update-transcription"},f))}},{key:"stopTranscription",value:function(f){if(De(this._callState,"stopTranscription()"),f&&Ne(f)!=="object")throw new Error("stopTranscription Error: options must be object type");if(f&&!f.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(ae({action:"daily-method-stop-transcription"},f))}},{key:"startDialOut",value:(v=oe(function*(f){var w=this;De(this._callState,"startDialOut()");var y=function(M){if(M){if(!Array.isArray(M))throw new Error("Error starting dial out: audio codec must be an array");if(M.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");M.forEach(function(E){if(typeof E!="string")throw new Error("Error starting dial out: audio codec must be a string");if(E!=="OPUS"&&E!=="PCMU"&&E!=="PCMA"&&E!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!f.sipUri&&!f.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(f.sipUri&&f.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(f.sipUri){if(typeof f.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!f.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(f.video&&typeof f.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(M){if(M&&(y(M.audio),M.video)){if(!Array.isArray(M.video))throw new Error("Error starting dial out: video codec must be an array");if(M.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");M.video.forEach(function(E){if(typeof E!="string")throw new Error("Error starting dial out: video codec must be a string");if(E!=="H264"&&E!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(f.codecs)}if(f.phoneNumber){if(typeof f.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(f.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");f.codecs&&y(f.codecs.audio)}if(f.callerId){if(typeof f.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(f.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(f.displayName){if(typeof f.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(f.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(f.userId){if(typeof f.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(f.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(M,E){w.sendMessageToCallMachine(ae({action:"dialout-start"},f),function(D){D.error?E(D.error):M(D)})})}),function(f){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(f){var w=this;return De(this._callState,"stopDialOut()"),new Promise(function(y,M){w.sendMessageToCallMachine(ae({action:"dialout-stop"},f),function(E){E.error?M(E.error):y(E)})})}},{key:"sipCallTransfer",value:(m=oe(function*(f){var w=this;if(De(this._callState,"sipCallTransfer()"),!f)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return f.useSipRefer=!1,vS(f,"sipCallTransfer"),new Promise(function(y,M){w.sendMessageToCallMachine(ae({action:G_},f),function(E){E.error?M(E.error):y(E)})})}),function(f){return m.apply(this,arguments)})},{key:"sipRefer",value:(h=oe(function*(f){var w=this;if(De(this._callState,"sipRefer()"),!f)throw new Error("sessionId and toEndPoint are mandatory parameter");return f.useSipRefer=!0,vS(f,"sipRefer"),new Promise(function(y,M){w.sendMessageToCallMachine(ae({action:G_},f),function(E){E.error?M(E.error):y(E)})})}),function(f){return h.apply(this,arguments)})},{key:"sendDTMF",value:(p=oe(function*(f){var w=this;return De(this._callState,"sendDTMF()"),function(y){var M=y.sessionId,E=y.tones;if(!M||!E)throw new Error("sessionId and tones are mandatory parameter");if(typeof M!="string"||typeof E!="string")throw new Error("sessionId and tones should be of string type");if(E.length>20)throw new Error("tones string must be upto 20 characters");var D=/[^0-9A-D*#]/g,K=E.match(D);if(K&&K[0])throw new Error("".concat(K[0]," is not valid DTMF tone"))}(f),new Promise(function(y,M){w.sendMessageToCallMachine(ae({action:"send-dtmf"},f),function(E){E.error?M(E.error):y(E)})})}),function(f){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var f=this;return this._callState!==Ui?{stats:{latest:{}}}:new Promise(function(w){f.sendMessageToCallMachine({action:"get-calc-stats"},function(y){w(ae({stats:y.stats},f._network))})})}},{key:"testWebsocketConnectivity",value:(d=oe(function*(){var f=this;if(Ip(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}return new Promise(function(w,y){f.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(M){M.error?y(M.error):w(M.results)})})}),function(){return d.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(f){return f?f instanceof MediaStreamTrack?!!GV(f)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(u=oe(function*(){var f=this;Se(),jn(this._callObjectMode,"testCallQuality()"),Bc(this._callMachineInitialized,"testCallQuality()",null,!0),Op(this._callState,this._isPreparingToJoin,"testCallQuality()");var w=this._testCallAlreadyInProgress,y=function(E){w||(f._testCallInProgress=E)};if(y(!0),this.needsLoad())try{var M=this._callState;yield this.load(),this._callState=M}catch(E){return y(!1),Promise.reject(E)}return new Promise(function(E){f.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:f.properties.dailyJsVersion},function(D){var K=D.results,X=K.result,ye=Ab(K,ZV);if(X==="failed"){var Je,ze=ae({},ye);(Je=ye.error)!==null&&Je!==void 0&&Je.details?(ye.error.details=JSON.parse(ye.error.details),ze.error=ae(ae({},ze.error),{},{details:ae({},ze.error.details)}),ze.error.details.duringTest="testCallQuality"):(ze.error=ze.error?ae({},ze.error):{},ze.error.details={duringTest:"testCallQuality"}),f._maybeSendToSentry(ze)}y(!1),E(ae({result:X},ye))})})}),function(){return u.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(c=oe(function*(f){var w;Ce()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),w=yield this.testPeerToPeerCallQuality(f)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),w=yield this.testCallQuality());var y={result:w.result,secondsElapsed:w.secondsElapsed};return w.data&&(y.data={maxRTT:w.data.maxRoundTripTime,packetLoss:w.data.avgRecvPacketLoss}),y}),function(f){return c.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(l=oe(function*(f){var w=this;if(Ip(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}var y=f.videoTrack,M=f.duration;if(!this._validateVideoTrackForNetworkTests(y))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=y,new Promise(function(E,D){w.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:M},function(K){K.error?D(K.error):E(K.results)})})}),function(f){return l.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ce()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(a=oe(function*(f){var w=this;if(Ip(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(y){return Promise.reject(y)}if(!this._validateVideoTrackForNetworkTests(f))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=f,new Promise(function(y,M){w.sendMessageToCallMachine({action:"test-network-connectivity"},function(E){E.error?M(E.error):y(E.results)})})}),function(f){return a.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var f=this;return new Promise(function(w){f._callState===Ui?f.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(y){w(y.cpuStats)}):w({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(f){var w;if(!(((w=Object.keys(f))===null||w===void 0?void 0:w.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Mp))}},{key:"_validateVideoSendSettings",value:function(f,w){var y=f==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],M="Video send settings should be either an object or one of the supported presets: ".concat(y.join());if(typeof w=="string"){if(!y.includes(w))throw new Error(M)}else{if(Ne(w)!=="object")throw new Error(M);if(!w.maxQuality&&!w.encodings&&w.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(w.maxQuality&&["low","medium","high"].indexOf(w.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(w.encodings){var E=!1;switch(Object.keys(w.encodings).length){case 1:E=!w.encodings.low;break;case 2:E=!w.encodings.low||!w.encodings.medium;break;case 3:E=!w.encodings.low||!w.encodings.medium||!w.encodings.high;break;default:E=!0}if(E)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");w.encodings.low&&this._validateEncodingLayerHasValidProperties(w.encodings.low),w.encodings.medium&&this._validateEncodingLayerHasValidProperties(w.encodings.medium),w.encodings.high&&this._validateEncodingLayerHasValidProperties(w.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(f){var w=this;if(!f||Object.keys(f).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(f).forEach(function(y){var M=po(y,2),E=M[0],D=M[1];w._validateVideoSendSettings(E,D)})}},{key:"updateSendSettings",value:function(f){var w=this;return this.validateUpdateSendSettings(f),this.needsLoad()?(this._preloadCache.sendSettings=f,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(y,M){w.sendMessageToCallMachine({action:"update-send-settings",sendSettings:f},function(E){E.error?M(E.error):y(E.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Se(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(f){return Se(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:f}),this}},{key:"activeSpeakerMode",value:function(){return Se(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(f){return De(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=f,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:f}),this}},{key:"enumerateDevices",value:(s=oe(function*(){var f=this;if(this._callObjectMode){var w=yield navigator.mediaDevices.enumerateDevices();return vo()==="Firefox"&&fl().major>115&&fl().major<123&&(w=w.filter(function(y){return y.kind!=="audiooutput"})),{devices:w.map(function(y){var M=JSON.parse(JSON.stringify(y));if(!Ce()&&y.kind==="videoinput"&&y.getCapabilities){var E,D=y.getCapabilities();M.facing=(D==null||(E=D.facingMode)===null||E===void 0?void 0:E.length)>=1?D.facingMode[0]:void 0}return M})}}return new Promise(function(y){f.sendMessageToCallMachine({action:"enumerate-devices"},function(M){y({devices:M.devices})})})}),function(){return s.apply(this,arguments)})},{key:"sendAppMessage",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(De(this._callState,"sendAppMessage()"),JSON.stringify(f).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:f,to:w}),this}},{key:"addFakeParticipant",value:function(f){return Se(),De(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ae({action:"add-fake-participant"},f)),this}},{key:"setShowNamesMode",value:function(f){return nn(this._callObjectMode,"setShowNamesMode()"),Se(),f&&f!=="always"&&f!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:f}),this)}},{key:"setShowLocalVideo",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return nn(this._callObjectMode,"setShowLocalVideo()"),Se(),De(this._callState,"setShowLocalVideo()"),typeof f!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:f}),this._showLocalVideo=f,this)}},{key:"showLocalVideo",value:function(){return nn(this._callObjectMode,"showLocalVideo()"),Se(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return nn(this._callObjectMode,"setShowParticipantsBar()"),Se(),De(this._callState,"setShowParticipantsBar()"),typeof f!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:f}),this._showParticipantsBar=f,this)}},{key:"showParticipantsBar",value:function(){return nn(this._callObjectMode,"showParticipantsBar()"),Se(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Se(),nn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(f){return Se(),nn(this._callObjectMode,"setCustomIntegrations()"),De(this._callState,"setCustomIntegrations()"),eC(f)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:f}),this._customIntegrations=f,this):this}},{key:"startCustomIntegrations",value:function(f){var w=this;if(Se(),nn(this._callObjectMode,"startCustomIntegrations()"),De(this._callState,"startCustomIntegrations()"),Array.isArray(f)&&f.some(function(E){return typeof E!="string"})||!Array.isArray(f)&&typeof f!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var y=typeof f=="string"?[f]:f,M=y.filter(function(E){return!(E in w._customIntegrations)});return M.length?(console.error(`Can't find custom integration(s): "`.concat(M.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:y}),this)}},{key:"stopCustomIntegrations",value:function(f){var w=this;if(Se(),nn(this._callObjectMode,"stopCustomIntegrations()"),De(this._callState,"stopCustomIntegrations()"),Array.isArray(f)&&f.some(function(E){return typeof E!="string"})||!Array.isArray(f)&&typeof f!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var y=typeof f=="string"?[f]:f,M=y.filter(function(E){return!(E in w._customIntegrations)});return M.length?(console.error(`Can't find custom integration(s): "`.concat(M.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:y}),this)}},{key:"customTrayButtons",value:function(){return nn(this._callObjectMode,"customTrayButtons()"),Se(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(f){return nn(this._callObjectMode,"updateCustomTrayButtons()"),Se(),De(this._callState,"updateCustomTrayButtons()"),XE(f)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:f}),this._customTrayButtons=f,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(sd))),this)}},{key:"theme",value:function(){return nn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(f){var w=this;return nn(this._callObjectMode,"setTheme()"),new Promise(function(y,M){try{w.validateProperties({theme:f}),w.properties.theme=ae({},f),w.sendMessageToCallMachine({action:"set-theme",theme:w.properties.theme});try{w.emitDailyJSEvent({action:OF,theme:w.properties.theme})}catch(E){console.log("could not emit 'theme-updated'",E)}y(w.properties.theme)}catch(E){M(E)}})}},{key:"requestFullscreen",value:(o=oe(function*(){if(Se(),this._iframe&&!document.fullscreenElement&&Z_())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(f){console.log("could not make video call fullscreen",f)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Se(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=oe(function*(){var f=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(w){f.sendMessageToCallMachine({action:"get-sidebar-view"},function(y){w(y.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(f){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:f}),this)}},{key:"room",value:(r=oe(function*(){var f=this,w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,y=w===void 0||w;return this._accessState.access===xp||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(M){f.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:y},function(E){delete E.action,delete E.callbackStamp,M(E)})})}),function(){return r.apply(this,arguments)})},{key:"geo",value:(n=oe(function*(){try{var f=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield f.json()).geo}}catch(w){return console.error("geo lookup failed",w),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(t=oe(function*(f){var w=this;return Se(),De(this._callState,"setNetworkTopology()"),new Promise(function(y,M){w.sendMessageToCallMachine({action:"set-network-topology",opts:f},function(E){E.error?M({error:E.error}):y({workerId:E.workerId})})})}),function(f){return t.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=oe(function*(){var f=this;return new Promise(function(w,y){f.needsLoad()&&w({topology:"none"}),f.sendMessageToCallMachine({action:"get-network-topology"},function(M){M.error?y({error:M.error}):w({topology:M.topology})})})}),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(f){if(Se(),typeof f!="number"&&f!==!0&&f!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(f));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:f})}},{key:"on",value:function(f,w){return Pr.prototype.on.call(this,f,w)}},{key:"once",value:function(f,w){return Pr.prototype.once.call(this,f,w)}},{key:"off",value:function(f,w){return Pr.prototype.off.call(this,f,w)}},{key:"validateProperties",value:function(f){for(var w in f){if(!Di[w])throw new Error("unrecognized property '".concat(w,"'"));if(Di[w].validate&&!Di[w].validate(f[w],this))throw new Error("property '".concat(w,"': ").concat(Di[w].help))}}},{key:"assembleMeetingUrl",value:function(){var f,w,y=ae(ae({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(f=this.properties.dailyConfig)!==null&&f!==void 0&&f.proxyUrl?encodeURIComponent((w=this.properties.dailyConfig)===null||w===void 0?void 0:w.proxyUrl):void 0}),M=y.url.match(/\?/)?"&":"?";return y.url+M+Object.keys(Di).filter(function(E){return Di[E].queryString&&y[E]!==void 0}).map(function(E){return"".concat(Di[E].queryString,"=").concat(y[E])}).join("&")}},{key:"needsLoad",value:function(){return[L_,$_,Ni,Zr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(f,w){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(f,w,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(f){this._messageChannel.forwardPackagedMessageToCallMachine(f,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(f){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(f,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(f){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(f)}},{key:"handleMessageFromCallMachine",value:function(f){switch(f.action){case PF:this.sendMessageToCallMachine(ae({action:MF},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var w={action:$c,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Qu(this.properties.dailyConfig)}};this.sendMessageToCallMachine(w),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case z_:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(f);break;case LF:var y,M=ae({},f);delete M.internal,this._maxAppMessageSize=((y=f.internal)===null||y===void 0?void 0:y._maxAppMessageSize)||Tp,this._joinedCallback&&(this._joinedCallback(f.participants),this._joinedCallback=null),this.emitDailyJSEvent(M);break;case FF:case VF:if(this._callState===Ni)return;if(f.participant&&f.participant.session_id){var E=f.participant.local?"local":f.participant.session_id;if(this._callObjectMode){var D=this._callMachine().store;iS(f.participant,D),oS(f.participant,D),sS(f.participant,this._participants[E],D)}try{this.maybeParticipantTracksStopped(this._participants[E],f.participant),this.maybeParticipantTracksStarted(this._participants[E],f.participant),this.maybeEventRecordingStopped(this._participants[E],f.participant),this.maybeEventRecordingStarted(this._participants[E],f.participant)}catch(Tf){console.error("track events error",Tf)}this.compareEqualForParticipantUpdateEvent(f.participant,this._participants[E])||(this._participants[E]=ae({},f.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(f))}break;case zF:if(f.participant&&f.participant.session_id){var K=this._participants[f.participant.session_id];K&&this.maybeParticipantTracksStopped(K,null),delete this._participants[f.participant.session_id],this.emitDailyJSEvent(f)}break;case BF:Ht(this._participantCounts,f.participantCounts)||(this._participantCounts=f.participantCounts,this.emitDailyJSEvent(f));break;case UF:var X={access:f.access};f.awaitingAccess&&(X.awaitingAccess=f.awaitingAccess),Ht(this._accessState,X)||(this._accessState=X,this.emitDailyJSEvent(f));break;case qF:if(f.meetingSession){this._meetingSessionSummary=f.meetingSession,this.emitDailyJSEvent(f);var ye=ae(ae({},f),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ye)}break;case W_:var Je;this._iframe&&!f.preserveIframe&&(this._iframe.src=""),this._updateCallState(Zr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(f.errorMsg),this._loadedCallback=null),f.preserveIframe;var ze=Ab(f,YV);ze!=null&&(Je=ze.error)!==null&&Je!==void 0&&Je.details&&(ze.error.details=JSON.parse(ze.error.details)),this._maybeSendToSentry(f),this._joinedCallback&&(this._joinedCallback(null,ze),this._joinedCallback=null),this.emitDailyJSEvent(ze);break;case $F:this._callState!==Zr&&this._updateCallState(Ni),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(f);break;case"selected-devices-updated":f.devices&&this.emitDailyJSEvent(f);break;case hV:var st=f.threshold,tn=f.quality;st===this._network.threshold&&tn===this._network.quality||(this._network.quality=tn,this._network.threshold=st,this.emitDailyJSEvent(f));break;case gV:f&&f.cpuLoadState&&this.emitDailyJSEvent(f);break;case vV:f&&f.faceCounts!==void 0&&this.emitDailyJSEvent(f);break;case fV:var gn=f.activeSpeaker;this._activeSpeaker.peerId!==gn.peerId&&(this._activeSpeaker.peerId=gn.peerId,this.emitDailyJSEvent({action:f.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Oi=f.show;this._showLocalVideo=Oi,this.emitDailyJSEvent({action:f.action,show:Oi});break;case pV:var Wr=f.enabled;this._activeSpeakerMode!==Wr&&(this._activeSpeakerMode=Wr,this.emitDailyJSEvent({action:f.action,enabled:this._activeSpeakerMode}));break;case HF:case KF:case JF:this._waitingParticipants=f.allWaitingParticipants,this.emitDailyJSEvent({action:f.action,participant:f.participant});break;case kV:Ht(this._receiveSettings,f.receiveSettings)||(this._receiveSettings=f.receiveSettings,this.emitDailyJSEvent({action:f.action,receiveSettings:f.receiveSettings}));break;case xV:if(!Ht(this._inputSettings,f.inputSettings)){var dt=this._getInputSettings();this._inputSettings=f.inputSettings,this._preloadCache.inputSettings={},Ht(dt,this._getInputSettings())||this.emitDailyJSEvent({action:f.action,inputSettings:this._getInputSettings()})}break;case"send-settings-updated":Ht(this._sendSettings,f.sendSettings)||(this._sendSettings=f.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:f.action,sendSettings:f.sendSettings}));break;case"local-audio-level":this._localAudioLevel=f.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(f);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=f.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(f);break;case sV:var vn=f.session_id;this._rmpPlayerState[vn]=f.playerState,this.emitDailyJSEvent(f);break;case lV:delete this._rmpPlayerState[f.session_id],this.emitDailyJSEvent(f);break;case aV:var Ge=f.session_id,yn=this._rmpPlayerState[Ge];yn&&this.compareEqualForRMPUpdateEvent(yn,f.remoteMediaPlayerState)||(this._rmpPlayerState[Ge]=f.remoteMediaPlayerState,this.emitDailyJSEvent(f));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(f);break;case WF:var xf=this._meetingSessionState.topology!==(f.meetingSessionState&&f.meetingSessionState.topology);this._meetingSessionState=Rp(f.meetingSessionState,this._callObjectMode),(this._callObjectMode||xf)&&this.emitDailyJSEvent(f);break;case cV:this._isScreenSharing=!0,this.emitDailyJSEvent(f);break;case uV:case dV:this._isScreenSharing=!1,this.emitDailyJSEvent(f);break;case B_:case U_:case eV:case tV:case nV:case YF:case QF:case XF:case NF:case jF:case iV:case oV:case"test-completed":case mV:case rV:case yV:case wV:case bV:case _V:case q_:case SV:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(f);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(f,w){var y="record";f&&(w.local||w[y]!==!1||f[y]===w[y]||this.emitDailyJSEvent({action:U_}))}},{key:"maybeEventRecordingStarted",value:function(f,w){var y="record";f&&(w.local||w[y]!==!0||f[y]===w[y]||this.emitDailyJSEvent({action:B_}))}},{key:"maybeEventTrackStopped",value:function(f,w,y,M){f&&(f.readyState!=="ended"&&w&&f.id===w.id||this.emitDailyJSEvent({action:ZF,track:f,participant:y,type:M}))}},{key:"maybeEventTrackStarted",value:function(f,w,y,M){w&&(f&&f.readyState!=="ended"&&w.id===f.id||this.emitDailyJSEvent({action:GF,track:w,participant:y,type:M}))}},{key:"maybeParticipantTracksStopped",value:function(f,w){if(f)for(var y in f.tracks)this.maybeEventTrackStopped(f.tracks[y].track,w&&w.tracks[y]?w.tracks[y].track:null,w,y)}},{key:"maybeParticipantTracksStarted",value:function(f,w){if(w)for(var y in w.tracks)this.maybeEventTrackStarted(f&&f.tracks[y]?f.tracks[y].track:null,w.tracks[y].track,w,y)}},{key:"compareEqualForRMPUpdateEvent",value:function(f,w){var y,M;return f.state===w.state&&((y=f.settings)===null||y===void 0?void 0:y.volume)===((M=w.settings)===null||M===void 0?void 0:M.volume)}},{key:"emitDailyJSEvent",value:function(f){try{f.callClientId=this.callClientId,this.emit(f.action,f)}catch(w){console.log("could not emit",f,w)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(f,w){return!!Ht(f,w)&&(!f.videoTrack||!w.videoTrack||f.videoTrack.id===w.videoTrack.id&&f.videoTrack.muted===w.videoTrack.muted&&f.videoTrack.enabled===w.videoTrack.enabled)&&(!f.audioTrack||!w.audioTrack||f.audioTrack.id===w.audioTrack.id&&f.audioTrack.muted===w.audioTrack.muted&&f.audioTrack.enabled===w.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ce()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(f){this._updateCallState(this._callState,f)}},{key:"_updateCallState",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(f!==this._callState||w!==this._isPreparingToJoin){var y=this._callState,M=this._isPreparingToJoin;this._callState=f,this._isPreparingToJoin=w;var E=this._callState===Ui;this.updateShowAndroidOngoingMeetingNotification(E);var D=uu(y,M),K=uu(this._callState,this._isPreparingToJoin);D!==K&&(this.updateKeepDeviceAwake(K),this.updateDeviceAudioMode(K),this.updateNoOpRecordingEnsuringBackgroundContinuity(K))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=hS,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:xp},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Rp(pS,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Tp,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(f){Ce()&&this.nativeUtils().setKeepDeviceAwake(f,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(f){if(Ce()&&!this.disableReactNativeAutoDeviceManagement("audio")){var w=f?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(w)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(f){if(Ce()&&this.nativeUtils().setShowOngoingMeetingNotification){var w,y,M,E;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var D=this.properties.reactNativeConfig.androidInCallNotification;w=D.title,y=D.subtitle,M=D.iconName,E=D.disableForCustomOverride}E&&(f=!1),this.nativeUtils().setShowOngoingMeetingNotification(f,w,y,M,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(f){Ce()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(f)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var f,w;if(Ce()){var y=(f=this._callMachine())===null||f===void 0||(w=f.store)===null||w===void 0?void 0:w.getState();for(var M in y==null?void 0:y.streams){var E=y.streams[M];E&&E.pendingTrack&&E.pendingTrack.kind==="audio"&&(E.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(f){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[f]}},{key:"absoluteUrl",value:function(f){if(f!==void 0){var w=document.createElement("a");return w.href=f,w.href}}},{key:"sayHello",value:function(){var f="hello, world.";return console.log(f),f}},{key:"_logUseAfterDestroy",value:function(){var f=Object.values(ji)[0];if(this.needsLoad())if(f&&!f.needsLoad()){var w={action:$c,level:"error",code:this.strictMode?9995:9997};f.sendMessageToCallMachine(w)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var y={action:$c,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(y,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var f=0,w=Object.values(ji);f<w.length;f++){var y=w[f];y._callMachineInitialized?(y.sendMessageToCallMachine({action:$c,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),y._delayDuplicateInstanceLog=!1):y._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(f){var w,y,M,E,D,K;if(!((w=f.error)!==null&&w!==void 0&&w.type&&(![AF,CF,V_].includes(f.error.type)||f.error.type===V_&&f.error.msg.includes("deleted")))){var X=(y=this.properties)!==null&&y!==void 0&&y.url?new URL(this.properties.url):void 0,ye="production";X&&X.host.includes(".staging.daily")&&(ye="staging");var Je,ze,st,tn,gn,Oi=[Q$(),Z$(),yF(),gF(),SF(),xF(),X$(),kF()].filter(function(Tf){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Tf.name)}),Wr=new iF({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:cF,stackParser:mF,integrations:Oi,environment:ye}),dt=new Si;if(dt.setClient(Wr),Wr.init(),this.session_id&&dt.setExtra("sessionId",this.session_id),this.properties){var vn=ae({},this.properties);vn.userName=vn.userName?"[Filtered]":void 0,vn.userData=vn.userData?"[Filtered]":void 0,vn.token=vn.token?"[Filtered]":void 0,dt.setExtra("properties",vn)}if(X){var Ge=X.searchParams.get("domain");if(!Ge){var yn=X.host.match(/(.*?)\./);Ge=yn&&yn[1]||""}Ge&&dt.setTag("domain",Ge)}f.error&&(dt.setTag("fatalErrorType",f.error.type),dt.setExtra("errorDetails",f.error.details),!((Je=f.error.details)===null||Je===void 0)&&Je.uri&&dt.setTag("serverAddress",f.error.details.uri),!((ze=f.error.details)===null||ze===void 0)&&ze.workerGroup&&dt.setTag("workerGroup",f.error.details.workerGroup),!((st=f.error.details)===null||st===void 0)&&st.geoGroup&&dt.setTag("geoGroup",f.error.details.geoGroup),!((tn=f.error.details)===null||tn===void 0)&&tn.on&&dt.setTag("connectionAttempt",f.error.details.on),(gn=f.error.details)!==null&&gn!==void 0&&gn.bundleUrl&&(dt.setTag("bundleUrl",f.error.details.bundleUrl),dt.setTag("bundleError",f.error.details.sourceError.type))),dt.setTags({callMode:this._callObjectMode?Ce()?"reactNative":(M=this.properties)!==null&&M!==void 0&&(E=M.dailyConfig)!==null&&E!==void 0&&(D=E.callMode)!==null&&D!==void 0&&D.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:_e.version()});var xf=((K=f.error)===null||K===void 0?void 0:K.msg)||f.errorMsg;dt.captureException(new Error(xf))}}},{key:"_callMachine",value:function(){var f,w,y;return(f=window._daily)===null||f===void 0||(w=f.instances)===null||w===void 0||(y=w[this.callClientId])===null||y===void 0?void 0:y.callMachine}}],[{key:"supportedBrowser",value:function(){if(Ce())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var f=m$.getParser(Rn());return{supported:!!Y_(),mobile:f.getPlatformType()==="mobile",name:f.getBrowserName(),version:f.getBrowserVersion(),supportsFullscreen:!!Z_(),supportsScreenShare:!!CV(),supportsSfu:!!Y_(),supportsVideoProcessing:FE(),supportsAudioProcessing:VE()}}},{key:"version",value:function(){return"0.73.0"}},{key:"createCallObject",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.layout="none",new _e(null,f)}},{key:"wrap",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Se(),!f||!f.contentWindow||typeof f.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return w.layout||(w.customLayout?w.layout="custom-v1":w.layout="browser"),new _e(f,w)}},{key:"createFrame",value:function(f,w){var y,M;Se(),f&&w?(y=f,M=w):f&&f.append?(y=f,M={}):(y=document.body,M=f||{});var E=M.iframeStyle;E||(E=y===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var D=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?D.allow="microphone, camera":D.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",D.style.visibility="hidden",y.appendChild(D),D.style.visibility=null,Object.keys(E).forEach(function(K){return D.style[K]=E[K]}),M.layout||(M.customLayout?M.layout="custom-v1":M.layout="browser");try{return new _e(D,M)}catch(K){throw y.removeChild(D),K}}},{key:"createTransparentFrame",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Se();var w=document.createElement("iframe");return w.allow="microphone; camera; autoplay",w.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(w),f.layout||(f.layout="custom-v1"),_e.wrap(w,f)}},{key:"getCallInstance",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return f?ji[f]:Object.values(ji)[0]}}]),_e}();function Ao(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)n[r]=ba;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var o=window._daily.instances[t].customCallbacks||{};o.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=o,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function De(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==Ui){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function uu(e,t){return[Tm,Ui].includes(e)||t}function Op(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(uu(e,t)){var i="".concat(n," not supported after joining a meeting.");throw r&&(i+=" ".concat(r)),console.error(i),new Error(i)}}function Bc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Ip(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function jn(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function nn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Se(){if(Ce())throw new Error("This daily-js method is not currently supported in React Native")}function aa(){if(!Ce())throw new Error("This daily-js method is only supported in React Native")}function KE(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Ht(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function JE(e,t){for(var n=t.allowAllParticipantsKey,r=function(d){var p=["local"];return n||p.push("*"),d&&!p.includes(d)},i=function(d){return!!(d.layer===void 0||Number.isInteger(d.layer)&&d.layer>=0||d.layer==="inherit")},o=function(d){return!!d&&!(d.video&&!i(d.video))&&!(d.screenVideo&&!i(d.screenVideo))},s=0,a=Object.entries(e);s<a.length;s++){var l=po(a[s],2),c=l[0],u=l[1];if(!r(c)||!o(u))return!1}return!0}function GE(e){return Ne(e)==="object"&&!(e.video&&(Ne(e.video)!=="object"||!function(i){var o=["type","config"];return!i||Ne(i)!=="object"||!function(s){return typeof s!="string"?!1:Object.values(cu).includes(s)?!0:(console.error("inputSettings video processor type invalid"),!1)}(i.type)||i.config&&(Ne(i.config)!=="object"||!function(s,a){var l=Object.keys(a);if(l.length===0)return!0;var c="invalid object in inputSettings -> video -> processor -> config";switch(s){case cu.BGBLUR:return l.length>1||l[0]!=="strength"?(console.error(c),!1):!(typeof a.strength!="number"||a.strength<=0||a.strength>1||isNaN(a.strength))||(console.error("".concat(c,"; expected: {0 < strength <= 1}, got: ").concat(a.strength)),!1);case cu.BGIMAGE:return!(a.source!==void 0&&!function(u){if(u.source==="default")return u.type="default",!0;if(u.source instanceof ArrayBuffer)return!0;if(Xu(u.source))return u.type="url",!!function(h){var m=new URL(h),v=m.pathname;if(m.protocol==="data:")try{var S=v.substring(v.indexOf(":")+1,v.indexOf(";")).split("/")[1];return Cp.includes(S)}catch(b){return console.error("failed to deduce blob content type",b),!1}var g=v.split(".").at(-1).toLowerCase().trim();return Cp.includes(g)}(u.source)||(console.error("invalid image type; supported types: [".concat(Cp.join(", "),"]")),!1);return d=u.source,p=Number(d),isNaN(p)||!Number.isInteger(p)||p<=0||p>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(u.type="daily-preselect",!0);var d,p}(a));default:return!0}}(i.type,i.config))?!1:(Object.keys(i).filter(function(s){return!o.includes(s)}).forEach(function(s){console.warn("invalid key inputSettings -> video -> processor : ".concat(s)),delete i[s]}),!0)}(e.video.processor)))&&!(e.audio&&(Ne(e.audio)!=="object"||(n=e.audio.processor,r=["type"],!n||Ne(n)!=="object"||(Object.keys(n).filter(function(i){return!r.includes(i)}).forEach(function(i){console.warn("invalid key inputSettings -> audio -> processor : ".concat(i)),delete n[i]}),t=n.type,typeof t!="string"||!Object.values(LE).includes(t)&&(console.error("inputSettings audio processor type invalid"),1)))));var t,n,r}function ZE(e,t){var n,r=[];e.video&&!FE((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)&&(delete e.video,r.push("video")),e.audio&&!VE()&&(delete e.audio,r.push("audio")),r.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(r.join(", ")))}function Im(){var e=Object.values(cu).join(" | "),t=Object.values(LE).join(" | ");return"inputSettings must be of the form: { video?: { processor: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function YE(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(EF).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function QE(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Om),".")}function XE(e){if(e&&Ne(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(sd),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=po(n[t],1)[0],i=0,o=Object.entries(e[r]);i<o.length;i++){var s=po(o[i],2),a=s[0],l=s[1],c=sd.id[a];if(!c)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Xu(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Ne(l)!==c)return console.error("customTrayButton ".concat(a," should be a ").concat(c,".")),!1}}return!0}function eC(e){if(!e||e&&Ne(e)!=="object"||Array.isArray(e))return console.error(QE()),!1;for(var t=function(d){return"".concat(d," should be ").concat(Om.id[d])},n=function(d,p){return console.error("customIntegration ".concat(d,": ").concat(p))},r=0,i=Object.entries(e);r<i.length;r++){var o=po(i[r],1)[0];if(!("label"in e[o]))return n(o,"label is required"),!1;if(!("location"in e[o]))return n(o,"location is required"),!1;if(!("src"in e[o])&&!("srcdoc"in e[o]))return n(o,"src or srcdoc is required"),!1;for(var s=0,a=Object.entries(e[o]);s<a.length;s++){var l=po(a[s],2),c=l[0],u=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof u!="string")return n(o,t(c)),!1;break;case"iconURL":if(!Xu(u))return n(o,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in e[o])return n(o,"cannot have both src and srcdoc"),!1;if(!Xu(u))return n(o,'src "'.concat(u,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[o])return n(o,"cannot have both src and srcdoc"),!1;if(typeof u!="string")return n(o,t(c)),!1;break;case"location":if(!["main","sidebar"].includes(u))return n(o,t(c)),!1;break;case"controlledBy":if(u!=="*"&&u!=="owners"&&(!Array.isArray(u)||u.some(function(d){return typeof d!="string"})))return n(o,t(c)),!1;break;case"shared":if((!Array.isArray(u)||u.some(function(d){return typeof d!="string"}))&&u!=="owners"&&typeof u!="boolean")return n(o,t(c)),!1;break;default:if(!Om.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function tC(e,t){if(t===void 0)return!1;switch(Ne(t)){case"string":return Ne(e)===t;case"object":if(Ne(e)!=="object")return!1;for(var n in e)if(!tC(e[n],t[n]))return!1;return!0;default:return!1}}function vS(e,t){var n=e.sessionId,r=e.toEndPoint,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'))}function yS(e){if(Ne(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Em).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Em));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function wS(e,t,n){return!(typeof e!="number"||e<t||e>n)}function Rp(e,t){return e&&!t&&delete e.data,e}function bS(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){n(c);return}a.done?t(l):Promise.resolve(l).then(r,i)}function Nr(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){bS(o,r,i,s,a,"next",l)}function a(l){bS(o,r,i,s,a,"throw",l)}s(void 0)})}}function ot(){return ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(this,arguments)}function hy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function e4(e,t){if(e){if(typeof e=="string")return _S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(e,t)}}function _S(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nC(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=e4(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rC=A.createContext(null),yr=function(){var t=A.useContext(rC);return A.useDebugValue(t),t},my=A.createContext({on:function(){},off:function(){}}),t4=-1,Rm=function(){return t4--},n4=1,Nm=function(){return n4++},ce=function(t,n,r){r===void 0&&(r=!1);var i=A.useContext(my),o=i.off,s=i.on,a=A.useState(!1),l=a[0],c=a[1],u=A.useRef(0),d=A.useMemo(function(){return r?Rm():Nm()},[r]);A.useEffect(function(){if(!(!t||l)){if(u.current>1e5){console.error(`useDailyEvent called with potentially non-memoized event callback or due to too many re-renders.
        Memoize using useCallback to avoid re-render loop or reduce the amount of state transitions the callback depends on.
        Passed callback for '`+t+"' event is NOT registered.",n),c(!0);return}u.current++;var p=setTimeout(function(){u.current=0},50);return s(t,n,d),function(){clearTimeout(p),o(t,d)}}},[n,t,d,l,o,s]),A.useDebugValue({event:t,eventId:d,isBlocked:l,callback:n})};function Un(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Un(e[n],t[n]))return!1;return!0}if(MediaStream&&e instanceof MediaStream&&t instanceof MediaStream)return e.id===t.id&&e.active===t.active&&e.getTracks().length===t.getTracks().length&&e.getTracks().every(function(m,v){return Un(m,t.getTracks()[v])});if(MediaStreamTrack&&e instanceof MediaStreamTrack&&t instanceof MediaStreamTrack)return e.id===t.id&&e.kind===t.kind&&e.readyState===t.readyState;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var r=Array.from(e).sort(),i=Array.from(t).sort();return r.every(function(m,v){return Un(m,i[v])})}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(var o=nC(e.entries()),s;!(s=o()).done;){var a=s.value,l=a[0],c=a[1];if(!t.has(l)||!Un(c,t.get(l)))return!1}return!0}if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var p=0;p<u.length;p++){var h=u[p];if(!Object.prototype.hasOwnProperty.call(t,h)||!Un(e[h],t[h]))return!1}return!0}function iC(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],o=r!==null&&typeof r=="object",s=i!==null&&typeof i=="object";if(o||s){if(!Un(r,i))return!1}else if(r!==i)return!1}return!0}function Me(e){return"daily-react-"+e}function gy(e){var t=new Map,n=new Map;return function(r){if(!t.has(r)){var i=ee(function(o){var s=e.get(r)(o),a=n.get(r);return a!=null&&e.equals(s,a)?a:(n.set(r,s),s)});t.set(r,i)}return t.get(r)}}var vy="::",oC=";",yy=function(t,n){return t+vy+n},r4=function(t,n){return t+vy+n.join(oC)},Pt=function(t,n){return wy(yy(t,n))},Po=Zd(function(e){var t=ee([]);return t.debugLabel=Me("participant-property-paths-"+e),t}),wy=Zd(function(e){var t=ee(null);return t.debugLabel=Me("participant-property-"+e),t}),i4=gy({equals:iC,get:function(t){return function(n){var r=t.split(vy),i=r[0],o=r[1],s=o.split(oC);return s.map(function(a){return n(Pt(i,a))})}}}),sC=function(t,n){var r,i=At(Array.isArray(n)?i4(r4(t,n)):wy(yy(t,n)));return A.useDebugValue(Array.isArray(n)?n.reduce(function(o,s,a){return o[s]=i[a],o},{}):(r={},r[n]=i,r)),i},ad=function(t,n,r,i){r===void 0&&(r=500),i===void 0&&(i=!1);var o=A.useContext(my),s=o.off,a=o.on,l=A.useMemo(function(){var d;return Array.isArray(t)?t.reduce(function(p,h){return p[h]=i?Rm():Nm(),p},{}):(d={},d[t]=i?Rm():Nm(),d)},[t,i]),c=A.useRef([]);ce("call-instance-destroyed",A.useCallback(function(){c.current.length=0},[]));var u=A.useMemo(function(){return a$(function(){c.current.length!==0&&(n(c.current),c.current.length=0)},r,{trailing:!0})},[n,r]);A.useEffect(function(){if(t){var d=function(h){c.current.push(h),u()};return Array.isArray(t)?t.forEach(function(p){return a(p,d,l[p])}):a(t,d,l[t]),function(){Array.isArray(t)?t.forEach(function(p){return s(p,l[p])}):s(t,l[t])}}},[u,t,l,s,a]),A.useDebugValue({event:t,eventId:l})},o4=function e(t,n,r){if(n===void 0&&(n=""),r===void 0&&(r=new Set),typeof t!="object"||t===null||r.has(t))return[n];r.add(t);var i=[];for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=n?n+"."+o:o;i.push.apply(i,[s].concat(e(t[o],s,r)))}return r.delete(t),i},Np=function(t){return o4(t)},s4=function(t,n){return String(n).split(".").filter(function(r){return r.length}).reduce(function(r,i){return r&&r[i]},t)},jp=function(t,n){return n.map(function(r){return s4(t,r)})},ld=ee(null);ld.debugLabel=Me("active-id");var La=ee("");La.debugLabel=Me("local-id");var aC=ee(null);aC.debugLabel=Me("local-join-date");var qi=ee([]);qi.debugLabel=Me("participant-ids");var zi=Zd(function(e){var t=ee(null);return t.debugLabel=Me("participant-"+e),t}),jm=ee([]);jm.debugLabel=Me("waiting-participants");var Dp=Zd(function(e){var t=ee({awaitingAccess:{level:"full"},id:e,name:""});return t.debugLabel=Me("waiting-participant-"+e),t}),a4=function(t){var n=t.children,r=yr(),i=A.useState(!1),o=i[0],s=i[1],a=ge(A.useCallback(function(u,d,p){d(La,p.local.session_id);var h=Object.values(p),m=h.map(function(v){return v.session_id});d(qi,m),h.forEach(function(v){d(zi(v.session_id),v);var S=Np(v);d(Po(v.session_id),S),S.forEach(function(g){var b=jp(v,[g]),_=b[0];d(Pt(v.session_id,g),_)})}),s(!0)},[]));A.useEffect(function(){if(!(!r||o)){var u=setInterval(function(){var d=r.participants();"local"in d&&(a(d),clearInterval(u))},100);return function(){clearInterval(u)}}},[r,o,a]);var l=A.useCallback(function(){if(r){var u=r==null?void 0:r.participants();u.local&&a(u)}},[r,a]);ce("started-camera",l,!0),ce("access-state-updated",l,!0),ce("joining-meeting",ge(A.useCallback(function(u,d){d(aC,new Date),l()},[l])),!0),ce("joined-meeting",A.useCallback(function(u){a(u.participants)},[a]),!0);var c=ge(A.useCallback(function(u,d){d(La,""),d(ld,null);var p=u(qi);p.forEach(function(h){return zi.remove(h)}),d(qi,[])},[]));return ce("call-instance-destroyed",c,!0),ce("left-meeting",c,!0),ad(["active-speaker-change","participant-joined","participant-updated","participant-left"],ge(A.useCallback(function(u,d,p){p.length&&p.forEach(function(h){switch(h.action){case"active-speaker-change":{d(ld,h.activeSpeaker.peerId),d(zi(h.activeSpeaker.peerId),function(k){return k?ot({},k,{last_active:new Date}):null});break}case"participant-joined":{d(qi,function(k){return k.includes(h.participant.session_id)?k:[].concat(k,[h.participant.session_id])}),d(zi(h.participant.session_id),h.participant);var m=Np(h.participant);d(Po(h.participant.session_id),m),m.forEach(function(k){var T=jp(h.participant,[k]),C=T[0];d(Pt(h.participant.session_id,k),C)});break}case"participant-updated":{d(zi(h.participant.session_id),h.participant),h.participant.local&&d(La,h.participant.session_id);var v=Np(h.participant),S=u(Po(h.participant.session_id)),g=v.length!==S.length||v.some(function(k){return!S.includes(k)});g&&d(Po(h.participant.session_id),v);var b=new Set(S),_=jp(h.participant,v);v.forEach(function(k,T){var C=_[T];b.delete(k),d(Pt(h.participant.session_id,k),function(P){return Un(P,C)?P:C})}),b.forEach(function(k){d(Pt(h.participant.session_id,k),null)});break}case"participant-left":{d(qi,function(k){return k.includes(h.participant.session_id)?k.filter(function(T){return T!==h.participant.session_id}):k}),zi.remove(h.participant.session_id);var x=u(Po(h.participant.session_id));x.forEach(function(k){wy.remove(yy(h.participant.session_id,k))}),Po.remove(h.participant.session_id);break}}})},[])),100,!0),ad(["waiting-participant-added","waiting-participant-updated","waiting-participant-removed"],ge(A.useCallback(function(u,d,p){p.forEach(function(h){switch(h.action){case"waiting-participant-added":d(jm,function(m){return m.includes(h.participant.id)?m:[].concat(m,[h.participant.id])}),d(Dp(h.participant.id),h.participant);break;case"waiting-participant-updated":d(Dp(h.participant.id),h.participant);break;case"waiting-participant-removed":d(jm,function(m){return m.filter(function(v){return v!==h.participant.id})}),Dp.remove(h.participant.id);break}})},[])),100,!0),xe.createElement(xe.Fragment,null,n)},tc=function(){var t=At(La);return A.useDebugValue(t),t},l4=function(){return!0},c4=function(t){var n=t===void 0?{}:t,r=n.filter,i=r===void 0?l4:r,o=n.ignoreLocal,s=o===void 0?!1:o,a=tc(),l=At(ld),c=s&&l===a,u=!(i!=null&&i(l)),d=!c&&!u,p=A.useState(d?l:null),h=p[0],m=p[1];return A.useEffect(function(){c||u||m(l)},[u,c,l]),A.useDebugValue(h),h},cd=function(t){return["blocked","off"].includes(t)},lC=";",cC=function(t,n){return""+t+lC+n},uC=gy({equals:Un,get:function(t){return function(n){var r=t.split(lC),i=r[0],o=r[1],s=n(qi);return s.filter(function(a){switch(i){case"local":case"owner":case"record":return n(Pt(a,i));case"remote":return!n(Pt(a,"local"));case"screen":{var l=n(Pt(a,"tracks.screenAudio.state")),c=n(Pt(a,"tracks.screenVideo.state"));return!cd(l)||!cd(c)}default:return!0}}).sort(function(a,l){switch(o){case"joined_at":case"session_id":case"user_id":case"user_name":{var c=n(Pt(a,o)),u=n(Pt(l,o));if(c!==void 0||u!==void 0){if(c===void 0)return-1;if(u===void 0||c>u)return 1;if(c<u)return-1}return 0}default:return 0}})}}}),rf=function(t){var n=t===void 0?{}:t,r=n.filter,i=n.onActiveSpeakerChange,o=n.onParticipantJoined,s=n.onParticipantLeft,a=n.onParticipantUpdated,l=n.sort,c=At(uC(cC(typeof r=="string"?r:null,typeof l=="string"?l:null))),u=typeof r=="function"||typeof l=="function",d=A.useCallback(function(g){if(typeof r!="function"&&typeof l!="function")return[];var b=c.map(function(_){return g(zi(_))});return b.filter(function(_){return!!_}).filter(typeof r=="function"?r:function(){return!0}).sort(typeof l=="function"?l:function(){return 0}).map(function(_){return _.session_id}).filter(Boolean)},[r,c,l]),p=A.useState([]),h=p[0],m=p[1],v=ge(A.useCallback(function(g){if(u){var b=d(g);Un(b,h)||m(b)}},[h,d,u]));A.useEffect(function(){v()},[v]),ad(["participant-joined","participant-updated","active-speaker-change","participant-left"],A.useCallback(function(g){g.length&&(g.forEach(function(b){switch(b.action){case"participant-joined":o==null||o(b);break;case"participant-updated":a==null||a(b);break;case"active-speaker-change":i==null||i(b);break;case"participant-left":s==null||s(b);break}}),v())},[v,i,o,s,a]));var S=typeof r=="function"||typeof l=="function"?h:c;return A.useDebugValue(S),S},u4=gy({equals:iC,get:function(){return function(t){var n=t(uC(cC("screen",null)));return n.map(function(r){return{local:t(Pt(r,"local")),screenAudio:t(Pt(r,"tracks.screenAudio")),screenVideo:t(Pt(r,"tracks.screenVideo")),screenId:r+"-screen",session_id:r}})}}}),d4=function(t){var n={},r=n.onError,i=n.onLocalScreenShareStarted,o=n.onLocalScreenShareStopped,s=yr(),a=A.useCallback(function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];s==null||s.startScreenShare.apply(s,p)},[s]),l=A.useCallback(function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];s==null||s.stopScreenShare.apply(s,p)},[s]);ce("local-screen-share-started",A.useCallback(function(){return i==null?void 0:i()},[i])),ce("local-screen-share-stopped",A.useCallback(function(){return o==null?void 0:o()},[o])),ce("nonfatal-error",A.useCallback(function(d){d.type==="screen-share-error"&&(r==null||r(d))},[r]));var c=At(u4(void 0)),u={isSharingScreen:c.some(function(d){return d.local}),screens:c,startScreenShare:a,stopScreenShare:l};return A.useDebugValue(u),u},of=function(t,n){n===void 0&&(n="video");var r=sC(t,"tracks."+n),i=r?ot({},r,{isOff:cd(r.state)}):{isOff:!0,persistentTrack:void 0,state:"off",subscribed:!1};return A.useDebugValue(i),i};function dC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return A.useCallback(function(r){for(var i=0;i<t.length;i++){var o=t[i];typeof o=="function"?o(r):o&&typeof o=="object"&&(o.current=r)}},t)}var f4=["onPlayFailed","sessionId","type"],du=A.memo(A.forwardRef(function(e,t){var n=e.onPlayFailed,r=e.sessionId,i=e.type,o=i===void 0?"audio":i,s=hy(e,f4),a=A.useRef(null),l=of(r,o),c=dC(a,t),u=l==null?void 0:l.subscribed;return A.useEffect(function(){var d=a.current;if(!(!d||!(l!=null&&l.persistentTrack))){var p,h=function(){d.play().catch(function(S){n==null||n({sessionId:r,target:d,type:o,message:S.message,name:S.name})})},m=function(){clearTimeout(p)};if(!MediaStream){console.warn("MediaStream API not available. Can't setup "+o+" for "+r),n==null||n({sessionId:r,target:d,type:o,message:"MediaStream API not available",name:"MediaStream API not available"});return}return d.addEventListener("canplay",h),d.addEventListener("play",m),d.srcObject=new MediaStream([l==null?void 0:l.persistentTrack]),function(){d==null||d.removeEventListener("canplay",h),d==null||d.removeEventListener("play",m)}}},[l==null?void 0:l.persistentTrack,n,r,o]),xe.createElement("audio",Object.assign({autoPlay:!0,ref:c},s,{"data-session-id":r,"data-audio-type":o,"data-subscribed":u}))}));du.displayName="DailyAudioTrack";var fC=A.memo(A.forwardRef(function(e,t){var n=e.autoSubscribeActiveSpeaker,r=n===void 0?!1:n,i=e.maxSpeakers,o=i===void 0?5:i,s=e.onPlayFailed,a=e.playLocalScreenAudio,l=a===void 0?!1:a,c=yr(),u=A.useState(new Array(o).fill("")),d=u[0],p=u[1],h=d4(),m=h.screens,v=tc(),S=c4({ignoreLocal:!0}),g=A.useRef(null);A.useImperativeHandle(t,function(){return{getActiveSpeakerAudio:function(){var T,C;return(T=(C=g.current)==null?void 0:C.querySelector('audio[data-session-id="'+S+'"][data-audio-type="audio"]'))!=null?T:null},getAllAudio:function(){var T,C;return Array.from((T=(C=g.current)==null?void 0:C.querySelectorAll("audio"))!=null?T:[])},getAudioBySessionId:function(T){var C,P;return(C=(P=g.current)==null?void 0:P.querySelector('audio[data-session-id="'+T+'"][data-audio-type="audio"]'))!=null?C:null},getRmpAudio:function(){var T,C;return Array.from((T=(C=g.current)==null?void 0:C.querySelectorAll('audio[data-audio-type="rmpAudio"]'))!=null?T:[])},getScreenAudio:function(){var T,C;return Array.from((T=(C=g.current)==null?void 0:C.querySelectorAll('audio[data-audio-type="screenAudio"]'))!=null?T:[])},getRmpAudioBySessionId:function(T){var C,P;return(C=(P=g.current)==null?void 0:P.querySelector('audio[data-session-id="'+T+'"][data-audio-type="rmpAudio"]'))!=null?C:null},getScreenAudioBySessionId:function(T){var C,P;return(C=(P=g.current)==null?void 0:P.querySelector('audio[data-session-id="'+T+'"][data-audio-type="screenAudio"]'))!=null?C:null}}},[S]);var b=ge(A.useCallback(function(){var k=Nr(function*(T,C,P){var I,N=Object.values((I=c==null?void 0:c.participants())!=null?I:{}).filter(function(z){return!z.local&&!!z.tracks.audio.subscribed}),H=function(B){return N.some(function(ne){return ne.session_id===B})};if(!H(P))if(c&&!c.isDestroyed()&&r&&!c.subscribeToTracksAutomatically())c.updateParticipant(P,{setSubscribedTracks:{audio:!0}});else return;p(function(z){var B;if(z.includes(P))return z;var ne=function(Z){return!Z||!H(Z)};if(z.some(ne)){var ve=z.findIndex(ne);return z[ve]=P,[].concat(z)}var me=z.findIndex(function(U){return N.some(function(Z){return Z.session_id===U&&cd(Z.tracks.audio.state)})});if(me>=0)return z[me]=P,[].concat(z);var ie=N.filter(function(U){return z.includes(U.session_id)&&U.session_id!==S}).sort(function(U,Z){var be,_e,f=(be=T(Pt(U.session_id,"last_active")))!=null?be:new Date("1970-01-01"),w=(_e=T(Pt(Z.session_id,"last_active")))!=null?_e:new Date("1970-01-01");return f>w?1:f<w?-1:0});if(!ie.length){var j=z.findIndex(function(U){return U!==S});return z[j]=P,[].concat(z)}var q=z.indexOf((B=ie[0])==null?void 0:B.session_id);return z[q]=P,[].concat(z)})});return function(T,C,P){return k.apply(this,arguments)}}(),[S,r,c])),_=A.useCallback(function(k){p(function(T){if(!T.includes(k))return T;var C=[].concat(T),P=C.indexOf(k);return C[P]="",C})},[]);ad(["active-speaker-change","track-started","participant-left"],A.useCallback(function(k){k.forEach(function(T){switch(T.action){case"active-speaker-change":if(T.activeSpeaker.peerId===v)return;b(T.activeSpeaker.peerId);break;case"track-started":T.track.kind==="audio"&&T.participant&&!T.participant.local&&b(T.participant.session_id);break;case"participant-left":_(T.participant.session_id);break}})},[b,v,_]),200);var x=rf({filter:A.useCallback(function(k){var T;return!!(!(k==null||(T=k.tracks)==null)&&T.rmpAudio)},[])});return xe.createElement("div",{ref:g},d.map(function(k,T){return xe.createElement(du,{key:"speaker-slot-"+T,onPlayFailed:s,sessionId:k,type:"audio"})}),m.filter(function(k){return l?!0:!k.local}).map(function(k){return xe.createElement(du,{key:k.screenId,onPlayFailed:s,sessionId:k.session_id,type:"screenAudio"})}),x.map(function(k){return xe.createElement(du,{key:k+"-rmp",onPlayFailed:s,sessionId:k,type:"rmpAudio"})}))}));fC.displayName="DailyAudio";var p4=["automirror","fit","mirror","onResize","playableStyle","sessionId","style","type"],pC=A.forwardRef(function(t,n){var r=t.automirror,i=t.fit,o=i===void 0?"contain":i,s=t.mirror,a=t.onResize,l=t.playableStyle,c=l===void 0?{}:l,u=t.sessionId,d=t.style,p=d===void 0?{}:d,h=t.type,m=h===void 0?"video":h,v=hy(t,p4),S=tc(),g=S===u,b=m==="screenVideo",_=g&&!b,x=A.useRef(null),k=dC(x,n),T=of(u,m),C=T.persistentTrack,P=_||b||!T.isOff,I=sC(u,"tracks."+m),N=I==null?void 0:I.subscribed,H=A.useMemo(function(){if(typeof s=="boolean")return s;if(!r)return!1;if(!C)return _;var z=C.getSettings(),B="facingMode"in z?_&&z.facingMode==="user":_;return B},[r,_,s,C]);return A.useEffect(function(){var B=x.current;if(B){var ne=function(){var U=B.play();U!==void 0&&U.then(function(){B.controls=!1}).catch(function(Z){B.controls=!0,console.warn("Failed to play video",Z)})},ve=function(){B.paused&&ne()},me=function(){B.style.transform="scale(1)"},ie=function(){B.style.transform="",setTimeout(function(){B.paused&&ne()},100)},j=function(){document.visibilityState!=="hidden"&&B.paused&&ne()};return B.addEventListener("canplay",ve),B.addEventListener("enterpictureinpicture",me),B.addEventListener("leavepictureinpicture",ie),document.addEventListener("visibilitychange",j),function(){B.removeEventListener("canplay",ve),B.removeEventListener("enterpictureinpicture",me),B.removeEventListener("leavepictureinpicture",ie),document.removeEventListener("visibilitychange",j)}}},[]),A.useEffect(function(){var B=x.current;if(!(!B||!C)){if(!MediaStream){console.warn("MediaStream API not available. Can't setup "+m+" for "+u);return}return B.srcObject=new MediaStream([C]),B.load(),function(){B.srcObject=null,B.load()}}},[u,m,C,C==null?void 0:C.id]),A.useEffect(function(){var B=x.current;if(!a||!B)return;var ne;function ve(){ne&&cancelAnimationFrame(ne),ne=requestAnimationFrame(function(){var me=x.current;if(!(!me||document.hidden)){var ie=me.videoWidth,j=me.videoHeight;ie&&j&&(a==null||a({aspectRatio:ie/j,height:j,width:ie}))}})}return ve(),B.addEventListener("loadedmetadata",ve),B.addEventListener("resize",ve),function(){ne&&cancelAnimationFrame(ne),B.removeEventListener("loadedmetadata",ve),B.removeEventListener("resize",ve)}},[a]),xe.createElement("video",Object.assign({autoPlay:!0,muted:!0,playsInline:!0,ref:k,"data-local":g,"data-mirrored":H||void 0,"data-playable":P||void 0,"data-session-id":u,"data-subscribed":N,"data-video-type":m,style:ot({objectFit:o,transform:H?"scale(-1, 1)":""},p,P?c:{})},v))});pC.displayName="DailyVideo";var hC=A.createContext({refreshDevices:function(){return Promise.resolve()}}),at=ee("idle");at.debugLabel=Me("camera-state");var lt=ee("idle");lt.debugLabel=Me("microphone-state");var $a=ee([]);$a.debugLabel=Me("camera-devices");var Fa=ee([]);Fa.debugLabel=Me("microphone-devices");var by=ee([]);by.debugLabel=Me("speaker-devices");var _y=ee(null);_y.debugLabel=Me("last-camera-error");var h4=function(t){var n=t.children,r=yr(),i=ge(A.useCallback(function(){var s=Nr(function*(a,l){var c,u,d,p;if(typeof((c=navigator)==null||(u=c.mediaDevices)==null?void 0:u.getUserMedia)>"u"||typeof((d=navigator)==null||(p=d.mediaDevices)==null?void 0:p.enumerateDevices)>"u"){l(at,"not-supported"),l(lt,"not-supported");return}if(r)try{var h=yield r.enumerateDevices(),m=h.devices,v=m.filter(function(P){return P.kind==="videoinput"&&P.deviceId!==""}),S=m.filter(function(P){return P.kind==="audioinput"&&P.deviceId!==""}),g=m.filter(function(P){return P.kind==="audiooutput"&&P.deviceId!==""}),b=yield r.getInputDevices(),_=b.camera,x=b.mic,k=b.speaker,T=function(I,N,H){var z,B;return{device:N,selected:"deviceId"in I&&N.deviceId===I.deviceId,state:(z=(B=H.find(function(ne){return ne.device.deviceId===N.deviceId}))==null?void 0:B.state)!=null?z:"granted"}},C=function(I,N){return I.device.deviceId==="default"?-1:N.device.deviceId==="default"?1:I.device.label<N.device.label?-1:I.device.label>N.device.label?1:0};l($a,function(P){return v.filter(Boolean).map(function(I){return T(_,I,P)}).sort(C)}),l(Fa,function(P){return S.filter(Boolean).map(function(I){return T(x,I,P)}).sort(C)}),l(by,function(P){return g.filter(Boolean).map(function(I){return T(k,I,P)}).sort(C)})}catch{l(at,"not-supported"),l(lt,"not-supported")}});return function(a,l){return s.apply(this,arguments)}}(),[r])),o=ge(A.useCallback(function(){var s=Nr(function*(a,l){var c,u,d,p,h,m,v,S,g,b,_,x,k,T;if(r){var C=a(at),P=a(lt),I=r.participants();if(I.local){var N=I.local.tracks,H="prompt",z="prompt";if(navigator.permissions)try{var B=yield navigator.permissions.query({name:"camera"});H=B.state;var ne=yield navigator.permissions.query({name:"microphone"});z=ne.state}catch{}var ve=H==="prompt"&&["idle","pending"].includes(C)&&N.video.state==="interrupted"&&!N.video.persistentTrack,me=["idle","pending"].includes(C)&&!N.video.persistentTrack&&!!((c=N.video.off)!=null&&c.byUser),ie=z==="prompt"&&["idle","pending"].includes(P)&&N.audio.state==="interrupted"&&!N.audio.persistentTrack,j=["idle","pending"].includes(P)&&!N.audio.persistentTrack&&!!((u=N.audio.off)!=null&&u.byUser);(d=N.audio)!=null&&(p=d.blocked)!=null&&p.byDeviceInUse?(l(lt,"in-use"),l(Fa,function(q){return q.map(function(U){return U.selected?ot({},U,{state:"in-use"}):U})})):(h=N.audio)!=null&&(m=h.blocked)!=null&&m.byDeviceMissing?l(lt,"not-found"):(v=N.audio)!=null&&(S=v.blocked)!=null&&S.byPermissions||z==="denied"?l(lt,"blocked"):ie?l(lt,"pending"):j?l(lt,"idle"):(l(lt,"granted"),l(Fa,function(q){return q.map(function(U){return U.selected?ot({},U,{state:"granted"}):U})})),(g=N.video)!=null&&(b=g.blocked)!=null&&b.byDeviceInUse?(l(at,"in-use"),l($a,function(q){return q.map(function(U){return U.selected?ot({},U,{state:"in-use"}):U})})):(_=N.video)!=null&&(x=_.blocked)!=null&&x.byDeviceMissing?l(at,"not-found"):(k=N.video)!=null&&(T=k.blocked)!=null&&T.byPermissions||H==="denied"?l(at,"blocked"):ve?l(at,"pending"):me?l(at,"idle"):(l(at,"granted"),l($a,function(q){return q.map(function(U){return U.selected?ot({},U,{state:"granted"}):U})})),i()}}});return function(a,l){return s.apply(this,arguments)}}(),[r,i]));return ce("participant-updated",A.useCallback(function(s){s.participant.local&&o()},[o])),ce("available-devices-updated",i),ce("selected-devices-updated",i),ce("camera-error",ge(A.useCallback(function(s,a,l){var c,u,d,p,h,m,v;switch(a(_y,l.error),(c=l.error)==null?void 0:c.type){case"cam-in-use":a(at,"in-use");break;case"mic-in-use":a(lt,"in-use");break;case"cam-mic-in-use":a(at,"in-use"),a(lt,"in-use");break;case"not-found":(u=l.error)!=null&&u.missingMedia.includes("video")&&a(at,"not-found"),(d=l.error)!=null&&d.missingMedia.includes("audio")&&a(lt,"not-found");break;case"permissions":(p=l.error)!=null&&p.blockedMedia.includes("video")&&a(at,"blocked"),(h=l.error)!=null&&h.blockedMedia.includes("audio")&&a(lt,"blocked");break;case"constraints":((m=l.error)==null?void 0:m.reason)==="invalid"?(a(at,"constraints-invalid"),a(lt,"constraints-invalid")):((v=l.error)==null?void 0:v.reason)==="none-specified"&&(a(at,"constraints-none-specified"),a(lt,"constraints-none-specified"));break;case"undefined-mediadevices":a(at,"undefined-mediadevices"),a(lt,"undefined-mediadevices");break;case"unknown":default:a(at,"unknown"),a(lt,"unknown");break}},[]))),ce("started-camera",ge(A.useCallback(function(s,a){a(at,"granted"),a(lt,"granted"),o()},[o]))),xe.createElement(hC.Provider,{value:{refreshDevices:i}},n)},_a=ee({errorMsg:void 0,isLiveStreaming:!1,layout:void 0});_a.debugLabel=Me("live-streaming");var m4=function(t){var n=t.children;return ce("live-streaming-started",ge(A.useCallback(function(r,i,o){i(_a,{isLiveStreaming:!0,layout:o==null?void 0:o.layout})},[]))),ce("live-streaming-stopped",ge(A.useCallback(function(r,i){i(_a,function(o){return ot({},o,{isLiveStreaming:!1,layout:void 0})})},[]))),ce("live-streaming-error",ge(A.useCallback(function(r,i,o){i(_a,function(s){return ot({},s,{errorMsg:o.errorMsg})})},[]))),ce("left-meeting",ge(A.useCallback(function(r,i){i(_a,{errorMsg:void 0,isLiveStreaming:!1,layout:void 0})},[]))),xe.createElement(xe.Fragment,null,n)},ud=ee("new");ud.debugLabel=Me("meeting-state");var Dm=ee(null);Dm.debugLabel=Me("meeting-error");var Lm=ee(null);Lm.debugLabel=Me("non-fatal-error");var Sa=ee({data:void 0,topology:"none"});Sa.debugLabel=Me("meeting-session-data");var g4=function(t){var n=t.children,r=yr(),i=ge(A.useCallback(function(s,a){if(r){var l=r.meetingState();return a(ud,l),l}},[r]));ce("loading",i),ce("loaded",i),ce("joining-meeting",i),ce("joined-meeting",i),ce("left-meeting",i),ce("error",ge(A.useCallback(function(s,a,l){a(Dm,l),i()},[i]))),ce("nonfatal-error",ge(A.useCallback(function(s,a,l){a(Lm,l)},[])));var o=ge(A.useCallback(function(s,a){r&&a(Sa,r.meetingSessionState())},[r]));return ce("joined-meeting",o),ce("meeting-session-state-updated",ge(A.useCallback(function(s,a,l){a(Sa,l.meetingSessionState)},[]))),ce("left-meeting",ge(A.useCallback(function(s,a){a(Sa,{data:void 0,topology:"none"})},[]))),ce("call-instance-destroyed",ge(A.useCallback(function(s,a){a(ud,"new"),a(Dm,null),a(Lm,null),a(Sa,{data:void 0,topology:"none"})},[]))),xe.createElement(xe.Fragment,null,n)},Oo=ee("none");Oo.debugLabel=Me("topology");var $m=ee(100);$m.debugLabel=Me("network-quality");var Fm=ee("good");Fm.debugLabel=Me("network-threshold");var v4=function(t){var n=t.children,r=yr(),i=At(Oo),o=ge(A.useCallback(function(){var s=Nr(function*(a,l){if(r){var c=yield r.getNetworkTopology();!c||(c==null?void 0:c.topology)==="none"||l(Oo,c.topology)}});return function(a,l){return s.apply(this,arguments)}}(),[r]));return ce("joined-meeting",o),ce("network-connection",ge(A.useCallback(function(s,a,l){switch(l.event){case"connected":l.type==="peer-to-peer"&&a(Oo,"peer"),l.type==="sfu"&&a(Oo,"sfu");break}},[]))),ce("network-quality-change",ge(A.useCallback(function(s,a,l){a($m,function(c){return c!==l.quality?l.quality:c}),a(Fm,function(c){return c!==l.threshold?l.threshold:c})},[]))),ce("left-meeting",ge(A.useCallback(function(s,a){a(Oo,"none"),a($m,100),a(Fm,"good")},[]))),A.useEffect(function(){!r||i!=="none"||o()},[r,o,i]),xe.createElement(xe.Fragment,null,n)},Bi=ee({isLocalParticipantRecorded:!1,isRecording:!1});Bi.debugLabel=Me("recording-state");var y4=function(t){var n=t.children,r=tc(),i=rf({filter:"record"}),o=ge(A.useCallback(function(s,a,l,c){var u=s(Bi),d={isLocalParticipantRecorded:u.isLocalParticipantRecorded,isRecording:u.isRecording,local:u.local,type:u.type},p={isLocalParticipantRecorded:(d==null?void 0:d.type)==="local"||!(d!=null&&d.type)?l:d.isLocalParticipantRecorded,isRecording:(d==null?void 0:d.type)==="local"||!(d!=null&&d.type)?l:d.isRecording,local:((d==null?void 0:d.type)==="local"||!(d!=null&&d.type))&&l?c:d==null?void 0:d.local,type:l?"local":u==null?void 0:u.type};Un(d,p)||a(Bi,ot({},d,p))},[]));return A.useEffect(function(){var s=i.length>0,a=i.includes(r||"local");o(s,a)},[r,o,i]),ce("recording-started",ge(A.useCallback(function(s,a,l){var c=!0;switch(l.type){case"cloud-beta":case"cloud":{var u;r&&((u=l.layout)==null?void 0:u.preset)==="single-participant"&&l.layout.session_id!==r&&(c=!1);break}}a(Bi,{error:!1,isLocalParticipantRecorded:c,isRecording:!0,layout:l==null?void 0:l.layout,local:l==null?void 0:l.local,recordingId:l==null?void 0:l.recordingId,recordingStartedDate:new Date,startedBy:l==null?void 0:l.startedBy,type:l==null?void 0:l.type})},[r]))),ce("recording-stopped",ge(A.useCallback(function(s,a){a(Bi,function(l){return ot({},l,{isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),ce("recording-error",ge(A.useCallback(function(s,a){a(Bi,function(l){return ot({},l,{error:!0,isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),ce("left-meeting",ge(A.useCallback(function(s,a){a(Bi,{isLocalParticipantRecorded:!1,isRecording:!1})},[]))),xe.createElement(xe.Fragment,null,n)},w4=function(){var t=At(ud);return A.useDebugValue(t),t},Vm=ee(null);Vm.debugLabel=Me("room-state");var b4=function(t){var n=t.children,r=yr(),i=w4(),o=ge(A.useCallback(function(){var s=Nr(function*(a,l){if(!(!r||i==="left-meeting")){var c=yield r.room();return c&&"id"in c&&l(Vm,c),c}});return function(a,l){return s.apply(this,arguments)}}(),[r,i]));return ce("access-state-updated",o),ce("left-meeting",ge(A.useCallback(function(s,a){return function(){a(Vm,null)}},[]))),xe.createElement(xe.Fragment,null,n)},Io=ee({isTranscribing:!1,model:"general",language:"en",transcriptions:[]});Io.debugLabel=Me("transcription-state");var _4=function(t){var n=t.children;return ce("transcription-started",ge(A.useCallback(function(r,i,o){i(Io,{error:!1,transcriptionStartDate:new Date,isTranscribing:!0,transcriptions:[],endpointing:o.endpointing,extra:o.extra,includeRawResponse:o.includeRawResponse,instanceId:o.instanceId,language:o.language,model:o.model,profanity_filter:o.profanity_filter,punctuate:o.punctuate,redact:o.redact,startedBy:o.startedBy,tier:o.tier})},[]))),ce("transcription-stopped",ge(A.useCallback(function(r,i,o){i(Io,function(s){return ot({},s,{updatedBy:o.updatedBy,isTranscribing:!1})})},[]))),ce("transcription-error",ge(A.useCallback(function(r,i){i(Io,function(o){return ot({},o,{error:!0,isTranscribing:!1})})},[]))),ce("left-meeting",ge(A.useCallback(function(r,i){i(Io,function(o){return ot({},o,{isTranscribing:!1})})},[]))),ce("app-message",ge(A.useCallback(function(r,i,o){(o==null?void 0:o.fromId)==="transcription"&&i(Io,function(s){return ot({},s,{isTranscribing:!0,transcriptions:[].concat(s.transcriptions,[o.data])})})},[]))),xe.createElement(xe.Fragment,null,n)},mC={},gC=function(){return!0},S4={options:mC,shouldCreateInstance:gC},k4=function(t,n){var r=n===void 0?S4:n,i=r.parentElRef,o=r.options,s=o===void 0?mC:o,a=r.shouldCreateInstance,l=a===void 0?gC:a,c=A.useState(null),u=c[0],d=c[1],p=A.useRef();return A.useEffect(function(){if(!l())return;function h(g){return m.apply(this,arguments)}function m(){return m=Nr(function*(g){yield g.destroy()}),m.apply(this,arguments)}var v=function(){setTimeout(function(){return d(null)},0)},S=zc.getCallInstance();if(!u&&S&&!S.isDestroyed()){S.once("call-instance-destroyed",v),d(S);return}if(u){Un(p.current,s)||h(u);return}if(!S||S.isDestroyed()){switch(t){case"callFrame":S=i!=null&&i.current?zc.createFrame(i.current,ot({},s)):zc.createFrame(ot({},s));break;case"callObject":S=zc.createCallObject(ot({},s));break}p.current=s}d(S),S.once("call-instance-destroyed",v)},[u,s,i,l,t]),u},x4=function(t){return k4("callObject",t)},T4=["children","jotaiStore"],E4=function(t){var n=t.children,r=t.jotaiStore,i=hy(t,T4),o=A.useRef({}),s=A.useCallback(function(m){var v,S;if("action"in m)for(var g=m.action,b=Array.from((v=(S=o.current)==null?void 0:S[g])!=null?v:[]),_=b.filter(function(N){var H=N[0];return H<0}),x=b.filter(function(N){var H=N[0];return H>0}),k=[].concat(_,x),T=nC(k),C;!(C=T()).done;){var P=C.value,I=P[1];I(m)}},[]),a=A.useCallback(function(m){m&&Object.keys(o.current).forEach(function(v){m.off(v,s),m.isDestroyed()||m.on(v,s)})},[s]),l="callObject"in i?i.callObject:null,c=A.useMemo(function(){return"callObject"in i?{}:i},[i]),u=x4({options:c,shouldCreateInstance:A.useCallback(function(){return!("callObject"in i)},[i])}),d=l??u;A.useEffect(function(){d&&a(d)},[d,a]);var p=A.useCallback(function(m,v,S){var g;if(o.current[m]||(o.current[m]=new Map,d&&(d.off(m,s),d.isDestroyed()||d.on(m,s))),!((g=o.current[m])!=null&&g.has(S))){var b;(b=o.current[m])==null||b.set(S,v)}},[d,s]),h=A.useCallback(function(m,v){var S,g;(S=o.current[m])==null||S.delete(v),((g=o.current[m])==null?void 0:g.size)===0&&(d==null||d.off(m,s),delete o.current[m])},[d,s]);return xe.createElement(WI,{store:r},xe.createElement(rC.Provider,{value:d},xe.createElement(my.Provider,{value:{on:p,off:h}},xe.createElement(b4,null,xe.createElement(g4,null,xe.createElement(v4,null,xe.createElement(a4,null,xe.createElement(y4,null,xe.createElement(m4,null,xe.createElement(_4,null,xe.createElement(h4,null,n)))))))))))},vC=function(t){return of(t,"audio")},C4=ee({state:"low",reason:"none"});C4.debugLabel=Me("cpu-load");var A4=function(){var t=yr(),n=At(at),r=At(lt),i=At($a),o=At(Fa),s=At(by),a=At(_y),l=A.useContext(hC),c=l.refreshDevices,u=A.useCallback(function(){var v=Nr(function*(S){yield t==null?void 0:t.setInputDevicesAsync({audioDeviceId:null,videoDeviceId:S})});return function(S){return v.apply(this,arguments)}}(),[t]),d=A.useCallback(function(){var v=Nr(function*(S){yield t==null?void 0:t.setInputDevicesAsync({audioDeviceId:S,videoDeviceId:null})});return function(S){return v.apply(this,arguments)}}(),[t]),p=A.useCallback(function(){var v=Nr(function*(S){yield t==null?void 0:t.setOutputDeviceAsync({outputDeviceId:S})});return function(S){return v.apply(this,arguments)}}(),[t]),h=["blocked","in-use","not-found","constraints-invalid","constraints-none-specified","undefined-mediadevices","unknown"],m={cameraError:a,cameras:i,camState:n,currentCam:i.find(function(v){return v.selected}),currentMic:o.find(function(v){return v.selected}),currentSpeaker:s.find(function(v){return v.selected}),hasCamError:h.includes(n),hasMicError:h.includes(r),microphones:o,micState:r,refreshDevices:c,setCamera:u,setMicrophone:d,setSpeaker:p,speakers:s};return A.useDebugValue(m),m},P4=ee(null);P4.debugLabel=Me("input-settings");var M4=ee({hidden:0,present:0});M4.debugLabel=Me("participant-counts");var O4=ee(null);O4.debugLabel=Me("send-settings");var yC=function(t){return of(t,"video")};Hl.register();const SS=()=>{const[,e]=mt(Ud),[,t]=mt(gE),n=At(Ql),[r,i]=A.useState(!1),[o,s]=A.useState(!1),a=yr(),{setMicrophone:l,setSpeaker:c}=A4(),u=async()=>{var d,p;try{i(!0),s(!1);const h=await(a==null?void 0:a.startCamera({startVideoOff:!1,startAudioOff:!1,audioSource:"default"})),m=((d=h==null?void 0:h.mic)==null?void 0:d.deviceId)==="default",v=((p=h==null?void 0:h.speaker)==null?void 0:p.deviceId)==="default";if(m||l("default"),v||c("default"),!n)throw new Error("Token is required");const S=await cN(n);t(S),e({currentScreen:"conversation"})}catch(h){console.error("Failed to start conversation:",h),s(!0)}finally{i(!1)}};return A.useEffect(()=>{if(n&&!r&&!o){const d=setTimeout(()=>{u()},500);return()=>clearTimeout(d)}},[n]),n?o?O.jsx(Tb,{children:O.jsxs("div",{className:"flex size-full flex-col items-center justify-center p-8 relative overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-destructive/5 via-transparent to-primary/5"}),O.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-destructive/5 rounded-full blur-xl animate-pulse"}),O.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-primary/5 rounded-full blur-xl animate-pulse delay-1000"}),O.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[O.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[O.jsx("div",{className:"p-6 bg-destructive/10 rounded-3xl shadow-lg backdrop-blur-sm border border-destructive/20",children:O.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"size-64 object-contain"})}),O.jsx("p",{className:"text-xs text-muted-foreground italic font-medium",children:"Anything can be cooked will be cooked"})]}),O.jsxs("div",{className:"glass-effect p-6 rounded-2xl border border-destructive/30 shadow-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-destructive mb-3",children:"Connection Error"}),O.jsx("p",{className:"text-destructive/80 mb-4",children:"Failed to start the conversation. Please check your API key and try again."}),O.jsx(Pn,{onClick:()=>{s(!1),u()},variant:"outline",className:"border-destructive/50 hover:bg-destructive hover:text-destructive-foreground",children:"Try Again"})]})]})]})}):O.jsx("div",{className:"fixed inset-0 flex items-center justify-center",children:O.jsx("l-quantum",{size:"60",speed:"1.75",color:"hsl(var(--primary))"})}):O.jsx(Tb,{children:O.jsxs("div",{className:"flex size-full flex-col items-center justify-center p-8 relative overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-accent/10"}),O.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-secondary/5 via-transparent to-primary/5"}),O.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary/5 rounded-full blur-xl animate-pulse"}),O.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-accent/5 rounded-full blur-xl animate-pulse delay-1000"}),O.jsx("div",{className:"absolute top-1/2 left-10 w-16 h-16 bg-secondary/10 rounded-full blur-lg animate-pulse delay-500"}),O.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[O.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[O.jsx("div",{className:"p-6 bg-primary/10 rounded-3xl shadow-lg backdrop-blur-sm border border-primary/20",children:O.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"size-64 object-contain"})}),O.jsx("p",{className:"text-xs text-muted-foreground italic font-medium",children:"Anything can be cooked will be cooked"})]}),O.jsxs("div",{className:"glass-effect p-6 rounded-2xl border border-border/50 shadow-xl",children:[O.jsx("h2",{className:"text-xl font-semibold text-foreground mb-3",children:"Setup Required"}),O.jsx("p",{className:"text-muted-foreground mb-4",children:"Please add your Tavus API key to the .env file to get started."}),O.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[O.jsxs("p",{children:["Add ",O.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:"VITE_TAVUS_API_KEY=your_key_here"})," to .env"]}),O.jsx("a",{href:"https://platform.tavus.io/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Get your API key here →"})]})]})]})]})})};dN.register();function kS({id:e,className:t,tileClassName:n}){const r=yC(e);return O.jsx("div",{className:fo("bg-[rgba(248,250,252,0.08)]",t,{"hidden size-0":r.isOff}),children:O.jsx(pC,{automirror:!0,sessionId:e,type:"video",className:fo("size-full object-cover",n,{hidden:r.isOff})})})}const I4=ee(0),R4=ee(0),dd=ee([]),N4=ee(!1),j4=ee(null,(e,t,n)=>{const r=e(dd),i={...n,id:Date.now().toString(),timestamp:new Date};t(dd,[...r,i])});ee(null,(e,t)=>{t(dd,[])});let D4=(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r};var wC="vercel.ai.error",L4=Symbol.for(wC),bC,$4=class _C extends Error{constructor({name:t,message:n,cause:r}){super(n),this[bC]=!0,this.name=t,this.cause=r}static isInstance(t){return _C.hasMarker(t,wC)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}toJSON(){return{name:this.name,message:this.message}}};bC=L4;var vt=$4,zm="AI_APICallError",SC=`vercel.ai.error.${zm}`,F4=Symbol.for(SC),kC,Er=class extends vt{constructor({message:t,url:n,requestBodyValues:r,statusCode:i,responseHeaders:o,responseBody:s,cause:a,isRetryable:l=i!=null&&(i===408||i===409||i===429||i>=500),data:c}){super({name:zm,message:t,cause:a}),this[kC]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=i,this.responseHeaders=o,this.responseBody=s,this.isRetryable=l,this.data=c}static isInstance(t){return vt.hasMarker(t,SC)}static isAPICallError(t){return t instanceof Error&&t.name===zm&&typeof t.url=="string"&&typeof t.requestBodyValues=="object"&&(t.statusCode==null||typeof t.statusCode=="number")&&(t.responseHeaders==null||typeof t.responseHeaders=="object")&&(t.responseBody==null||typeof t.responseBody=="string")&&(t.cause==null||typeof t.cause=="object")&&typeof t.isRetryable=="boolean"&&(t.data==null||typeof t.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};kC=F4;var Bm="AI_EmptyResponseBodyError",xC=`vercel.ai.error.${Bm}`,V4=Symbol.for(xC),TC,z4=class extends vt{constructor({message:e="Empty response body"}={}){super({name:Bm,message:e}),this[TC]=!0}static isInstance(e){return vt.hasMarker(e,xC)}static isEmptyResponseBodyError(e){return e instanceof Error&&e.name===Bm}};TC=V4;function EC(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Um="AI_InvalidPromptError",CC=`vercel.ai.error.${Um}`,B4=Symbol.for(CC),AC,U4=class extends vt{constructor({prompt:t,message:n,cause:r}){super({name:Um,message:`Invalid prompt: ${n}`,cause:r}),this[AC]=!0,this.prompt=t}static isInstance(t){return vt.hasMarker(t,CC)}static isInvalidPromptError(t){return t instanceof Error&&t.name===Um&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};AC=B4;var qm="AI_InvalidResponseDataError",PC=`vercel.ai.error.${qm}`,q4=Symbol.for(PC),MC,Lp=class extends vt{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:qm,message:t}),this[MC]=!0,this.data=e}static isInstance(e){return vt.hasMarker(e,PC)}static isInvalidResponseDataError(e){return e instanceof Error&&e.name===qm&&e.data!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,data:this.data}}};MC=q4;var Wm="AI_JSONParseError",OC=`vercel.ai.error.${Wm}`,W4=Symbol.for(OC),IC,fd=class extends vt{constructor({text:t,cause:n}){super({name:Wm,message:`JSON parsing failed: Text: ${t}.
Error message: ${EC(n)}`,cause:n}),this[IC]=!0,this.text=t}static isInstance(t){return vt.hasMarker(t,OC)}static isJSONParseError(t){return t instanceof Error&&t.name===Wm&&"text"in t&&typeof t.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};IC=W4;var Hm="AI_LoadAPIKeyError",RC=`vercel.ai.error.${Hm}`,H4=Symbol.for(RC),NC,Uc=class extends vt{constructor({message:e}){super({name:Hm,message:e}),this[NC]=!0}static isInstance(e){return vt.hasMarker(e,RC)}static isLoadAPIKeyError(e){return e instanceof Error&&e.name===Hm}};NC=H4;var Km="AI_TooManyEmbeddingValuesForCallError",jC=`vercel.ai.error.${Km}`,K4=Symbol.for(jC),DC,J4=class extends vt{constructor(e){super({name:Km,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[DC]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return vt.hasMarker(e,jC)}static isTooManyEmbeddingValuesForCallError(e){return e instanceof Error&&e.name===Km&&"provider"in e&&typeof e.provider=="string"&&"modelId"in e&&typeof e.modelId=="string"&&"maxEmbeddingsPerCall"in e&&typeof e.maxEmbeddingsPerCall=="number"&&"values"in e&&Array.isArray(e.values)}toJSON(){return{name:this.name,message:this.message,stack:this.stack,provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:this.values}}};DC=K4;var Jm="AI_TypeValidationError",LC=`vercel.ai.error.${Jm}`,G4=Symbol.for(LC),$C,Z4=class Gm extends vt{constructor({value:t,cause:n}){super({name:Jm,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${EC(n)}`,cause:n}),this[$C]=!0,this.value=t}static isInstance(t){return vt.hasMarker(t,LC)}static wrap({value:t,cause:n}){return Gm.isInstance(n)&&n.value===t?n:new Gm({value:t,cause:n})}static isTypeValidationError(t){return t instanceof Error&&t.name===Jm}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};$C=G4;var pd=Z4,Zm="AI_UnsupportedFunctionalityError",FC=`vercel.ai.error.${Zm}`,Y4=Symbol.for(FC),VC,En=class extends vt{constructor({functionality:e}){super({name:Zm,message:`'${e}' functionality not supported.`}),this[VC]=!0,this.functionality=e}static isInstance(e){return vt.hasMarker(e,FC)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===Zm&&typeof e.functionality=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};VC=Y4;var Us={exports:{}};const Q4=typeof Buffer<"u",xS=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,TS=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function zC(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),Q4&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const i=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(i==="ignore"&&o==="ignore")return r;if(i!=="ignore"&&o!=="ignore"){if(xS.test(e)===!1&&TS.test(e)===!1)return r}else if(i!=="ignore"&&o==="ignore"){if(xS.test(e)===!1)return r}else if(TS.test(e)===!1)return r;return BC(r,{protoAction:i,constructorAction:o,safe:n&&n.safe})}function BC(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let i=[e];for(;i.length;){const o=i;i=[];for(const s of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(const a in s){const l=s[a];l&&typeof l=="object"&&i.push(l)}}}return e}function Sy(e,t,n){const r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return zC(e,t,n)}finally{Error.stackTraceLimit=r}}function X4(e,t){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return zC(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=n}}Us.exports=Sy;Us.exports.default=Sy;Us.exports.parse=Sy;Us.exports.safeParse=X4;Us.exports.scan=BC;var ez=Us.exports;const sf=kg(ez);function tz(e){let t,n,r,i,o,s,a;return l(),{feed:c,reset:l};function l(){t=!0,n="",r=0,i=-1,o=void 0,s=void 0,a=""}function c(d){n=n?n+d:d,t&&nz(n)&&(n=n.slice(UC.length)),t=!1;const p=n.length;let h=0,m=!1;for(;h<p;){m&&(n[h]===`
`&&++h,m=!1);let v=-1,S=i,g;for(let b=r;v<0&&b<p;++b)g=n[b],g===":"&&S<0?S=b-h:g==="\r"?(m=!0,v=b-h):g===`
`&&(v=b-h);if(v<0){r=p-h,i=S;break}else r=0,i=-1;u(n,h,S,v),h+=v+1}h===p?n="":h>0&&(n=n.slice(h))}function u(d,p,h,m){if(m===0){a.length>0&&(e({type:"event",id:o,event:s||void 0,data:a.slice(0,-1)}),a="",o=void 0),s=void 0;return}const v=h<0,S=d.slice(p,p+(v?m:h));let g=0;v?g=m:d[p+h+1]===" "?g=h+2:g=h+1;const b=p+g,_=m-g,x=d.slice(b,b+_).toString();if(S==="data")a+=x?"".concat(x,`
`):`
`;else if(S==="event")s=x;else if(S==="id"&&!x.includes("\0"))o=x;else if(S==="retry"){const k=parseInt(x,10);Number.isNaN(k)||e({type:"reconnect-interval",value:k})}}}const UC=[239,187,191];function nz(e){return UC.every((t,n)=>e.charCodeAt(n)===t)}class rz extends TransformStream{constructor(){let t;super({start(n){t=tz(r=>{r.type==="event"&&n.enqueue(r)})},transform(n){t.feed(n)}})}}var iz={};function pl(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function af(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var oz=({prefix:e="",size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"}={})=>{const r=D4(n,t);return i=>`${e}${r(i)}`},la=oz();function $p(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function sz({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Uc({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Uc({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=iz[t],e==null)throw new Uc({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new Uc({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var Ym=Symbol.for("vercel.ai.validator");function az(e){return{[Ym]:!0,validate:e}}function lz(e){return typeof e=="object"&&e!==null&&Ym in e&&e[Ym]===!0&&"validate"in e}function cz(e){return lz(e)?e:uz(e)}function uz(e){return az(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function dz({value:e,schema:t}){const n=qC({value:e,schema:t});if(!n.success)throw pd.wrap({value:e,cause:n.error});return n.value}function qC({value:e,schema:t}){const n=cz(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:pd.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:pd.wrap({value:e,cause:r})}}}function fz({text:e,schema:t}){try{const n=sf.parse(e);return t==null?n:dz({value:n,schema:t})}catch(n){throw fd.isJSONParseError(n)||pd.isTypeValidationError(n)?n:new fd({text:e,cause:n})}}function WC({text:e,schema:t}){try{const n=sf.parse(e);return t==null?{success:!0,value:n}:qC({value:n,schema:t})}catch(n){return{success:!1,error:fd.isJSONParseError(n)?n:new fd({text:e,cause:n})}}}function ES(e){try{return sf.parse(e),!0}catch{return!1}}function pz(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}var hz=()=>globalThis.fetch,hl=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>mz({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),mz=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:o,fetch:s=hz()})=>{try{const a=await s(e,{method:"POST",headers:pz(t),body:n.content,signal:o}),l=af(a);if(!a.ok){let c;try{c=await i({response:a,url:e,requestBodyValues:n.values})}catch(u){throw $p(u)||Er.isAPICallError(u)?u:new Er({message:"Failed to process error response",cause:u,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw c.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(c){throw c instanceof Error&&($p(c)||Er.isAPICallError(c))?c:new Er({message:"Failed to process successful response",cause:c,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(a){if($p(a))throw a;if(a instanceof TypeError&&a.message==="fetch failed"){const l=a.cause;if(l!=null)throw new Er({message:`Cannot connect to API: ${l.message}`,cause:l,url:e,requestBodyValues:n.values,isRetryable:!0})}throw a}},gz=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:o})=>{const s=await r.text(),a=af(r);if(s.trim()==="")return{responseHeaders:a,value:new Er({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n==null?void 0:n(r)})};try{const l=fz({text:s,schema:e});return{responseHeaders:a,value:new Er({message:t(l),url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,data:l,isRetryable:n==null?void 0:n(r,l)})}}catch{return{responseHeaders:a,value:new Er({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n==null?void 0:n(r)})}}},HC=e=>async({response:t})=>{const n=af(t);if(t.body==null)throw new z4({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new rz).pipeThrough(new TransformStream({transform({data:r},i){r!=="[DONE]"&&i.enqueue(WC({text:r,schema:e}))}}))}},ky=e=>async({response:t,url:n,requestBodyValues:r})=>{const i=await t.text(),o=WC({text:i,schema:e}),s=af(t);if(!o.success)throw new Er({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:s,value:o.value}},{btoa:vz,atob:w6}=globalThis;function yz(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return vz(t)}function wz(e){return e==null?void 0:e.replace(/\/$/,"")}var ke;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(ke||(ke={}));var hd;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(hd||(hd={}));const J=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ur=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},$=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),KC=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(t){if(!(t instanceof Xt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xt.create=e=>new Xt(e);const yo=(e,t)=>{let n;switch(e.code){case $.invalid_type:e.received===J.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ke.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${ke.joinValues(e.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ke.joinValues(e.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${ke.joinValues(e.options)}, received '${e.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ke.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case $.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case $.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case $.not_finite:n="Number must be finite";break;default:n=t.defaultError,ke.assertNever(e)}return{message:n}};let JC=yo;function GC(e){JC=e}function ml(){return JC}const gl=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}},ZC=[];function W(e,t){const n=ml(),r=gl({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===yo?void 0:yo].filter(i=>!!i)});e.common.issues.push(r)}class kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return te;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return kt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return te;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const te=Object.freeze({status:"aborted"}),Qi=e=>({status:"dirty",value:e}),Nt=e=>({status:"valid",value:e}),md=e=>e.status==="aborted",gd=e=>e.status==="dirty",ki=e=>e.status==="valid",ks=e=>typeof Promise<"u"&&e instanceof Promise;var Y;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Y||(Y={}));class gr{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const CS=(e,t)=>{if(ki(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xt(e.common.issues);return this._error=n,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{const{message:l}=e;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class ue{get description(){return this._def.description}_getType(t){return ur(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ur(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new kt,ctx:{common:t.parent.common,data:t.data,parsedType:ur(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ks(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ur(t)},i=this._parseSync({data:t,path:r.path,parent:r});return CS(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ur(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:n});return ki(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(i=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(o=>ki(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ur(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(ks(i)?i:Promise.resolve(i));return CS(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:$.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new fn({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Gn.create(this,this._def)}nullable(){return Ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mn.create(this)}promise(){return bo.create(this,this._def)}or(t){return Cs.create([this,t],this._def)}and(t){return As.create(this,t,this._def)}transform(t){return new fn({...fe(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Rs({...fe(this._def),innerType:this,defaultValue:n,typeName:V.ZodDefault})}brand(){return new lf({typeName:V.ZodBranded,type:this,...fe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ns({...fe(this._def),innerType:this,catchValue:n,typeName:V.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return qs.create(this,t)}readonly(){return js.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const bz=/^c[^\s-]{8,}$/i,_z=/^[0-9a-z]+$/,Sz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,kz=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xz=/^[a-z0-9_-]{21}$/i,Tz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ez=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Cz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Az="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fp;const Pz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Mz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Oz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Iz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Rz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Nz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,YC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jz=new RegExp(`^${YC}$`);function QC(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Dz(e){return new RegExp(`^${QC(e)}$`)}function xy(e){let t=`${YC}T${QC(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Lz(e,t){return!!((t==="v4"||!t)&&Pz.test(e)||(t==="v6"||!t)&&Oz.test(e))}function $z(e,t){if(!Tz.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Fz(e,t){return!!((t==="v4"||!t)&&Mz.test(e)||(t==="v6"||!t)&&Iz.test(e))}class Cn extends ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const o=this._getOrReturnCtx(t);return W(o,{code:$.invalid_type,expected:J.string,received:o.parsedType}),te}const r=new kt;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?W(i,{code:$.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&W(i,{code:$.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Cz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"email",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Fp||(Fp=new RegExp(Az,"u")),Fp.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"emoji",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")kz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"uuid",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")xz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"nanoid",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")bz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cuid",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")_z.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cuid2",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Sz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"ulid",code:$.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),W(i,{validation:"url",code:$.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"regex",code:$.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?xy(o).test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?jz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Dz(o).test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Ez.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"duration",code:$.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Lz(t.data,o.version)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"ip",code:$.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?$z(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"jwt",code:$.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Fz(t.data,o.version)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cidr",code:$.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Rz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"base64",code:$.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Nz.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"base64url",code:$.invalid_string,message:o.message}),r.dirty()):ke.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:$.invalid_string,...Y.errToObj(r)})}_addCheck(t){return new Cn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Y.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Y.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Y.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Y.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Y.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Y.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Y.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Y.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Y.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Y.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Y.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Y.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Y.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Y.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Y.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Y.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Y.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Y.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Y.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Y.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Y.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Y.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Y.errToObj(n)})}nonempty(t){return this.min(1,Y.errToObj(t))}trim(){return new Cn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Cn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Cn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Cn.create=e=>new Cn({checks:[],typeName:V.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...fe(e)});function Vz(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}class Vr extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const o=this._getOrReturnCtx(t);return W(o,{code:$.invalid_type,expected:J.number,received:o.parsedType}),te}let r;const i=new kt;for(const o of this._def.checks)o.kind==="int"?ke.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),W(r,{code:$.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Vz(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),W(r,{code:$.not_finite,message:o.message}),i.dirty()):ke.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Y.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Y.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Y.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Y.toString(n))}setLimit(t,n,r,i){return new Vr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Y.toString(i)}]})}_addCheck(t){return new Vr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Y.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Y.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ke.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Vr.create=e=>new Vr({checks:[],typeName:V.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class zr extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let r;const i=new kt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):ke.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return W(n,{code:$.invalid_type,expected:J.bigint,received:n.parsedType}),te}gte(t,n){return this.setLimit("min",t,!0,Y.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Y.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Y.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Y.toString(n))}setLimit(t,n,r,i){return new zr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Y.toString(i)}]})}_addCheck(t){return new zr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zr.create=e=>new zr({checks:[],typeName:V.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...fe(e)});class xs extends ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.boolean,received:r.parsedType}),te}return Nt(t.data)}}xs.create=e=>new xs({typeName:V.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class xi extends ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const o=this._getOrReturnCtx(t);return W(o,{code:$.invalid_type,expected:J.date,received:o.parsedType}),te}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return W(o,{code:$.invalid_date}),te}const r=new kt;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):ke.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Y.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Y.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}xi.create=e=>new xi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:V.ZodDate,...fe(e)});class vl extends ue{_parse(t){if(this._getType(t)!==J.symbol){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.symbol,received:r.parsedType}),te}return Nt(t.data)}}vl.create=e=>new vl({typeName:V.ZodSymbol,...fe(e)});class Ts extends ue{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.undefined,received:r.parsedType}),te}return Nt(t.data)}}Ts.create=e=>new Ts({typeName:V.ZodUndefined,...fe(e)});class Es extends ue{_parse(t){if(this._getType(t)!==J.null){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.null,received:r.parsedType}),te}return Nt(t.data)}}Es.create=e=>new Es({typeName:V.ZodNull,...fe(e)});class wo extends ue{constructor(){super(...arguments),this._any=!0}_parse(t){return Nt(t.data)}}wo.create=e=>new wo({typeName:V.ZodAny,...fe(e)});class gi extends ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Nt(t.data)}}gi.create=e=>new gi({typeName:V.ZodUnknown,...fe(e)});class vr extends ue{_parse(t){const n=this._getOrReturnCtx(t);return W(n,{code:$.invalid_type,expected:J.never,received:n.parsedType}),te}}vr.create=e=>new vr({typeName:V.ZodNever,...fe(e)});class yl extends ue{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.void,received:r.parsedType}),te}return Nt(t.data)}}yl.create=e=>new yl({typeName:V.ZodVoid,...fe(e)});class Mn extends ue{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==J.array)return W(n,{code:$.invalid_type,expected:J.array,received:n.parsedType}),te;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(W(n,{code:s?$.too_big:$.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(W(n,{code:$.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(W(n,{code:$.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new gr(n,s,n.path,a)))).then(s=>kt.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new gr(n,s,n.path,a)));return kt.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new Mn({...this._def,minLength:{value:t,message:Y.toString(n)}})}max(t,n){return new Mn({...this._def,maxLength:{value:t,message:Y.toString(n)}})}length(t,n){return new Mn({...this._def,exactLength:{value:t,message:Y.toString(n)}})}nonempty(t){return this.min(1,t)}}Mn.create=(e,t)=>new Mn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...fe(t)});function Ro(e){if(e instanceof He){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Gn.create(Ro(r))}return new He({...e._def,shape:()=>t})}else return e instanceof Mn?new Mn({...e._def,type:Ro(e.element)}):e instanceof Gn?Gn.create(Ro(e.unwrap())):e instanceof Ur?Ur.create(Ro(e.unwrap())):e instanceof Xn?Xn.create(e.items.map(t=>Ro(t))):e}class He extends ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ke.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==J.object){const c=this._getOrReturnCtx(t);return W(c,{code:$.invalid_type,expected:J.object,received:c.parsedType}),te}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof vr&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new gr(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof vr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(W(i,{code:$.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new gr(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,p=await u.value;c.push({key:d,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>kt.mergeObjectSync(r,c)):kt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Y.errToObj,new He({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var o,s;const i=((s=(o=this._def).errorMap)==null?void 0:s.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Y.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new He({...this._def,unknownKeys:"strip"})}passthrough(){return new He({...this._def,unknownKeys:"passthrough"})}extend(t){return new He({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new He({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:V.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new He({...this._def,catchall:t})}pick(t){const n={};for(const r of ke.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new He({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ke.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new He({...this._def,shape:()=>n})}deepPartial(){return Ro(this)}partial(t){const n={};for(const r of ke.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new He({...this._def,shape:()=>n})}required(t){const n={};for(const r of ke.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Gn;)o=o._def.innerType;n[r]=o}return new He({...this._def,shape:()=>n})}keyof(){return XC(ke.objectKeys(this.shape))}}He.create=(e,t)=>new He({shape:()=>e,unknownKeys:"strip",catchall:vr.create(),typeName:V.ZodObject,...fe(t)});He.strictCreate=(e,t)=>new He({shape:()=>e,unknownKeys:"strict",catchall:vr.create(),typeName:V.ZodObject,...fe(t)});He.lazycreate=(e,t)=>new He({shape:e,unknownKeys:"strip",catchall:vr.create(),typeName:V.ZodObject,...fe(t)});class Cs extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Xt(a.ctx.common.issues));return W(n,{code:$.invalid_union,unionErrors:s}),te}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Xt(l));return W(n,{code:$.invalid_union,unionErrors:a}),te}}get options(){return this._def.options}}Cs.create=(e,t)=>new Cs({options:e,typeName:V.ZodUnion,...fe(t)});const _r=e=>e instanceof Ms?_r(e.schema):e instanceof fn?_r(e.innerType()):e instanceof Os?[e.value]:e instanceof Br?e.options:e instanceof Is?ke.objectValues(e.enum):e instanceof Rs?_r(e._def.innerType):e instanceof Ts?[void 0]:e instanceof Es?[null]:e instanceof Gn?[void 0,..._r(e.unwrap())]:e instanceof Ur?[null,..._r(e.unwrap())]:e instanceof lf||e instanceof js?_r(e.unwrap()):e instanceof Ns?_r(e._def.innerType):[];class nc extends ue{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.object)return W(n,{code:$.invalid_type,expected:J.object,received:n.parsedType}),te;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(W(n,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=_r(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new nc({typeName:V.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...fe(r)})}}function Qm(e,t){const n=ur(e),r=ur(t);if(e===t)return{valid:!0,data:e};if(n===J.object&&r===J.object){const i=ke.objectKeys(t),o=ke.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=Qm(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===J.array&&r===J.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=Qm(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===J.date&&r===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class As extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(md(o)||md(s))return te;const a=Qm(o.value,s.value);return a.valid?((gd(o)||gd(s))&&n.dirty(),{status:n.value,value:a.data}):(W(r,{code:$.invalid_intersection_types}),te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}As.create=(e,t,n)=>new As({left:e,right:t,typeName:V.ZodIntersection,...fe(n)});class Xn extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.array)return W(r,{code:$.invalid_type,expected:J.array,received:r.parsedType}),te;if(r.data.length<this._def.items.length)return W(r,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&r.data.length>this._def.items.length&&(W(r,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new gr(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>kt.mergeArray(n,s)):kt.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Xn({...this._def,rest:t})}}Xn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xn({items:e,typeName:V.ZodTuple,rest:null,...fe(t)})};class Ps extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return W(r,{code:$.invalid_type,expected:J.object,received:r.parsedType}),te;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new gr(r,a,r.path,a)),value:s._parse(new gr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?kt.mergeObjectAsync(n,i):kt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ue?new Ps({keyType:t,valueType:n,typeName:V.ZodRecord,...fe(r)}):new Ps({keyType:Cn.create(),valueType:t,typeName:V.ZodRecord,...fe(n)})}}class wl extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.map)return W(r,{code:$.invalid_type,expected:J.map,received:r.parsedType}),te;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new gr(r,a,r.path,[c,"key"])),value:o._parse(new gr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return te;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return te;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}wl.create=(e,t,n)=>new wl({valueType:t,keyType:e,typeName:V.ZodMap,...fe(n)});class Ti extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.set)return W(r,{code:$.invalid_type,expected:J.set,received:r.parsedType}),te;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(W(r,{code:$.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(W(r,{code:$.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return te;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new gr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new Ti({...this._def,minSize:{value:t,message:Y.toString(n)}})}max(t,n){return new Ti({...this._def,maxSize:{value:t,message:Y.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ti.create=(e,t)=>new Ti({valueType:e,minSize:null,maxSize:null,typeName:V.ZodSet,...fe(t)});class oo extends ue{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.function)return W(n,{code:$.invalid_type,expected:J.function,received:n.parsedType}),te;function r(a,l){return gl({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ml(),yo].filter(c=>!!c),issueData:{code:$.invalid_arguments,argumentsError:l}})}function i(a,l){return gl({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ml(),yo].filter(c=>!!c),issueData:{code:$.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof bo){const a=this;return Nt(async function(...l){const c=new Xt([]),u=await a._def.args.parseAsync(l,o).catch(h=>{throw c.addIssue(r(l,h)),c}),d=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(d,o).catch(h=>{throw c.addIssue(i(d,h)),c})})}else{const a=this;return Nt(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Xt([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),d=a._def.returns.safeParse(u,o);if(!d.success)throw new Xt([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new oo({...this._def,args:Xn.create(t).rest(gi.create())})}returns(t){return new oo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new oo({args:t||Xn.create([]).rest(gi.create()),returns:n||gi.create(),typeName:V.ZodFunction,...fe(r)})}}class Ms extends ue{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ms.create=(e,t)=>new Ms({getter:e,typeName:V.ZodLazy,...fe(t)});class Os extends ue{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return W(n,{received:n.data,code:$.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:t.data}}get value(){return this._def.value}}Os.create=(e,t)=>new Os({value:e,typeName:V.ZodLiteral,...fe(t)});function XC(e,t){return new Br({values:e,typeName:V.ZodEnum,...fe(t)})}class Br extends ue{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return W(n,{expected:ke.joinValues(r),received:n.parsedType,code:$.invalid_type}),te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return W(n,{received:n.data,code:$.invalid_enum_value,options:r}),te}return Nt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Br.create(t,{...this._def,...n})}exclude(t,n=this._def){return Br.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Br.create=XC;class Is extends ue{_parse(t){const n=ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==J.string&&r.parsedType!==J.number){const i=ke.objectValues(n);return W(r,{expected:ke.joinValues(i),received:r.parsedType,code:$.invalid_type}),te}if(this._cache||(this._cache=new Set(ke.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ke.objectValues(n);return W(r,{received:r.data,code:$.invalid_enum_value,options:i}),te}return Nt(t.data)}get enum(){return this._def.values}}Is.create=(e,t)=>new Is({values:e,typeName:V.ZodNativeEnum,...fe(t)});class bo extends ue{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.promise&&n.common.async===!1)return W(n,{code:$.invalid_type,expected:J.promise,received:n.parsedType}),te;const r=n.parsedType===J.promise?n.data:Promise.resolve(n.data);return Nt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}bo.create=(e,t)=>new bo({type:e,typeName:V.ZodPromise,...fe(t)});class fn extends ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{W(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?te:l.status==="dirty"||n.value==="dirty"?Qi(l.value):l});{if(n.value==="aborted")return te;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?te:a.status==="dirty"||n.value==="dirty"?Qi(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?te:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?te:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ki(s))return te;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>ki(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):te);ke.assertNever(i)}}fn.create=(e,t,n)=>new fn({schema:e,typeName:V.ZodEffects,effect:t,...fe(n)});fn.createWithPreprocess=(e,t,n)=>new fn({schema:t,effect:{type:"preprocess",transform:e},typeName:V.ZodEffects,...fe(n)});class Gn extends ue{_parse(t){return this._getType(t)===J.undefined?Nt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gn.create=(e,t)=>new Gn({innerType:e,typeName:V.ZodOptional,...fe(t)});class Ur extends ue{_parse(t){return this._getType(t)===J.null?Nt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:V.ZodNullable,...fe(t)});class Rs extends ue{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===J.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Rs.create=(e,t)=>new Rs({innerType:e,typeName:V.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class Ns extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ks(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Xt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ns.create=(e,t)=>new Ns({innerType:e,typeName:V.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class bl extends ue{_parse(t){if(this._getType(t)!==J.nan){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.nan,received:r.parsedType}),te}return{status:"valid",value:t.data}}}bl.create=e=>new bl({typeName:V.ZodNaN,...fe(e)});const eA=Symbol("zod_brand");class lf extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class qs extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?te:o.status==="dirty"?(n.dirty(),Qi(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?te:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new qs({in:t,out:n,typeName:V.ZodPipeline})}}class js extends ue{_parse(t){const n=this._def.innerType._parse(t),r=i=>(ki(i)&&(i.value=Object.freeze(i.value)),i);return ks(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}js.create=(e,t)=>new js({innerType:e,typeName:V.ZodReadonly,...fe(t)});function AS(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function cf(e,t={},n){return e?wo.create().superRefine((r,i)=>{const o=e(r);if(o instanceof Promise)return o.then(s=>{if(!s){const a=AS(t,r),l=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:l})}});if(!o){const s=AS(t,r),a=s.fatal??n??!0;i.addIssue({code:"custom",...s,fatal:a})}}):wo.create()}const tA={object:He.lazycreate};var V;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(V||(V={}));const Ds=(e,t={message:`Input not instance of ${e.name}`})=>cf(n=>n instanceof e,t),Q=Cn.create,Ee=Vr.create,nA=bl.create,rA=zr.create,rc=xs.create,iA=xi.create,oA=vl.create,sA=Ts.create,Ty=Es.create,Ey=wo.create,uf=gi.create,aA=vr.create,lA=yl.create,Fe=Mn.create,se=He.create,cA=He.strictCreate,Bt=Cs.create,uA=nc.create,dA=As.create,fA=Xn.create,_o=Ps.create,pA=wl.create,hA=Ti.create,mA=oo.create,Cy=Ms.create,jt=Os.create,Ay=Br.create,gA=Is.create,vA=bo.create,vd=fn.create,yA=Gn.create,wA=Ur.create,bA=fn.createWithPreprocess,_A=qs.create,SA=()=>Q().optional(),kA=()=>Ee().optional(),xA=()=>rc().optional(),TA={string:e=>Cn.create({...e,coerce:!0}),number:e=>Vr.create({...e,coerce:!0}),boolean:e=>xs.create({...e,coerce:!0}),bigint:e=>zr.create({...e,coerce:!0}),date:e=>xi.create({...e,coerce:!0})},EA=te,PS=Object.freeze(Object.defineProperty({__proto__:null,BRAND:eA,DIRTY:Qi,EMPTY_PATH:ZC,INVALID:te,NEVER:EA,OK:Nt,ParseStatus:kt,Schema:ue,ZodAny:wo,ZodArray:Mn,ZodBigInt:zr,ZodBoolean:xs,ZodBranded:lf,ZodCatch:Ns,ZodDate:xi,ZodDefault:Rs,ZodDiscriminatedUnion:nc,ZodEffects:fn,ZodEnum:Br,ZodError:Xt,get ZodFirstPartyTypeKind(){return V},ZodFunction:oo,ZodIntersection:As,ZodIssueCode:$,ZodLazy:Ms,ZodLiteral:Os,ZodMap:wl,ZodNaN:bl,ZodNativeEnum:Is,ZodNever:vr,ZodNull:Es,ZodNullable:Ur,ZodNumber:Vr,ZodObject:He,ZodOptional:Gn,ZodParsedType:J,ZodPipeline:qs,ZodPromise:bo,ZodReadonly:js,ZodRecord:Ps,ZodSchema:ue,ZodSet:Ti,ZodString:Cn,ZodSymbol:vl,ZodTransformer:fn,ZodTuple:Xn,ZodType:ue,ZodUndefined:Ts,ZodUnion:Cs,ZodUnknown:gi,ZodVoid:yl,addIssueToContext:W,any:Ey,array:Fe,bigint:rA,boolean:rc,coerce:TA,custom:cf,date:iA,datetimeRegex:xy,defaultErrorMap:yo,discriminatedUnion:uA,effect:vd,enum:Ay,function:mA,getErrorMap:ml,getParsedType:ur,instanceof:Ds,intersection:dA,isAborted:md,isAsync:ks,isDirty:gd,isValid:ki,late:tA,lazy:Cy,literal:jt,makeIssue:gl,map:pA,nan:nA,nativeEnum:gA,never:aA,null:Ty,nullable:wA,number:Ee,object:se,get objectUtil(){return hd},oboolean:xA,onumber:kA,optional:yA,ostring:SA,pipeline:_A,preprocess:bA,promise:vA,quotelessJson:KC,record:_o,set:hA,setErrorMap:GC,strictObject:cA,string:Q,symbol:oA,transformer:vd,tuple:fA,undefined:sA,union:Bt,unknown:uf,get util(){return ke},void:lA},Symbol.toStringTag,{value:"Module"})),zz=Object.freeze(Object.defineProperty({__proto__:null,BRAND:eA,DIRTY:Qi,EMPTY_PATH:ZC,INVALID:te,NEVER:EA,OK:Nt,ParseStatus:kt,Schema:ue,ZodAny:wo,ZodArray:Mn,ZodBigInt:zr,ZodBoolean:xs,ZodBranded:lf,ZodCatch:Ns,ZodDate:xi,ZodDefault:Rs,ZodDiscriminatedUnion:nc,ZodEffects:fn,ZodEnum:Br,ZodError:Xt,get ZodFirstPartyTypeKind(){return V},ZodFunction:oo,ZodIntersection:As,ZodIssueCode:$,ZodLazy:Ms,ZodLiteral:Os,ZodMap:wl,ZodNaN:bl,ZodNativeEnum:Is,ZodNever:vr,ZodNull:Es,ZodNullable:Ur,ZodNumber:Vr,ZodObject:He,ZodOptional:Gn,ZodParsedType:J,ZodPipeline:qs,ZodPromise:bo,ZodReadonly:js,ZodRecord:Ps,ZodSchema:ue,ZodSet:Ti,ZodString:Cn,ZodSymbol:vl,ZodTransformer:fn,ZodTuple:Xn,ZodType:ue,ZodUndefined:Ts,ZodUnion:Cs,ZodUnknown:gi,ZodVoid:yl,addIssueToContext:W,any:Ey,array:Fe,bigint:rA,boolean:rc,coerce:TA,custom:cf,date:iA,datetimeRegex:xy,default:PS,defaultErrorMap:yo,discriminatedUnion:uA,effect:vd,enum:Ay,function:mA,getErrorMap:ml,getParsedType:ur,instanceof:Ds,intersection:dA,isAborted:md,isAsync:ks,isDirty:gd,isValid:ki,late:tA,lazy:Cy,literal:jt,makeIssue:gl,map:pA,nan:nA,nativeEnum:gA,never:aA,null:Ty,nullable:wA,number:Ee,object:se,get objectUtil(){return hd},oboolean:xA,onumber:kA,optional:yA,ostring:SA,pipeline:_A,preprocess:bA,promise:vA,quotelessJson:KC,record:_o,set:hA,setErrorMap:GC,strictObject:cA,string:Q,symbol:oA,transformer:vd,tuple:fA,undefined:sA,union:Bt,unknown:uf,get util(){return ke},void:lA,z:PS},Symbol.toStringTag,{value:"Module"}));function Bz({prompt:e,useLegacyFunctionCalling:t=!1}){const n=[];for(const{role:r,content:i}of e)switch(r){case"system":{n.push({role:"system",content:i});break}case"user":{if(i.length===1&&i[0].type==="text"){n.push({role:"user",content:i[0].text});break}n.push({role:"user",content:i.map(o=>{var s,a,l;switch(o.type){case"text":return{type:"text",text:o.text};case"image":return{type:"image_url",image_url:{url:o.image instanceof URL?o.image.toString():`data:${(s=o.mimeType)!=null?s:"image/jpeg"};base64,${yz(o.image)}`,detail:(l=(a=o.providerMetadata)==null?void 0:a.openai)==null?void 0:l.imageDetail}};case"file":throw new En({functionality:"File content parts in user messages"})}})});break}case"assistant":{let o="";const s=[];for(const a of i)switch(a.type){case"text":{o+=a.text;break}case"tool-call":{s.push({id:a.toolCallId,type:"function",function:{name:a.toolName,arguments:JSON.stringify(a.args)}});break}default:{const l=a;throw new Error(`Unsupported part: ${l}`)}}if(t){if(s.length>1)throw new En({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:o,function_call:s.length>0?s[0].function:void 0})}else n.push({role:"assistant",content:o,tool_calls:s.length>0?s:void 0});break}case"tool":{for(const o of i)t?n.push({role:"function",name:o.toolName,content:JSON.stringify(o.result)}):n.push({role:"tool",tool_call_id:o.toolCallId,content:JSON.stringify(o.result)});break}default:{const o=r;throw new Error(`Unsupported role: ${o}`)}}return n}function MS(e){var t,n;return(n=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:r,logprob:i,top_logprobs:o})=>({token:r,logprob:i,topLogprobs:o?o.map(({token:s,logprob:a})=>({token:s,logprob:a})):[]})))!=null?n:void 0}function yd(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Py=se({error:se({message:Q(),type:Q().nullish(),param:Ey().nullish(),code:Bt([Q(),Ee()]).nullish()})}),_l=gz({errorSchema:Py,errorToMessage:e=>e.error.message});function wd({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}var Uz=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){return this.settings.structuredOutputs===!0}get defaultObjectGenerationMode(){return this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:o,frequencyPenalty:s,presencePenalty:a,stopSequences:l,responseFormat:c,seed:u,providerMetadata:d}){var p,h,m,v,S,g,b;const _=e.type,x=[];o!=null&&x.push({type:"unsupported-setting",setting:"topK"}),c!=null&&c.type==="json"&&c.schema!=null&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const k=this.settings.useLegacyFunctionCalling;if(k&&this.settings.parallelToolCalls===!0)throw new En({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(k&&this.settings.structuredOutputs===!0)throw new En({functionality:"structuredOutputs with useLegacyFunctionCalling"});const T={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:i,frequency_penalty:s,presence_penalty:a,stop:l,seed:u,max_completion_tokens:(h=(p=d==null?void 0:d.openai)==null?void 0:p.maxCompletionTokens)!=null?h:void 0,store:(v=(m=d==null?void 0:d.openai)==null?void 0:m.store)!=null?v:void 0,metadata:(g=(S=d==null?void 0:d.openai)==null?void 0:S.metadata)!=null?g:void 0,response_format:(c==null?void 0:c.type)==="json"?{type:"json_object"}:void 0,messages:Bz({prompt:t,useLegacyFunctionCalling:k})};switch(OS(this.modelId)&&(T.temperature=void 0,T.top_p=void 0,T.frequency_penalty=void 0,T.presence_penalty=void 0),_){case"regular":return{args:{...T,...Hz({mode:e,useLegacyFunctionCalling:k,structuredOutputs:this.settings.structuredOutputs})},warnings:x};case"object-json":return{args:{...T,response_format:this.settings.structuredOutputs===!0?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(b=e.name)!=null?b:"response",description:e.description}}:{type:"json_object"}},warnings:x};case"object-tool":return{args:k?{...T,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...T,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.settings.structuredOutputs===!0?!0:void 0}}]},warnings:x};default:{const C=_;throw new Error(`Unsupported type: ${C}`)}}}async doGenerate(e){var t,n,r,i,o,s,a,l,c,u,d,p,h,m,v,S,g,b;const{args:_,warnings:x}=this.getArgs(e),{responseHeaders:k,value:T}=await hl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:_,failedResponseHandler:_l,successfulResponseHandler:ky(qz),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:C,...P}=_,I=T.choices[0];let N;return(((n=(t=T.usage)==null?void 0:t.completion_tokens_details)==null?void 0:n.reasoning_tokens)!=null||((i=(r=T.usage)==null?void 0:r.prompt_tokens_details)==null?void 0:i.cached_tokens)!=null)&&(N={openai:{}},((s=(o=T.usage)==null?void 0:o.completion_tokens_details)==null?void 0:s.reasoning_tokens)!=null&&(N.openai.reasoningTokens=(l=(a=T.usage)==null?void 0:a.completion_tokens_details)==null?void 0:l.reasoning_tokens),((u=(c=T.usage)==null?void 0:c.prompt_tokens_details)==null?void 0:u.cached_tokens)!=null&&(N.openai.cachedPromptTokens=(p=(d=T.usage)==null?void 0:d.prompt_tokens_details)==null?void 0:p.cached_tokens)),{text:(h=I.message.content)!=null?h:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&I.message.function_call?[{toolCallType:"function",toolCallId:la(),toolName:I.message.function_call.name,args:I.message.function_call.arguments}]:(m=I.message.tool_calls)==null?void 0:m.map(H=>{var z;return{toolCallType:"function",toolCallId:(z=H.id)!=null?z:la(),toolName:H.function.name,args:H.function.arguments}}),finishReason:yd(I.finish_reason),usage:{promptTokens:(S=(v=T.usage)==null?void 0:v.prompt_tokens)!=null?S:NaN,completionTokens:(b=(g=T.usage)==null?void 0:g.completion_tokens)!=null?b:NaN},rawCall:{rawPrompt:C,rawSettings:P},rawResponse:{headers:k},response:wd(T),warnings:x,logprobs:MS(I.logprobs),providerMetadata:N}}async doStream(e){if(OS(this.modelId)){const m=await this.doGenerate(e);return{stream:new ReadableStream({start(S){if(S.enqueue({type:"response-metadata",...m.response}),m.text&&S.enqueue({type:"text-delta",textDelta:m.text}),m.toolCalls)for(const g of m.toolCalls)S.enqueue({type:"tool-call",...g});S.enqueue({type:"finish",finishReason:m.finishReason,usage:m.usage,logprobs:m.logprobs,providerMetadata:m.providerMetadata}),S.close()}}),rawCall:m.rawCall,rawResponse:m.rawResponse,warnings:m.warnings}}const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:{...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},failedResponseHandler:_l,successfulResponseHandler:HC(Wz),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...s}=t,a=[];let l="unknown",c={promptTokens:void 0,completionTokens:void 0},u,d=!0;const{useLegacyFunctionCalling:p}=this.settings;let h;return{stream:i.pipeThrough(new TransformStream({transform(m,v){var S,g,b,_,x,k,T,C,P,I,N,H,z,B,ne,ve;if(!m.success){l="error",v.enqueue({type:"error",error:m.error});return}const me=m.value;if("error"in me){l="error",v.enqueue({type:"error",error:me.error});return}d&&(d=!1,v.enqueue({type:"response-metadata",...wd(me)})),me.usage!=null&&(c={promptTokens:(S=me.usage.prompt_tokens)!=null?S:void 0,completionTokens:(g=me.usage.completion_tokens)!=null?g:void 0},((b=me.usage.prompt_tokens_details)==null?void 0:b.cached_tokens)!=null&&(h={openai:{cachedPromptTokens:(_=me.usage.prompt_tokens_details)==null?void 0:_.cached_tokens}}));const ie=me.choices[0];if((ie==null?void 0:ie.finish_reason)!=null&&(l=yd(ie.finish_reason)),(ie==null?void 0:ie.delta)==null)return;const j=ie.delta;j.content!=null&&v.enqueue({type:"text-delta",textDelta:j.content});const q=MS(ie==null?void 0:ie.logprobs);q!=null&&q.length&&(u===void 0&&(u=[]),u.push(...q));const U=p&&j.function_call!=null?[{type:"function",id:la(),function:j.function_call,index:0}]:j.tool_calls;if(U!=null)for(const Z of U){const be=Z.index;if(a[be]==null){if(Z.type!=="function")throw new Lp({data:Z,message:"Expected 'function' type."});if(Z.id==null)throw new Lp({data:Z,message:"Expected 'id' to be a string."});if(((x=Z.function)==null?void 0:x.name)==null)throw new Lp({data:Z,message:"Expected 'function.name' to be a string."});a[be]={id:Z.id,type:"function",function:{name:Z.function.name,arguments:(k=Z.function.arguments)!=null?k:""}};const f=a[be];((T=f.function)==null?void 0:T.name)!=null&&((C=f.function)==null?void 0:C.arguments)!=null&&(f.function.arguments.length>0&&v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:f.id,toolName:f.function.name,argsTextDelta:f.function.arguments}),ES(f.function.arguments)&&v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(P=f.id)!=null?P:la(),toolName:f.function.name,args:f.function.arguments}));continue}const _e=a[be];((I=Z.function)==null?void 0:I.arguments)!=null&&(_e.function.arguments+=(H=(N=Z.function)==null?void 0:N.arguments)!=null?H:""),v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:_e.id,toolName:_e.function.name,argsTextDelta:(z=Z.function.arguments)!=null?z:""}),((B=_e.function)==null?void 0:B.name)!=null&&((ne=_e.function)==null?void 0:ne.arguments)!=null&&ES(_e.function.arguments)&&v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ve=_e.id)!=null?ve:la(),toolName:_e.function.name,args:_e.function.arguments})}},flush(m){var v,S;m.enqueue({type:"finish",finishReason:l,logprobs:u,usage:{promptTokens:(v=c.promptTokens)!=null?v:NaN,completionTokens:(S=c.completionTokens)!=null?S:NaN},...h!=null?{providerMetadata:h}:{}})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:r},warnings:n}}},CA=se({prompt_tokens:Ee().nullish(),completion_tokens:Ee().nullish(),prompt_tokens_details:se({cached_tokens:Ee().nullish()}).nullish(),completion_tokens_details:se({reasoning_tokens:Ee().nullish()}).nullish()}).nullish(),qz=se({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(se({message:se({role:jt("assistant").nullish(),content:Q().nullish(),function_call:se({arguments:Q(),name:Q()}).nullish(),tool_calls:Fe(se({id:Q().nullish(),type:jt("function"),function:se({name:Q(),arguments:Q()})})).nullish()}),index:Ee(),logprobs:se({content:Fe(se({token:Q(),logprob:Ee(),top_logprobs:Fe(se({token:Q(),logprob:Ee()}))})).nullable()}).nullish(),finish_reason:Q().nullish()})),usage:CA}),Wz=Bt([se({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(se({delta:se({role:Ay(["assistant"]).nullish(),content:Q().nullish(),function_call:se({name:Q().optional(),arguments:Q().optional()}).nullish(),tool_calls:Fe(se({index:Ee(),id:Q().nullish(),type:jt("function").optional(),function:se({name:Q().nullish(),arguments:Q().nullish()})})).nullish()}).nullish(),logprobs:se({content:Fe(se({token:Q(),logprob:Ee(),top_logprobs:Fe(se({token:Q(),logprob:Ee()}))})).nullable()}).nullish(),finish_reason:Q().nullable().optional(),index:Ee()})),usage:CA}),Py]);function Hz({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n=!1}){var r;const i=(r=e.tools)!=null&&r.length?e.tools:void 0;if(i==null)return{tools:void 0,tool_choice:void 0};const o=e.toolChoice;if(t){const l=i.map(u=>({name:u.name,description:u.description,parameters:u.parameters}));if(o==null)return{functions:l,function_call:void 0};switch(o.type){case"auto":case"none":case void 0:return{functions:l,function_call:void 0};case"required":throw new En({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:l,function_call:{name:o.toolName}}}}const s=i.map(l=>({type:"function",function:{name:l.name,description:l.description,parameters:l.parameters,strict:n===!0?!0:void 0}}));if(o==null)return{tools:s,tool_choice:void 0};const a=o.type;switch(a){case"auto":case"none":case"required":return{tools:s,tool_choice:a};case"tool":return{tools:s,tool_choice:{type:"function",function:{name:o.toolName}}};default:{const l=a;throw new Error(`Unsupported tool choice type: ${l}`)}}}function OS(e){return e.startsWith("o1-")}function Kz({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let i="";e[0].role==="system"&&(i+=`${e[0].content}

`,e=e.slice(1));for(const{role:o,content:s}of e)switch(o){case"system":throw new U4({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const a=s.map(l=>{switch(l.type){case"text":return l.text;case"image":throw new En({functionality:"images"})}}).join("");i+=`${n}:
${a}

`;break}case"assistant":{const a=s.map(l=>{switch(l.type){case"text":return l.text;case"tool-call":throw new En({functionality:"tool-call messages"})}}).join("");i+=`${r}:
${a}

`;break}case"tool":throw new En({functionality:"tool messages"});default:{const a=o;throw new Error(`Unsupported role: ${a}`)}}return i+=`${r}:
`,{prompt:i,stopSequences:[`
${n}:`]}}function IS(e){return e==null?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([r,i])=>({token:r,logprob:i})):[]}))}var Jz=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:i,topP:o,topK:s,frequencyPenalty:a,presencePenalty:l,stopSequences:c,responseFormat:u,seed:d}){var p;const h=e.type,m=[];s!=null&&m.push({type:"unsupported-setting",setting:"topK"}),u!=null&&u.type!=="text"&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:v,stopSequences:S}=Kz({prompt:n,inputFormat:t}),g=[...S??[],...c??[]],b={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:i,top_p:o,frequency_penalty:a,presence_penalty:l,seed:d,prompt:v,stop:g.length>0?g:void 0};switch(h){case"regular":{if((p=e.tools)!=null&&p.length)throw new En({functionality:"tools"});if(e.toolChoice)throw new En({functionality:"toolChoice"});return{args:b,warnings:m}}case"object-json":throw new En({functionality:"object-json mode"});case"object-tool":throw new En({functionality:"object-tool mode"});default:{const _=h;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:t,failedResponseHandler:_l,successfulResponseHandler:ky(Gz),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t,a=i.choices[0];return{text:a.text,usage:{promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},finishReason:yd(a.finish_reason),logprobs:IS(a.logprobs),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:r},response:wd(i),warnings:n}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:{...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},failedResponseHandler:_l,successfulResponseHandler:HC(Zz),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...s}=t;let a="unknown",l={promptTokens:Number.NaN,completionTokens:Number.NaN},c,u=!0;return{stream:i.pipeThrough(new TransformStream({transform(d,p){if(!d.success){a="error",p.enqueue({type:"error",error:d.error});return}const h=d.value;if("error"in h){a="error",p.enqueue({type:"error",error:h.error});return}u&&(u=!1,p.enqueue({type:"response-metadata",...wd(h)})),h.usage!=null&&(l={promptTokens:h.usage.prompt_tokens,completionTokens:h.usage.completion_tokens});const m=h.choices[0];(m==null?void 0:m.finish_reason)!=null&&(a=yd(m.finish_reason)),(m==null?void 0:m.text)!=null&&p.enqueue({type:"text-delta",textDelta:m.text});const v=IS(m==null?void 0:m.logprobs);v!=null&&v.length&&(c===void 0&&(c=[]),c.push(...v))},flush(d){d.enqueue({type:"finish",finishReason:a,logprobs:c,usage:l})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:r},warnings:n}}},Gz=se({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(se({text:Q(),finish_reason:Q(),logprobs:se({tokens:Fe(Q()),token_logprobs:Fe(Ee()),top_logprobs:Fe(_o(Q(),Ee())).nullable()}).nullish()})),usage:se({prompt_tokens:Ee(),completion_tokens:Ee()})}),Zz=Bt([se({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(se({text:Q(),finish_reason:Q().nullish(),index:Ee(),logprobs:se({tokens:Fe(Q()),token_logprobs:Fe(Ee()),top_logprobs:Fe(_o(Q(),Ee())).nullable()}).nullish()})),usage:se({prompt_tokens:Ee(),completion_tokens:Ee()}).nullish()}),Py]),Yz=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new J4({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:pl(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:_l,successfulResponseHandler:ky(Qz),abortSignal:n,fetch:this.config.fetch});return{embeddings:i.data.map(o=>o.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},Qz=se({data:Fe(se({embedding:Fe(Ee())})),usage:se({prompt_tokens:Ee()}).nullish()});function Xz(e={}){var t,n,r;const i=(n=wz((t=e.baseURL)!=null?t:e.baseUrl))!=null?n:"https://api.openai.com/v1",o=(r=e.compatibility)!=null?r:"compatible",s=()=>({Authorization:`Bearer ${sz({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),a=(p,h={})=>new Uz(p,h,{provider:"openai.chat",url:({path:m})=>`${i}${m}`,headers:s,compatibility:o,fetch:e.fetch}),l=(p,h={})=>new Jz(p,h,{provider:"openai.completion",url:({path:m})=>`${i}${m}`,headers:s,compatibility:o,fetch:e.fetch}),c=(p,h={})=>new Yz(p,h,{provider:"openai.embedding",url:({path:m})=>`${i}${m}`,headers:s,fetch:e.fetch}),u=(p,h)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return p==="gpt-3.5-turbo-instruct"?l(p,h):a(p,h)},d=function(p,h){return u(p,h)};return d.languageModel=u,d.chat=a,d.completion=l,d.embedding=c,d.textEmbedding=c,d.textEmbeddingModel=c,d}var e3=Xz({compatibility:"strict"}),AA="vercel.ai.error",t3=Symbol.for(AA),PA,n3=class MA extends Error{constructor({name:t,message:n,cause:r}){super(n),this[PA]=!0,this.name=t,this.cause=r}static isInstance(t){return MA.hasMarker(t,AA)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}toJSON(){return{name:this.name,message:this.message}}};PA=t3;var RS=n3,OA="AI_InvalidArgumentError",IA=`vercel.ai.error.${OA}`,r3=Symbol.for(IA),RA,i3=class extends RS{constructor({message:t,cause:n,argument:r}){super({name:OA,message:t,cause:n}),this[RA]=!0,this.argument=r}static isInstance(t){return RS.hasMarker(t,IA)}};RA=r3;let NA=(e,t=21)=>(n=t)=>{let r="",i=n|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};var o3=({prefix:e,size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=NA(n,t);if(e==null)return i;if(n.includes(r))throw new i3({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return o=>`${e}${r}${i(o)}`};o3();var s3=Symbol.for("vercel.ai.validator");const a3=Symbol("Let zodToJsonSchema decide on which parser to use"),l3={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},c3=e=>({...l3,...e}),u3=e=>{const t=c3(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function jA(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Oe(e,t,n,r,i){e[t]=n,jA(e,t,r,i)}const DA=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function pn(e){if(e.target!=="openAi")return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?DA(t,e.currentPath):t.join("/")}}function d3(e,t){var r,i,o;const n={type:"array"};return(r=e.type)!=null&&r._def&&((o=(i=e.type)==null?void 0:i._def)==null?void 0:o.typeName)!==V.ZodAny&&(n.items=Pe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Oe(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Oe(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Oe(n,"minItems",e.exactLength.value,e.exactLength.message,t),Oe(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function f3(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Oe(n,"minimum",r.value,r.message,t):Oe(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Oe(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Oe(n,"maximum",r.value,r.message,t):Oe(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Oe(n,"maximum",r.value,r.message,t));break;case"multipleOf":Oe(n,"multipleOf",r.value,r.message,t);break}return n}function p3(){return{type:"boolean"}}function LA(e,t){return Pe(e.type._def,t)}const h3=(e,t)=>Pe(e.innerType._def,t);function $A(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,o)=>$A(e,t,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return m3(e,t)}}const m3=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Oe(n,"minimum",r.value,r.message,t);break;case"max":Oe(n,"maximum",r.value,r.message,t);break}return n};function g3(e,t){return{...Pe(e.innerType._def,t),default:e.defaultValue()}}function v3(e,t){return t.effectStrategy==="input"?Pe(e.schema._def,t):pn(t)}function y3(e){return{type:"string",enum:Array.from(e.values)}}const w3=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function b3(e,t){const n=[Pe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Pe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(o=>{if(w3(o))i.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let s=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:a,...l}=o;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function _3(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let Vp;const Dn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Vp===void 0&&(Vp=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Vp),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function FA(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Oe(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Oe(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Ln(n,"email",r.message,t);break;case"format:idn-email":Ln(n,"idn-email",r.message,t);break;case"pattern:zod":Lt(n,Dn.email,r.message,t);break}break;case"url":Ln(n,"uri",r.message,t);break;case"uuid":Ln(n,"uuid",r.message,t);break;case"regex":Lt(n,r.regex,r.message,t);break;case"cuid":Lt(n,Dn.cuid,r.message,t);break;case"cuid2":Lt(n,Dn.cuid2,r.message,t);break;case"startsWith":Lt(n,RegExp(`^${zp(r.value,t)}`),r.message,t);break;case"endsWith":Lt(n,RegExp(`${zp(r.value,t)}$`),r.message,t);break;case"datetime":Ln(n,"date-time",r.message,t);break;case"date":Ln(n,"date",r.message,t);break;case"time":Ln(n,"time",r.message,t);break;case"duration":Ln(n,"duration",r.message,t);break;case"length":Oe(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),Oe(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{Lt(n,RegExp(zp(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Ln(n,"ipv4",r.message,t),r.version!=="v4"&&Ln(n,"ipv6",r.message,t);break}case"base64url":Lt(n,Dn.base64url,r.message,t);break;case"jwt":Lt(n,Dn.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Lt(n,Dn.ipv4Cidr,r.message,t),r.version!=="v4"&&Lt(n,Dn.ipv6Cidr,r.message,t);break}case"emoji":Lt(n,Dn.emoji(),r.message,t);break;case"ulid":{Lt(n,Dn.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Ln(n,"binary",r.message,t);break}case"contentEncoding:base64":{Oe(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{Lt(n,Dn.base64,r.message,t);break}}break}case"nanoid":Lt(n,Dn.nanoid,r.message,t)}return n}function zp(e,t){return t.patternStrategy==="escape"?k3(e):e}const S3=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function k3(e){let t="";for(let n=0;n<e.length;n++)S3.has(e[n])||(t+="\\"),t+=e[n];return t}function Ln(e,t,n,r){var i;e.format||(i=e.anyOf)!=null&&i.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Oe(e,"format",t,n,r)}function Lt(e,t,n,r){var i;e.pattern||(i=e.allOf)!=null&&i.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:NS(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Oe(e,"pattern",NS(t,r),n,r)}function NS(e,t){var l;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let i="",o=!1,s=!1,a=!1;for(let c=0;c<r.length;c++){if(o){i+=r[c],o=!1;continue}if(n.i){if(s){if(r[c].match(/[a-z]/)){a?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),a=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],a=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=s?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?o=!0:s&&r[c]==="]"?s=!1:!s&&r[c]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function VA(e,t){var r,i,o,s,a,l;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===V.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((c,u)=>({...c,[u]:Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",u]})??pn(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(((i=e.keyType)==null?void 0:i._def.typeName)===V.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){const{type:c,...u}=FA(e.keyType._def,t);return{...n,propertyNames:u}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===V.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((a=e.keyType)==null?void 0:a._def.typeName)===V.ZodBranded&&e.keyType._def.type._def.typeName===V.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...u}=LA(e.keyType._def,t);return{...n,propertyNames:u}}}return n}function x3(e,t){if(t.mapStrategy==="record")return VA(e,t);const n=Pe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||pn(t),r=Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||pn(t);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function T3(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),i=Array.from(new Set(r.map(o=>typeof o)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function E3(e){return e.target==="openAi"?void 0:{not:pn({...e,currentPath:[...e.currentPath,"not"]})}}function C3(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const bd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function A3(e,t){if(t.target==="openApi3")return jS(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in bd&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,o)=>{const s=bd[o._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,o)=>{const s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((o,s,a)=>a.indexOf(o)===s);return{type:i.length>1?i:i[0],enum:n.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(o=>!r.includes(o))],[])};return jS(e,t)}const jS=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,i)=>Pe(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function P3(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:bd[e.innerType._def.typeName],nullable:!0}:{type:[bd[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Pe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function M3(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",jA(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Oe(n,"minimum",r.value,r.message,t):Oe(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Oe(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Oe(n,"maximum",r.value,r.message,t):Oe(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Oe(n,"maximum",r.value,r.message,t));break;case"multipleOf":Oe(n,"multipleOf",r.value,r.message,t);break}return n}function O3(e,t){const n=t.target==="openAi",r={type:"object",properties:{}},i=[],o=e.shape();for(const a in o){let l=o[a];if(l===void 0||l._def===void 0)continue;let c=R3(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const u=Pe(l._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});u!==void 0&&(r.properties[a]=u,c||i.push(a))}i.length&&(r.required=i);const s=I3(e,t);return s!==void 0&&(r.additionalProperties=s),r}function I3(e,t){if(e.catchall._def.typeName!=="ZodNever")return Pe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function R3(e){try{return e.isOptional()}catch{return!0}}const N3=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Pe(e.innerType._def,t);const n=Pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:pn(t)},n]}:pn(t)},j3=(e,t)=>{if(t.pipeStrategy==="input")return Pe(e.in._def,t);if(t.pipeStrategy==="output")return Pe(e.out._def,t);const n=Pe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Pe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function D3(e,t){return Pe(e.type._def,t)}function L3(e,t){const r={type:"array",uniqueItems:!0,items:Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Oe(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Oe(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function $3(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Pe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Pe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Pe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function F3(e){return{not:pn(e)}}function V3(e){return pn(e)}const z3=(e,t)=>Pe(e.innerType._def,t),B3=(e,t,n)=>{switch(t){case V.ZodString:return FA(e,n);case V.ZodNumber:return M3(e,n);case V.ZodObject:return O3(e,n);case V.ZodBigInt:return f3(e,n);case V.ZodBoolean:return p3();case V.ZodDate:return $A(e,n);case V.ZodUndefined:return F3(n);case V.ZodNull:return C3(n);case V.ZodArray:return d3(e,n);case V.ZodUnion:case V.ZodDiscriminatedUnion:return A3(e,n);case V.ZodIntersection:return b3(e,n);case V.ZodTuple:return $3(e,n);case V.ZodRecord:return VA(e,n);case V.ZodLiteral:return _3(e,n);case V.ZodEnum:return y3(e);case V.ZodNativeEnum:return T3(e);case V.ZodNullable:return P3(e,n);case V.ZodOptional:return N3(e,n);case V.ZodMap:return x3(e,n);case V.ZodSet:return L3(e,n);case V.ZodLazy:return()=>e.getter()._def;case V.ZodPromise:return D3(e,n);case V.ZodNaN:case V.ZodNever:return E3(n);case V.ZodEffects:return v3(e,n);case V.ZodAny:return pn(n);case V.ZodUnknown:return V3(n);case V.ZodDefault:return g3(e,n);case V.ZodBranded:return LA(e,n);case V.ZodReadonly:return z3(e,n);case V.ZodCatch:return h3(e,n);case V.ZodPipeline:return j3(e,n);case V.ZodFunction:case V.ZodVoid:case V.ZodSymbol:return;default:return(r=>{})()}};function Pe(e,t,n=!1){var a;const r=t.seen.get(e);if(t.override){const l=(a=t.override)==null?void 0:a.call(t,e,t,r,n);if(l!==a3)return l}if(r&&!n){const l=U3(r,t);if(l!==void 0)return l}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const o=B3(e,e.typeName,t),s=typeof o=="function"?Pe(o(),t):o;if(s&&q3(e,t,s),t.postProcess){const l=t.postProcess(s,e,t);return i.jsonSchema=s,l}return i.jsonSchema=s,s}const U3=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:DA(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),pn(t)):t.$refStrategy==="seen"?pn(t):void 0}},q3=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),W3=(e,t)=>{const n=u3(t);let r;const i=t==null?void 0:t.name,o=Pe(e._def,n,!1)??pn(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const s=i===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:o}};return n.target==="jsonSchema7"?s.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};var Sl={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},kl={code:"1",name:"function_call",parse:e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},xl={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Tl={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},El={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Cl={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Al={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},Pl={code:"7",name:"tool_calls",parse:e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||typeof t.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},Ml={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},Ol={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Il={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Rl={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},Nl={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},jl={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},Dl={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},zA=[Sl,kl,xl,Tl,El,Cl,Al,Pl,Ml,Ol,Il,Rl,Nl,jl,Dl];Sl.code+"",kl.code+"",xl.code+"",Tl.code+"",El.code+"",Cl.code+"",Al.code+"",Pl.code+"",Ml.code+"",Ol.code+"",Il.code+"",Rl.code+"",Nl.code+"",jl.code+"",Dl.code+"";Sl.name+"",Sl.code,kl.name+"",kl.code,xl.name+"",xl.code,Tl.name+"",Tl.code,El.name+"",El.code,Cl.name+"",Cl.code,Al.name+"",Al.code,Pl.name+"",Pl.code,Ml.name+"",Ml.code,Ol.name+"",Ol.code,Il.name+"",Il.code,Rl.name+"",Rl.code,Nl.name+"",Nl.code,jl.name+"",jl.code,Dl.name+"",Dl.code;zA.map(e=>e.code);function H3(e,t){const n=zA.find(r=>r.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}var Xm=Symbol.for("vercel.ai.schema");function K3(e,{validate:t}={}){return{[Xm]:!0,_type:void 0,[s3]:!0,jsonSchema:e,validate:t}}function J3(e){return typeof e=="object"&&e!==null&&Xm in e&&e[Xm]===!0&&"jsonSchema"in e&&"validate"in e}function BA(e){return J3(e)?e:G3(e)}function G3(e){return K3(W3(e),{validate:t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var UA="vercel.ai.error",Z3=Symbol.for(UA),qA,Y3=class WA extends Error{constructor({name:t,message:n,cause:r}){super(n),this[qA]=!0,this.name=t,this.cause=r}static isInstance(t){return WA.hasMarker(t,UA)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}toJSON(){return{name:this.name,message:this.message}}};qA=Z3;var Ve=Y3,eg="AI_APICallError",HA=`vercel.ai.error.${eg}`,Q3=Symbol.for(HA),KA,X3=class extends Ve{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:o,cause:s,isRetryable:a=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:eg,message:e,cause:s}),this[KA]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=o,this.isRetryable=a,this.data=l}static isInstance(e){return Ve.hasMarker(e,HA)}static isAPICallError(e){return e instanceof Error&&e.name===eg&&typeof e.url=="string"&&typeof e.requestBodyValues=="object"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.responseHeaders==null||typeof e.responseHeaders=="object")&&(e.responseBody==null||typeof e.responseBody=="string")&&(e.cause==null||typeof e.cause=="object")&&typeof e.isRetryable=="boolean"&&(e.data==null||typeof e.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};KA=Q3;function My(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var JA="AI_InvalidArgumentError",GA=`vercel.ai.error.${JA}`,eB=Symbol.for(GA),ZA,tB=class extends Ve{constructor({message:t,cause:n,argument:r}){super({name:JA,message:t,cause:n}),this[ZA]=!0,this.argument=r}static isInstance(t){return Ve.hasMarker(t,GA)}};ZA=eB;var tg="AI_InvalidPromptError",YA=`vercel.ai.error.${tg}`,nB=Symbol.for(YA),QA,Mo=class extends Ve{constructor({prompt:e,message:t,cause:n}){super({name:tg,message:`Invalid prompt: ${t}`,cause:n}),this[QA]=!0,this.prompt=e}static isInstance(e){return Ve.hasMarker(e,YA)}static isInvalidPromptError(e){return e instanceof Error&&e.name===tg&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};QA=nB;var ng="AI_JSONParseError",XA=`vercel.ai.error.${ng}`,rB=Symbol.for(XA),eP,DS=class extends Ve{constructor({text:e,cause:t}){super({name:ng,message:`JSON parsing failed: Text: ${e}.
Error message: ${My(t)}`,cause:t}),this[eP]=!0,this.text=e}static isInstance(e){return Ve.hasMarker(e,XA)}static isJSONParseError(e){return e instanceof Error&&e.name===ng&&"text"in e&&typeof e.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};eP=rB;var rg="AI_TypeValidationError",tP=`vercel.ai.error.${rg}`,iB=Symbol.for(tP),nP,oB=class ig extends Ve{constructor({value:t,cause:n}){super({name:rg,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${My(n)}`,cause:n}),this[nP]=!0,this.value=t}static isInstance(t){return Ve.hasMarker(t,tP)}static wrap({value:t,cause:n}){return ig.isInstance(n)&&n.value===t?n:new ig({value:t,cause:n})}static isTypeValidationError(t){return t instanceof Error&&t.name===rg}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};nP=iB;var LS=oB,ic=({prefix:e,size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=NA(n,t);if(e==null)return i;if(n.includes(r))throw new tB({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return o=>`${e}${r}${i(o)}`};ic();function sB(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function aB(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var og=Symbol.for("vercel.ai.validator");function lB(e){return{[og]:!0,validate:e}}function cB(e){return typeof e=="object"&&e!==null&&og in e&&e[og]===!0&&"validate"in e}function uB(e){return cB(e)?e:dB(e)}function dB(e){return lB(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function Oy({value:e,schema:t}){const n=uB(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:LS.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:LS.wrap({value:e,cause:r})}}}function fB({text:e,schema:t}){try{const n=sf.parse(e);return t==null?{success:!0,value:n}:Oy({value:n,schema:t})}catch(n){return{success:!1,error:DS.isJSONParseError(n)?n:new DS({text:e,cause:n})}}}var{btoa:pB,atob:hB}=globalThis;function mB(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=hB(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function $S(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return pB(t)}var gB=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Xi="1.9.0",FS=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function vB(e){var t=new Set([e]),n=new Set,r=e.match(FS);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(l){return l===e};function o(a){return n.add(a),!1}function s(a){return t.add(a),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var c=l.match(FS);if(!c)return o(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||i.major!==u.major?o(l):i.major===0?i.minor===u.minor&&i.patch<=u.patch?s(l):o(l):i.minor<=u.minor?s(l):o(l)}}var yB=vB(Xi),wB=Xi.split(".")[0],Ll=Symbol.for("opentelemetry.js.api."+wB),$l=gB;function Iy(e,t,n,r){var i;r===void 0&&(r=!1);var o=$l[Ll]=(i=$l[Ll])!==null&&i!==void 0?i:{version:Xi};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==Xi){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Xi);return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Xi+"."),!0}function Fl(e){var t,n,r=(t=$l[Ll])===null||t===void 0?void 0:t.version;if(!(!r||!yB(r)))return(n=$l[Ll])===null||n===void 0?void 0:n[e]}function Ry(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Xi+".");var n=$l[Ll];n&&delete n[e]}var bB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},_B=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},SB=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("verbose",this._namespace,t)},e}();function ca(e,t,n){var r=Fl("diag");if(r)return n.unshift(t),r[e].apply(r,_B([],bB(n),!1))}var rn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(rn||(rn={}));function kB(e,t){e<rn.NONE?e=rn.NONE:e>rn.ALL&&(e=rn.ALL),t=t||{};function n(r,i){var o=t[r];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:n("error",rn.ERROR),warn:n("warn",rn.WARN),info:n("info",rn.INFO),debug:n("debug",rn.DEBUG),verbose:n("verbose",rn.VERBOSE)}}var xB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},TB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},EB="diag",_d=function(){function e(){function t(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=Fl("diag");if(a)return a[i].apply(a,TB([],xB(o),!1))}}var n=this,r=function(i,o){var s,a,l;if(o===void 0&&(o={logLevel:rn.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var u=Fl("diag"),d=kB((a=o.logLevel)!==null&&a!==void 0?a:rn.INFO,i);if(u&&!o.suppressOverrideMessage){var p=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return Iy("diag",d,n,!0)};n.setLogger=r,n.disable=function(){Ry(EB,n)},n.createComponentLogger=function(i){return new SB(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function CB(e){return Symbol.for(e)}var AB=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var o=new e(n._currentContext);return o._currentContext.set(r,i),o},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),PB=new AB,MB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},OB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},IB=function(){function e(){}return e.prototype.active=function(){return PB},e.prototype.with=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,OB([r],MB(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),RB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},NB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Bp="context",jB=new IB,rP=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Iy(Bp,t,_d.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,NB([t,n,r],RB(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Fl(Bp)||jB},e.prototype.disable=function(){this._getContextManager().disable(),Ry(Bp,_d.instance())},e}(),sg;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(sg||(sg={}));var iP="0000000000000000",oP="00000000000000000000000000000000",DB={traceId:oP,spanId:iP,traceFlags:sg.NONE},Va=function(){function e(t){t===void 0&&(t=DB),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),Ny=CB("OpenTelemetry Context Key SPAN");function jy(e){return e.getValue(Ny)||void 0}function LB(){return jy(rP.getInstance().active())}function Dy(e,t){return e.setValue(Ny,t)}function $B(e){return e.deleteValue(Ny)}function FB(e,t){return Dy(e,new Va(t))}function sP(e){var t;return(t=jy(e))===null||t===void 0?void 0:t.spanContext()}var VB=/^([0-9a-f]{32})$/i,zB=/^[0-9a-f]{16}$/i;function BB(e){return VB.test(e)&&e!==oP}function UB(e){return zB.test(e)&&e!==iP}function aP(e){return BB(e.traceId)&&UB(e.spanId)}function qB(e){return new Va(e)}var Up=rP.getInstance(),lP=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Up.active());var i=!!(n!=null&&n.root);if(i)return new Va;var o=r&&sP(r);return WB(o)&&aP(o)?new Va(o):new Va},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var l=s??Up.active(),c=this.startSpan(t,o,l),u=Dy(l,c);return Up.with(u,a,void 0,c)}},e}();function WB(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var HB=new lP,KB=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):HB},e}(),JB=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new lP},e}(),GB=new JB,VS=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new KB(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:GB},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}(),Sd;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Sd||(Sd={}));var qp="trace",ZB=function(){function e(){this._proxyTracerProvider=new VS,this.wrapSpanContext=qB,this.isSpanContextValid=aP,this.deleteSpan=$B,this.getSpan=jy,this.getActiveSpan=LB,this.getSpanContext=sP,this.setSpan=Dy,this.setSpanContext=FB}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Iy(qp,this._proxyTracerProvider,_d.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Fl(qp)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Ry(qp,_d.instance()),this._proxyTracerProvider=new VS},e}(),YB=ZB.getInstance(),QB=Object.defineProperty,cP=(e,t)=>{for(var n in t)QB(e,n,{get:t[n],enumerable:!0})};async function XB(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}var ag="AI_RetryError",uP=`vercel.ai.error.${ag}`,eU=Symbol.for(uP),dP,zS=class extends Ve{constructor({message:e,reason:t,errors:n}){super({name:ag,message:e}),this[dP]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Ve.hasMarker(e,uP)}static isRetryError(e){return e instanceof Error&&e.name===ag&&typeof e.reason=="string"&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};dP=eU;var tU=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>fP(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function fP(e,{maxRetries:t,delayInMs:n,backoffFactor:r},i=[]){try{return await e()}catch(o){if(aB(o)||t===0)throw o;const s=sB(o),a=[...i,o],l=a.length;if(l>t)throw new zS({message:`Failed after ${l} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:a});if(o instanceof Error&&X3.isAPICallError(o)&&o.isRetryable===!0&&l<=t)return await XB(n),fP(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},a);throw l===1?o:new zS({message:`Failed after ${l} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:a})}}function lg({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function nU({model:e,settings:t,telemetry:n,headers:r}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((o,[s,a])=>(o[`ai.settings.${s}`]=a,o),{}),...Object.entries((i=n==null?void 0:n.metadata)!=null?i:{}).reduce((o,[s,a])=>(o[`ai.telemetry.metadata.${s}`]=a,o),{}),...Object.entries(r??{}).reduce((o,[s,a])=>(a!==void 0&&(o[`ai.request.headers.${s}`]=a),o),{})}}var rU={startSpan(){return qc},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(qc);if(typeof n=="function")return n(qc);if(typeof r=="function")return r(qc)}},qc={spanContext(){return iU},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},iU={traceId:"",spanId:"",traceFlags:0};function oU({isEnabled:e=!1,tracer:t}={}){return e?t||YB.getTracer("ai"):rU}function cg({name:e,tracer:t,attributes:n,fn:r,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:n},async o=>{try{const s=await r(o);return i&&o.end(),s}catch(s){try{s instanceof Error?(o.recordException({name:s.name,message:s.message,stack:s.stack}),o.setStatus({code:Sd.ERROR,message:s.message})):o.setStatus({code:Sd.ERROR})}finally{o.end()}throw s}})}function Qo({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((n,[r,i])=>{if(i===void 0)return n;if(typeof i=="object"&&"input"in i&&typeof i.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return n;const o=i.input();return o===void 0?n:{...n,[r]:o}}if(typeof i=="object"&&"output"in i&&typeof i.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return n;const o=i.output();return o===void 0?n:{...n,[r]:o}}return{...n,[r]:i}},{})}var ug="AI_DownloadError",pP=`vercel.ai.error.${ug}`,sU=Symbol.for(pP),hP,Wp=class extends Ve{constructor({url:e,statusCode:t,statusText:n,cause:r,message:i=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:ug,message:i,cause:r}),this[hP]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Ve.hasMarker(e,pP)}static isDownloadError(e){return e instanceof Error&&e.name===ug&&typeof e.url=="string"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.statusText==null||typeof e.statusText=="string")}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};hP=sU;async function aU({url:e,fetchImplementation:t=fetch}){var n;const r=e.toString();try{const i=await t(r);if(!i.ok)throw new Wp({url:r,statusCode:i.status,statusText:i.statusText});return{data:new Uint8Array(await i.arrayBuffer()),mimeType:(n=i.headers.get("content-type"))!=null?n:void 0}}catch(i){throw Wp.isInstance(i)?i:new Wp({url:r,cause:i})}}var lU=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function cU(e){for(const{bytes:t,mimeType:n}of lU)if(e.length>=t.length&&t.every((r,i)=>e[i]===r))return n}var dg="AI_InvalidDataContentError",mP=`vercel.ai.error.${dg}`,uU=Symbol.for(mP),gP,BS=class extends Ve{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:dg,message:n,cause:t}),this[gP]=!0,this.content=e}static isInstance(e){return Ve.hasMarker(e,mP)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===dg&&e.content!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};gP=uU;var vP=Bt([Q(),Ds(Uint8Array),Ds(ArrayBuffer),cf(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function dU(e){return typeof e=="string"?e:e instanceof ArrayBuffer?$S(new Uint8Array(e)):$S(e)}function kd(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return mB(e)}catch(t){throw new BS({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new BS({content:e})}function fU(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var fg="AI_InvalidMessageRoleError",yP=`vercel.ai.error.${fg}`,pU=Symbol.for(yP),wP,hU=class extends Ve{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:fg,message:t}),this[wP]=!0,this.role=e}static isInstance(e){return Ve.hasMarker(e,yP)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===fg&&typeof e.role=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};wP=pU;function mU(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function gU({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=aU}){const i=await yU(e.messages,r,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(o=>vU(o,i))]}function vU(e,t){const n=e.role;switch(n){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(r=>wU(r,t)).filter(r=>r.type!=="text"||r.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(r=>r.type!=="text"||r.text!=="").map(r=>{const{experimental_providerMetadata:i,...o}=r;return{...o,providerMetadata:i}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(r=>({type:"tool-result",toolCallId:r.toolCallId,toolName:r.toolName,result:r.result,content:r.experimental_content,isError:r.isError,providerMetadata:r.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{const r=n;throw new hU({role:r})}}}async function yU(e,t,n,r){const i=e.filter(s=>s.role==="user").map(s=>s.content).filter(s=>Array.isArray(s)).flat().filter(s=>s.type==="image"||s.type==="file").filter(s=>!(s.type==="image"&&n===!0)).map(s=>s.type==="image"?s.image:s.data).map(s=>typeof s=="string"&&(s.startsWith("http:")||s.startsWith("https:"))?new URL(s):s).filter(s=>s instanceof URL).filter(s=>!r(s)),o=await Promise.all(i.map(async s=>({url:s,data:await t({url:s})})));return Object.fromEntries(o.map(({url:s,data:a})=>[s.toString(),a]))}function wU(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n=e.mimeType,r,i,o;const s=e.type;switch(s){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error(`Unsupported part type: ${s}`)}try{i=typeof r=="string"?new URL(r):r}catch{i=r}if(i instanceof URL)if(i.protocol==="data:"){const{mimeType:a,base64Content:l}=mU(i.toString());if(a==null||l==null)throw new Error(`Invalid data URL format in part ${s}`);n=a,o=kd(l)}else{const a=t[i.toString()];a?(o=a.data,n??(n=a.mimeType)):o=i}else o=kd(i);switch(s){case"image":return n==null&&o instanceof Uint8Array&&(n=cU(o)),{type:"image",image:o,mimeType:n,providerMetadata:e.experimental_providerMetadata};case"file":if(n==null)throw new Error("Mime type is missing for file part");return{type:"file",data:o instanceof Uint8Array?dU(o):o,mimeType:n,providerMetadata:e.experimental_providerMetadata}}}var pg="AI_InvalidArgumentError",bP=`vercel.ai.error.${pg}`,bU=Symbol.for(bP),_P,$n=class extends Ve{constructor({parameter:e,value:t,message:n}){super({name:pg,message:`Invalid argument for parameter ${e}: ${n}`}),this[_P]=!0,this.parameter=e,this.value=t}static isInstance(e){return Ve.hasMarker(e,bP)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===pg&&typeof e.parameter=="string"&&typeof e.value=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};_P=bU;function _U({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:o,stopSequences:s,seed:a,maxRetries:l}){if(e!=null){if(!Number.isInteger(e))throw new $n({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new $n({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new $n({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new $n({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new $n({parameter:"topK",value:r,message:"topK must be a number"});if(i!=null&&typeof i!="number")throw new $n({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(o!=null&&typeof o!="number")throw new $n({parameter:"frequencyPenalty",value:o,message:"frequencyPenalty must be a number"});if(a!=null&&!Number.isInteger(a))throw new $n({parameter:"seed",value:a,message:"seed must be an integer"});if(l!=null){if(!Number.isInteger(l))throw new $n({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new $n({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:t??0,topP:n,topK:r,presencePenalty:i,frequencyPenalty:o,stopSequences:s!=null&&s.length>0?s:void 0,seed:a,maxRetries:l??2}}var hg=Cy(()=>Bt([Ty(),Q(),Ee(),rc(),_o(Q(),hg),Fe(hg)])),Mi=_o(Q(),_o(Q(),hg)),SU=Fe(Bt([se({type:jt("text"),text:Q()}),se({type:jt("image"),data:Q(),mimeType:Q().optional()})])),SP=se({type:jt("text"),text:Q(),experimental_providerMetadata:Mi.optional()}),kU=se({type:jt("image"),image:Bt([vP,Ds(URL)]),mimeType:Q().optional(),experimental_providerMetadata:Mi.optional()}),xU=se({type:jt("file"),data:Bt([vP,Ds(URL)]),mimeType:Q(),experimental_providerMetadata:Mi.optional()}),TU=se({type:jt("tool-call"),toolCallId:Q(),toolName:Q(),args:uf()}),EU=se({type:jt("tool-result"),toolCallId:Q(),toolName:Q(),result:uf(),content:SU.optional(),isError:rc().optional(),experimental_providerMetadata:Mi.optional()}),CU=se({role:jt("system"),content:Q(),experimental_providerMetadata:Mi.optional()}),AU=se({role:jt("user"),content:Bt([Q(),Fe(Bt([SP,kU,xU]))]),experimental_providerMetadata:Mi.optional()}),PU=se({role:jt("assistant"),content:Bt([Q(),Fe(Bt([SP,TU]))]),experimental_providerMetadata:Mi.optional()}),MU=se({role:jt("tool"),content:Fe(EU),experimental_providerMetadata:Mi.optional()}),OU=Bt([CU,AU,PU,MU]);function IU(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";const t=e.map(RU);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function RU(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function NU(e){var t,n,r;const i=[];for(const o of e){let s;try{s=new URL(o.url)}catch{throw new Error(`Invalid URL: ${o.url}`)}switch(s.protocol){case"http:":case"https:":{if((t=o.contentType)!=null&&t.startsWith("image/"))i.push({type:"image",image:s});else{if(!o.contentType)throw new Error("If the attachment is not an image, it must specify a content type");i.push({type:"file",data:s,mimeType:o.contentType})}break}case"data:":{let a,l,c;try{[a,l]=o.url.split(","),c=a.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${o.url}`)}if(c==null||l==null)throw new Error(`Invalid data URL format: ${o.url}`);if((n=o.contentType)!=null&&n.startsWith("image/"))i.push({type:"image",image:kd(l)});else if((r=o.contentType)!=null&&r.startsWith("text/"))i.push({type:"text",text:fU(kd(l))});else{if(!o.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");i.push({type:"file",data:l,mimeType:o.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${s.protocol}`)}}return i}var kP="AI_MessageConversionError",xP=`vercel.ai.error.${kP}`,jU=Symbol.for(xP),TP,US=class extends Ve{constructor({originalMessage:e,message:t}){super({name:kP,message:t}),this[TP]=!0,this.originalMessage=e}static isInstance(e){return Ve.hasMarker(e,xP)}};TP=jU;function DU(e,t){var n;const r=(n=t==null?void 0:t.tools)!=null?n:{},i=[];for(const o of e){const{role:s,content:a,toolInvocations:l,experimental_attachments:c}=o;switch(s){case"system":{i.push({role:"system",content:a});break}case"user":{i.push({role:"user",content:c?[{type:"text",text:a},...NU(c)]:a});break}case"assistant":{if(l==null){i.push({role:"assistant",content:a});break}i.push({role:"assistant",content:[{type:"text",text:a},...l.map(({toolCallId:u,toolName:d,args:p})=>({type:"tool-call",toolCallId:u,toolName:d,args:p}))]}),i.push({role:"tool",content:l.map(u=>{if(!("result"in u))throw new US({originalMessage:o,message:"ToolInvocation must have a result: "+JSON.stringify(u)});const{toolCallId:d,toolName:p,result:h}=u,m=r[p];return(m==null?void 0:m.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:d,toolName:p,result:m.experimental_toToolResultContent(h),experimental_content:m.experimental_toToolResultContent(h)}:{type:"tool-result",toolCallId:d,toolName:p,result:h}})});break}case"function":case"data":case"tool":break;default:{const u=s;throw new US({originalMessage:o,message:`Unsupported role: ${u}`})}}}return i}function LU({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Mo({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Mo({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Mo({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Mo({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const n=IU(e.messages);if(n==="other")throw new Mo({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});const r=n==="ui-messages"?DU(e.messages,{tools:t}):e.messages,i=Oy({value:r,schema:Fe(OU)});if(!i.success)throw new Mo({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:i.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function $U(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}function EP(e,{contentType:t,dataStreamVersion:n}){var r;const i=new Headers((r=e==null?void 0:e.headers)!=null?r:{});return i.has("Content-Type")||i.set("Content-Type",t),n!==void 0&&i.set("X-Vercel-AI-Data-Stream",n),i}ic({prefix:"aiobj",size:24});ic({prefix:"aiobj",size:24});var mg="AI_InvalidToolArgumentsError",CP=`vercel.ai.error.${mg}`,FU=Symbol.for(CP),AP,VU=class extends Ve{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${My(n)}`}){super({name:mg,message:r,cause:n}),this[AP]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Ve.hasMarker(e,CP)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===mg&&typeof e.toolName=="string"&&typeof e.toolArgs=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};AP=FU;var gg="AI_NoSuchToolError",PP=`vercel.ai.error.${gg}`,zU=Symbol.for(PP),MP,qS=class extends Ve{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:gg,message:n}),this[MP]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Ve.hasMarker(e,PP)}static isNoSuchToolError(e){return e instanceof Error&&e.name===gg&&"toolName"in e&&e.toolName!=null&&typeof e.name=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};MP=zU;function BU(e){return e!=null&&Object.keys(e).length>0}function UU({tools:e,toolChoice:t,activeTools:n}){return BU(e)?{tools:(n!=null?Object.entries(e).filter(([i])=>n.includes(i)):Object.entries(e)).map(([i,o])=>{const s=o.type;switch(s){case void 0:case"function":return{type:"function",name:i,description:o.description,parameters:BA(o.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:i,id:o.id,args:o.args};default:{const a=s;throw new Error(`Unsupported tool type: ${a}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var qU=/^([\s\S]*?)(\s+)(\S*)$/;function WU(e){const t=e.match(qU);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}function HU(e){const t=WU(e);return t?t.prefix+t.whitespace:e}function KU({toolCall:e,tools:t}){const n=e.toolName;if(t==null)throw new qS({toolName:e.toolName});const r=t[n];if(r==null)throw new qS({toolName:e.toolName,availableTools:Object.keys(t)});const i=BA(r.parameters),o=e.args.trim()===""?Oy({value:{},schema:i}):fB({text:e.args,schema:i});if(o.success===!1)throw new VU({toolName:n,toolArgs:e.args,cause:o.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:o.value}}function JU({text:e="",tools:t,toolCalls:n,toolResults:r}){const i=[];return i.push({role:"assistant",content:[{type:"text",text:e},...n]}),r.length>0&&i.push({role:"tool",content:r.map(o=>{const s=t[o.toolName];return(s==null?void 0:s.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,result:s.experimental_toToolResultContent(o.result),experimental_content:s.experimental_toToolResultContent(o.result)}:{type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,result:o.result}})}),i}var GU=ic({prefix:"aitxt",size:24});async function ZU({model:e,tools:t,toolChoice:n,system:r,prompt:i,messages:o,maxRetries:s,abortSignal:a,headers:l,maxAutomaticRoundtrips:c=0,maxToolRoundtrips:u=c,maxSteps:d=u!=null?u+1:1,experimental_continuationSteps:p,experimental_continueSteps:h=p??!1,experimental_telemetry:m,experimental_providerMetadata:v,experimental_activeTools:S,_internal:{generateId:g=GU,currentDate:b=()=>new Date}={},onStepFinish:_,...x}){if(d<1)throw new $n({parameter:"maxSteps",value:d,message:"maxSteps must be at least 1"});const k=nU({model:e,telemetry:m,headers:l,settings:{...x,maxRetries:s}}),T=LU({prompt:{system:r,prompt:i,messages:o},tools:t}),C=oU(m);return cg({name:"ai.generateText",attributes:Qo({telemetry:m,attributes:{...lg({operationId:"ai.generateText",telemetry:m}),...k,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:i,messages:o})},"ai.settings.maxSteps":d}}),tracer:C,fn:async P=>{var I,N,H,z,B,ne;const ve=tU({maxRetries:s}),me={type:"regular",...UU({tools:t,toolChoice:n,activeTools:S})},ie=_U(x);let j,q=[],U=[],Z=0;const be=[];let _e="";const f=[],w={completionTokens:0,promptTokens:0,totalTokens:0};let y="initial";do{Z===1&&(T.type="messages");const M=Z===0?T.type:"messages",E=await gU({prompt:{type:M,system:T.system,messages:[...T.messages,...be]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl});j=await ve(()=>cg({name:"ai.generateText.doGenerate",attributes:Qo({telemetry:m,attributes:{...lg({operationId:"ai.generateText.doGenerate",telemetry:m}),...k,"ai.prompt.format":{input:()=>M},"ai.prompt.messages":{input:()=>JSON.stringify(E)},"ai.prompt.tools":{input:()=>{var st;return(st=me.tools)==null?void 0:st.map(tn=>JSON.stringify(tn))}},"ai.prompt.toolChoice":{input:()=>me.toolChoice!=null?JSON.stringify(me.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":x.frequencyPenalty,"gen_ai.request.max_tokens":x.maxTokens,"gen_ai.request.presence_penalty":x.presencePenalty,"gen_ai.request.stop_sequences":x.stopSequences,"gen_ai.request.temperature":x.temperature,"gen_ai.request.top_k":x.topK,"gen_ai.request.top_p":x.topP}}),tracer:C,fn:async st=>{var tn,gn,Oi,Wr,dt,vn;const Ge=await e.doGenerate({mode:me,...ie,inputFormat:M,prompt:E,providerMetadata:v,abortSignal:a,headers:l}),yn={id:(gn=(tn=Ge.response)==null?void 0:tn.id)!=null?gn:g(),timestamp:(Wr=(Oi=Ge.response)==null?void 0:Oi.timestamp)!=null?Wr:b(),modelId:(vn=(dt=Ge.response)==null?void 0:dt.modelId)!=null?vn:e.modelId};return st.setAttributes(Qo({telemetry:m,attributes:{"ai.response.finishReason":Ge.finishReason,"ai.response.text":{output:()=>Ge.text},"ai.response.toolCalls":{output:()=>JSON.stringify(Ge.toolCalls)},"ai.response.id":yn.id,"ai.response.model":yn.modelId,"ai.response.timestamp":yn.timestamp.toISOString(),"ai.usage.promptTokens":Ge.usage.promptTokens,"ai.usage.completionTokens":Ge.usage.completionTokens,"ai.finishReason":Ge.finishReason,"ai.result.text":{output:()=>Ge.text},"ai.result.toolCalls":{output:()=>JSON.stringify(Ge.toolCalls)},"gen_ai.response.finish_reasons":[Ge.finishReason],"gen_ai.response.id":yn.id,"gen_ai.response.model":yn.modelId,"gen_ai.usage.input_tokens":Ge.usage.promptTokens,"gen_ai.usage.output_tokens":Ge.usage.completionTokens}})),{...Ge,response:yn}}})),q=((I=j.toolCalls)!=null?I:[]).map(st=>KU({toolCall:st,tools:t})),U=t==null?[]:await YU({toolCalls:q,tools:t,tracer:C,telemetry:m,abortSignal:a});const D=$U(j.usage);w.completionTokens+=D.completionTokens,w.promptTokens+=D.promptTokens,w.totalTokens+=D.totalTokens;let K="done";++Z<d&&(h&&j.finishReason==="length"&&q.length===0?K="continue":q.length>0&&U.length===q.length&&(K="tool-result"));const X=(N=j.text)!=null?N:"",ye=y==="continue"&&_e.trimEnd()!==_e?X.trimStart():X,Je=K==="continue"?HU(ye):ye;if(_e=K==="continue"||y==="continue"?_e+Je:Je,y==="continue"){const st=be[be.length-1];typeof st.content=="string"?st.content+=Je:st.content.push({text:Je,type:"text"})}else be.push(...JU({text:_e,tools:t??{},toolCalls:q,toolResults:U}));const ze={stepType:y,text:Je,toolCalls:q,toolResults:U,finishReason:j.finishReason,usage:D,warnings:j.warnings,logprobs:j.logprobs,request:(H=j.request)!=null?H:{},response:{...j.response,headers:(z=j.rawResponse)==null?void 0:z.headers,messages:JSON.parse(JSON.stringify(be))},experimental_providerMetadata:j.providerMetadata,isContinued:K==="continue"};f.push(ze),await(_==null?void 0:_(ze)),y=K}while(y!=="done");return P.setAttributes(Qo({telemetry:m,attributes:{"ai.response.finishReason":j.finishReason,"ai.response.text":{output:()=>j.text},"ai.response.toolCalls":{output:()=>JSON.stringify(j.toolCalls)},"ai.usage.promptTokens":j.usage.promptTokens,"ai.usage.completionTokens":j.usage.completionTokens,"ai.finishReason":j.finishReason,"ai.result.text":{output:()=>j.text},"ai.result.toolCalls":{output:()=>JSON.stringify(j.toolCalls)}}})),new QU({text:_e,toolCalls:q,toolResults:U,finishReason:j.finishReason,usage:w,warnings:j.warnings,request:(B=j.request)!=null?B:{},response:{...j.response,headers:(ne=j.rawResponse)==null?void 0:ne.headers,messages:be},logprobs:j.logprobs,responseMessages:be,steps:f,providerMetadata:j.providerMetadata})}})}async function YU({toolCalls:e,tools:t,tracer:n,telemetry:r,abortSignal:i}){return(await Promise.all(e.map(async s=>{const a=t[s.toolName];if((a==null?void 0:a.execute)==null)return;const l=await cg({name:"ai.toolCall",attributes:Qo({telemetry:r,attributes:{...lg({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":s.toolName,"ai.toolCall.id":s.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(s.args)}}}),tracer:n,fn:async c=>{const u=await a.execute(s.args,{abortSignal:i});try{c.setAttributes(Qo({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(u)}}}))}catch{}return u}});return{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args,result:l}}))).filter(s=>s!=null)}var QU=class{constructor(e){this.text=e.text,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.responseMessages=e.responseMessages,this.roundtrips=e.steps,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.rawResponse={headers:e.response.headers},this.logprobs=e.logprobs}};function OP(e,t){const n=e.getReader(),r=t.getReader();let i,o,s=!1,a=!1;async function l(u){try{i==null&&(i=n.read());const d=await i;i=void 0,d.done?u.close():u.enqueue(d.value)}catch(d){u.error(d)}}async function c(u){try{o==null&&(o=r.read());const d=await o;o=void 0,d.done?u.close():u.enqueue(d.value)}catch(d){u.error(d)}}return new ReadableStream({async pull(u){try{if(s){await c(u);return}if(a){await l(u);return}i==null&&(i=n.read()),o==null&&(o=r.read());const{result:d,reader:p}=await Promise.race([i.then(h=>({result:h,reader:n})),o.then(h=>({result:h,reader:r}))]);d.done||u.enqueue(d.value),p===n?(i=void 0,d.done&&(await c(u),s=!0)):(o=void 0,d.done&&(a=!0,await l(u)))}catch(d){u.error(d)}},cancel(){n.cancel(),r.cancel()}})}ic({prefix:"aitxt",size:24});function IP(e){const t=new TextEncoder;let n="";const r=e||{};return new TransformStream({async start(){r.onStart&&await r.onStart()},async transform(i,o){const s=typeof i=="string"?i:i.content;o.enqueue(t.encode(s)),n+=s,r.onToken&&await r.onToken(s),r.onText&&typeof i=="string"&&await r.onText(i)},async flush(){const i=XU(r);r.onCompletion&&await r.onCompletion(n),r.onFinal&&!i&&await r.onFinal(n)}})}function XU(e){return"experimental_onFunctionCall"in e}function e5(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}function RP(){const e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:async(n,r)=>{const i=t.decode(n);r.enqueue(e.encode(H3("text",i)))}})}new TextDecoder("utf-8");var t5={};cP(t5,{toAIStream:()=>n5,toDataStream:()=>Ly,toDataStreamResponse:()=>r5});function n5(e,t){return Ly(e,t)}function Ly(e,t){return e.pipeThrough(new TransformStream({transform:async(n,r)=>{var i;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&WS((i=n.data)==null?void 0:i.chunk,r);return}WS(n,r)}})).pipeThrough(IP(t)).pipeThrough(RP())}function r5(e,t){var n;const r=Ly(e,t==null?void 0:t.callbacks),i=t==null?void 0:t.data,o=t==null?void 0:t.init,s=i?OP(i.stream,r):r;return new Response(s,{status:(n=o==null?void 0:o.status)!=null?n:200,statusText:o==null?void 0:o.statusText,headers:EP(o,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function WS(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{const n=e.content;for(const r of n)r.type==="text"&&t.enqueue(r.text)}}var i5={};cP(i5,{toDataStream:()=>NP,toDataStreamResponse:()=>o5});function NP(e,t){return s5(e).pipeThrough(IP(t)).pipeThrough(RP())}function o5(e,t={}){var n;const{init:r,data:i,callbacks:o}=t,s=NP(e,o),a=i?OP(i.stream,s):s;return new Response(a,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:EP(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function s5(e){const t=e[Symbol.asyncIterator](),n=e5();return new ReadableStream({async pull(r){var i;const{value:o,done:s}=await t.next();if(s){r.close();return}const a=n((i=o.delta)!=null?i:"");a&&r.enqueue(a)}})}var jP={},df={};/*! Axios v1.10.0 Copyright (c) 2025 Matt Zabriskie and contributors */function DP(e,t){return function(){return e.apply(t,arguments)}}const{toString:a5}=Object.prototype,{getPrototypeOf:$y}=Object,{iterator:ff,toStringTag:LP}=Symbol,pf=(e=>t=>{const n=a5.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=e=>(e=e.toLowerCase(),t=>pf(t)===e),hf=e=>t=>typeof t===e,{isArray:Ws}=Array,Vl=hf("undefined");function l5(e){return e!==null&&!Vl(e)&&e.constructor!==null&&!Vl(e.constructor)&&en(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $P=nr("ArrayBuffer");function c5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$P(e.buffer),t}const u5=hf("string"),en=hf("function"),FP=hf("number"),mf=e=>e!==null&&typeof e=="object",d5=e=>e===!0||e===!1,fu=e=>{if(pf(e)!=="object")return!1;const t=$y(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(LP in e)&&!(ff in e)},f5=nr("Date"),p5=nr("File"),h5=nr("Blob"),m5=nr("FileList"),g5=e=>mf(e)&&en(e.pipe),v5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||en(e.append)&&((t=pf(e))==="formdata"||t==="object"&&en(e.toString)&&e.toString()==="[object FormData]"))},y5=nr("URLSearchParams"),[w5,b5,_5,S5]=["ReadableStream","Request","Response","Headers"].map(nr),k5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function oc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Ws(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function VP(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Vt,zP=e=>!Vl(e)&&e!==eo;function vg(){const{caseless:e}=zP(this)&&this||{},t={},n=(r,i)=>{const o=e&&VP(t,i)||i;fu(t[o])&&fu(r)?t[o]=vg(t[o],r):fu(r)?t[o]=vg({},r):Ws(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&oc(arguments[r],n);return t}const x5=(e,t,n,{allOwnKeys:r}={})=>(oc(t,(i,o)=>{n&&en(i)?e[o]=DP(i,n):e[o]=i},{allOwnKeys:r}),e),T5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},C5=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&$y(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},A5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},P5=e=>{if(!e)return null;if(Ws(e))return e;let t=e.length;if(!FP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},M5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$y(Uint8Array)),O5=(e,t)=>{const r=(e&&e[ff]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},I5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},R5=nr("HTMLFormElement"),N5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),HS=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),j5=nr("RegExp"),BP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};oc(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},D5=e=>{BP(e,(t,n)=>{if(en(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(en(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},L5=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Ws(e)?r(e):r(String(e).split(t)),n},$5=()=>{},F5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function V5(e){return!!(e&&en(e.append)&&e[LP]==="FormData"&&e[ff])}const z5=e=>{const t=new Array(10),n=(r,i)=>{if(mf(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Ws(r)?[]:{};return oc(r,(s,a)=>{const l=n(s,i+1);!Vl(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},B5=nr("AsyncFunction"),U5=e=>e&&(mf(e)||en(e))&&en(e.then)&&en(e.catch),UP=((e,t)=>e?setImmediate:t?((n,r)=>(eo.addEventListener("message",({source:i,data:o})=>{i===eo&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),eo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(eo.postMessage)),q5=typeof queueMicrotask<"u"?queueMicrotask.bind(eo):typeof process<"u"&&process.nextTick||UP,W5=e=>e!=null&&en(e[ff]);var R={isArray:Ws,isArrayBuffer:$P,isBuffer:l5,isFormData:v5,isArrayBufferView:c5,isString:u5,isNumber:FP,isBoolean:d5,isObject:mf,isPlainObject:fu,isReadableStream:w5,isRequest:b5,isResponse:_5,isHeaders:S5,isUndefined:Vl,isDate:f5,isFile:p5,isBlob:h5,isRegExp:j5,isFunction:en,isStream:g5,isURLSearchParams:y5,isTypedArray:M5,isFileList:m5,forEach:oc,merge:vg,extend:x5,trim:k5,stripBOM:T5,inherits:E5,toFlatObject:C5,kindOf:pf,kindOfTest:nr,endsWith:A5,toArray:P5,forEachEntry:O5,matchAll:I5,isHTMLForm:R5,hasOwnProperty:HS,hasOwnProp:HS,reduceDescriptors:BP,freezeMethods:D5,toObjectSet:L5,toCamelCase:N5,noop:$5,toFiniteNumber:F5,findKey:VP,global:eo,isContextDefined:zP,isSpecCompliantForm:V5,toJSONObject:z5,isAsyncFn:B5,isThenable:U5,setImmediate:UP,asap:q5,isIterable:W5};function de(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}R.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const qP=de.prototype,WP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{WP[e]={value:e}});Object.defineProperties(de,WP);Object.defineProperty(qP,"isAxiosError",{value:!0});de.from=(e,t,n,r,i,o)=>{const s=Object.create(qP);return R.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),de.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};var H5=null;function yg(e){return R.isPlainObject(e)||R.isArray(e)}function HP(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function KS(e,t,n){return e?e.concat(t).map(function(i,o){return i=HP(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function K5(e){return R.isArray(e)&&!e.some(yg)}const J5=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function gf(e,t,n){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!R.isUndefined(S[v])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(R.isDate(m))return m.toISOString();if(R.isBoolean(m))return m.toString();if(!l&&R.isBlob(m))throw new de("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(m)||R.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,S){let g=m;if(m&&!S&&typeof m=="object"){if(R.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(R.isArray(m)&&K5(m)||(R.isFileList(m)||R.endsWith(v,"[]"))&&(g=R.toArray(m)))return v=HP(v),g.forEach(function(_,x){!(R.isUndefined(_)||_===null)&&t.append(s===!0?KS([v],x,o):s===null?v:v+"[]",c(_))}),!1}return yg(m)?!0:(t.append(KS(S,v,o),c(m)),!1)}const d=[],p=Object.assign(J5,{defaultVisitor:u,convertValue:c,isVisitable:yg});function h(m,v){if(!R.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(m),R.forEach(m,function(g,b){(!(R.isUndefined(g)||g===null)&&i.call(t,g,R.isString(b)?b.trim():b,v,p))===!0&&h(g,v?v.concat(b):[b])}),d.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return h(e),t}function JS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Fy(e,t){this._pairs=[],e&&gf(e,this,t)}const KP=Fy.prototype;KP.append=function(t,n){this._pairs.push([t,n])};KP.toString=function(t){const n=t?function(r){return t.call(this,r,JS)}:JS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function G5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function JP(e,t,n){if(!t)return e;const r=n&&n.encode||G5;R.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=R.isURLSearchParams(t)?t.toString():new Fy(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Z5{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(r){r!==null&&t(r)})}}var GS=Z5,GP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y5=typeof URLSearchParams<"u"?URLSearchParams:Fy,Q5=typeof FormData<"u"?FormData:null,X5=typeof Blob<"u"?Blob:null,e9={isBrowser:!0,classes:{URLSearchParams:Y5,FormData:Q5,Blob:X5},protocols:["http","https","file","blob","url","data"]};const Vy=typeof window<"u"&&typeof document<"u",wg=typeof navigator=="object"&&navigator||void 0,t9=Vy&&(!wg||["ReactNative","NativeScript","NS"].indexOf(wg.product)<0),n9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",r9=Vy&&window.location.href||"http://localhost";var i9=Object.freeze({__proto__:null,hasBrowserEnv:Vy,hasStandardBrowserWebWorkerEnv:n9,hasStandardBrowserEnv:t9,navigator:wg,origin:r9}),Ot={...i9,...e9};function o9(e,t){return gf(e,new Ot.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Ot.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function s9(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function a9(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function ZP(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&R.isArray(i)?i.length:s,l?(R.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!R.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&R.isArray(i[s])&&(i[s]=a9(i[s])),!a)}if(R.isFormData(e)&&R.isFunction(e.entries)){const n={};return R.forEachEntry(e,(r,i)=>{t(s9(r),i,n,0)}),n}return null}function l9(e,t,n){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const zy={transitional:GP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=R.isObject(t);if(o&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return i?JSON.stringify(ZP(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return o9(t,this.formSerializer).toString();if((a=R.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gf(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),l9(t)):t}],transformResponse:[function(t){const n=this.transitional||zy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{zy.headers[e]={}});var By=zy;const c9=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var u9=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&c9[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t};const ZS=Symbol("internals");function ua(e){return e&&String(e).trim().toLowerCase()}function pu(e){return e===!1||e==null?e:R.isArray(e)?e.map(pu):String(e)}function d9(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const f9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Hp(e,t,n,r,i){if(R.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!R.isString(t)){if(R.isString(r))return t.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(t)}}function p9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function h9(e,t){const n=R.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}class vf{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,c){const u=ua(l);if(!u)throw new Error("header name must be a non-empty string");const d=R.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=pu(a))}const s=(a,l)=>R.forEach(a,(c,u)=>o(c,u,l));if(R.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(R.isString(t)&&(t=t.trim())&&!f9(t))s(u9(t),n);else if(R.isObject(t)&&R.isIterable(t)){let a={},l,c;for(const u of t){if(!R.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?R.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=ua(t),t){const r=R.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return d9(i);if(R.isFunction(n))return n.call(this,i,r);if(R.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ua(t),t){const r=R.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Hp(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=ua(s),s){const a=R.findKey(r,s);a&&(!n||Hp(r,r[a],a,n))&&(delete r[a],i=!0)}}return R.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Hp(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return R.forEach(this,(i,o)=>{const s=R.findKey(r,o);if(s){n[s]=pu(i),delete n[o];return}const a=t?p9(o):String(o).trim();a!==o&&delete n[o],n[a]=pu(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return R.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[ZS]=this[ZS]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=ua(s);r[a]||(h9(i,s),r[a]=!0)}return R.isArray(t)?t.forEach(o):o(t),this}}vf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(vf.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});R.freezeMethods(vf);var Zn=vf;function Kp(e,t){const n=this||By,r=t||n,i=Zn.from(r.headers);let o=r.data;return R.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function YP(e){return!!(e&&e.__CANCEL__)}function Hs(e,t,n){de.call(this,e??"canceled",de.ERR_CANCELED,t,n),this.name="CanceledError"}R.inherits(Hs,de,{__CANCEL__:!0});function QP(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function m9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function g9(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let d=o,p=0;for(;d!==i;)p+=n[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const h=u&&c-u;return h?Math.round(p*1e3/h):void 0}}function v9(e,t){let n=0,r=1e3/t,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const xd=(e,t,n=3)=>{let r=0;const i=g9(50,250);return v9(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},YS=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},QS=e=>(...t)=>R.asap(()=>e(...t));var y9=Ot.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ot.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ot.origin),Ot.navigator&&/(msie|trident)/i.test(Ot.navigator.userAgent)):()=>!0,w9=Ot.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];R.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),R.isString(r)&&s.push("path="+r),R.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function b9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function XP(e,t,n){let r=!b9(t);return e&&(r||n==!1)?_9(e,t):t}const XS=e=>e instanceof Zn?{...e}:e;function So(e,t){t=t||{};const n={};function r(c,u,d,p){return R.isPlainObject(c)&&R.isPlainObject(u)?R.merge.call({caseless:p},c,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function i(c,u,d,p){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c,d,p)}else return r(c,u,d,p)}function o(c,u){if(!R.isUndefined(u))return r(void 0,u)}function s(c,u){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,d)=>i(XS(c),XS(u),d,!0)};return R.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||i,p=d(e[u],t[u],u);R.isUndefined(p)&&d!==a||(n[u]=p)}),n}var eM=e=>{const t=So({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=Zn.from(s),t.url=JP(XP(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(R.isFormData(n)){if(Ot.hasStandardBrowserEnv||Ot.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Ot.hasStandardBrowserEnv&&(r&&R.isFunction(r)&&(r=r(t)),r||r!==!1&&y9(t.url))){const c=i&&o&&w9.read(o);c&&s.set(i,c)}return t};const S9=typeof XMLHttpRequest<"u";var k9=S9&&function(e){return new Promise(function(n,r){const i=eM(e);let o=i.data;const s=Zn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,p,h,m;function v(){h&&h(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function g(){if(!S)return;const _=Zn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:e,request:S};QP(function(C){n(C),v()},function(C){r(C),v()},k),S=null}"onloadend"in S?S.onloadend=g:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(g)},S.onabort=function(){S&&(r(new de("Request aborted",de.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new de("Network Error",de.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||GP;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new de(x,k.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,S)),S=null},o===void 0&&s.setContentType(null),"setRequestHeader"in S&&R.forEach(s.toJSON(),function(x,k){S.setRequestHeader(k,x)}),R.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),c&&([p,m]=xd(c,!0),S.addEventListener("progress",p)),l&&S.upload&&([d,h]=xd(l),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=_=>{S&&(r(!_||_.type?new Hs(null,e,S):_),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=m9(i.url);if(b&&Ot.protocols.indexOf(b)===-1){r(new de("Unsupported protocol "+b+":",de.ERR_BAD_REQUEST,e));return}S.send(o||null)})};const x9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof de?u:new Hs(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>R.asap(a),l}};var T9=x9;const E9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},C9=async function*(e,t){for await(const n of A9(e))yield*E9(n,t)},A9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ek=(e,t,n,r)=>{const i=C9(e,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let p=o+=d;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tM=yf&&typeof ReadableStream=="function",P9=yf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},M9=tM&&nM(()=>{let e=!1;const t=new Request(Ot.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),tk=64*1024,bg=tM&&nM(()=>R.isReadableStream(new Response("").body)),Td={stream:bg&&(e=>e.body)};yf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Td[t]&&(Td[t]=R.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new de(`Response type '${t}' is not supported`,de.ERR_NOT_SUPPORT,r)})})})(new Response);const O9=async e=>{if(e==null)return 0;if(R.isBlob(e))return e.size;if(R.isSpecCompliantForm(e))return(await new Request(Ot.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(R.isArrayBufferView(e)||R.isArrayBuffer(e))return e.byteLength;if(R.isURLSearchParams(e)&&(e=e+""),R.isString(e))return(await P9(e)).byteLength},I9=async(e,t)=>{const n=R.toFiniteNumber(e.getContentLength());return n??O9(t)};var R9=yf&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:p}=eM(e);c=c?(c+"").toLowerCase():"text";let h=T9([i,o&&o.toAbortSignal()],s),m;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let S;try{if(l&&M9&&n!=="get"&&n!=="head"&&(S=await I9(u,r))!==0){let k=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(R.isFormData(r)&&(T=k.headers.get("content-type"))&&u.setContentType(T),k.body){const[C,P]=YS(S,xd(QS(l)));r=ek(k.body,tk,C,P)}}R.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;m=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let b=await fetch(m,p);const _=bg&&(c==="stream"||c==="response");if(bg&&(a||_&&v)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=b[I]});const T=R.toFiniteNumber(b.headers.get("content-length")),[C,P]=a&&YS(T,xd(QS(a),!0))||[];b=new Response(ek(b.body,tk,C,()=>{P&&P(),v&&v()}),k)}c=c||"text";let x=await Td[R.findKey(Td,c)||"text"](b,e);return!_&&v&&v(),await new Promise((k,T)=>{QP(k,T,{data:x,headers:Zn.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:m})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,e,m),{cause:g.cause||g}):de.from(g,g&&g.code,e,m)}});const _g={http:H5,xhr:k9,fetch:R9};R.forEach(_g,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nk=e=>`- ${e}`,N9=e=>R.isFunction(e)||e===null||e===!1;var rM={getAdapter:e=>{e=R.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!N9(n)&&(r=_g[(s=String(n)).toLowerCase()],r===void 0))throw new de(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(nk).join(`
`):" "+nk(o[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:_g};function Jp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Hs(null,e)}function rk(e){return Jp(e),e.headers=Zn.from(e.headers),e.data=Kp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rM.getAdapter(e.adapter||By.adapter)(e).then(function(r){return Jp(e),r.data=Kp.call(e,e.transformResponse,r),r.headers=Zn.from(r.headers),r},function(r){return YP(r)||(Jp(e),r&&r.response&&(r.response.data=Kp.call(e,e.transformResponse,r.response),r.response.headers=Zn.from(r.response.headers))),Promise.reject(r)})}const iM="1.10.0",wf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ik={};wf.transitional=function(t,n,r){function i(o,s){return"[Axios v"+iM+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new de(i(s," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!ik[s]&&(ik[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};wf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function j9(e,t,n){if(typeof e!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new de("option "+o+" must be "+l,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+o,de.ERR_BAD_OPTION)}}var hu={assertOptions:j9,validators:wf};const ir=hu.validators;class Ed{constructor(t){this.defaults=t||{},this.interceptors={request:new GS,response:new GS}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=So(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&hu.assertOptions(r,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),i!=null&&(R.isFunction(i)?n.paramsSerializer={serialize:i}:hu.assertOptions(i,{encode:ir.function,serialize:ir.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hu.assertOptions(n,{baseUrl:ir.spelling("baseURL"),withXsrfToken:ir.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&R.merge(o.common,o[n.method]);o&&R.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=Zn.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,p;if(!l){const m=[rk.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),p=m.length,u=Promise.resolve(n);d<p;)u=u.then(m[d++],m[d++]);return u}p=a.length;let h=n;for(d=0;d<p;){const m=a[d++],v=a[d++];try{h=m(h)}catch(S){v.call(this,S);break}}try{u=rk.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=So(this.defaults,t);const n=XP(t.baseURL,t.url,t.allowAbsoluteUrls);return JP(n,t.params,t.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(t){Ed.prototype[t]=function(n,r){return this.request(So(r||{},{method:t,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(So(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ed.prototype[t]=n(),Ed.prototype[t+"Form"]=n(!0)});var mu=Ed;class Uy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new Hs(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Uy(function(i){t=i}),cancel:t}}}var D9=Uy;function L9(e){return function(n){return e.apply(null,n)}}function $9(e){return R.isObject(e)&&e.isAxiosError===!0}const Sg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sg).forEach(([e,t])=>{Sg[t]=e});var F9=Sg;function oM(e){const t=new mu(e),n=DP(mu.prototype.request,t);return R.extend(n,mu.prototype,t,{allOwnKeys:!0}),R.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return oM(So(e,i))},n}const ut=oM(By);ut.Axios=mu;ut.CanceledError=Hs;ut.CancelToken=D9;ut.isCancel=YP;ut.VERSION=iM;ut.toFormData=gf;ut.AxiosError=de;ut.Cancel=ut.CanceledError;ut.all=function(t){return Promise.all(t)};ut.spread=L9;ut.isAxiosError=$9;ut.mergeConfig=So;ut.AxiosHeaders=Zn;ut.formToJSON=e=>ZP(R.isHTMLForm(e)?new FormData(e):e);ut.getAdapter=rM.getAdapter;ut.HttpStatusCode=F9;ut.default=ut;var V9=ut;const z9=dM(zz);var B9=typeof self=="object"?self.FormData:window.FormData,bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.getDefaultSystemPrompt=void 0;const U9=(e,t)=>`IMPORTANT: ALWAYS START BY CHECKING IF THE CONNECTION EXISTS FOR THE PLATFORM

PLATFORM COMMITMENT:
- You can freely list and explore actions across ANY platform
- However, once you START EXECUTING an action:
  1. The platform MUST have an active connection
  2. You MUST complete the entire workflow with that platform
  3. Only consider other platforms after completing the current execution
- If you need multiple platforms to complete a task:
  1. First complete the entire execution workflow with the primary platform
  2. Then explain to the user that you'll need another platform
  3. Start a new execution workflow with the second platform
- Example: For "Send an email with a joke":
  * CORRECT: List Gmail actions -> Get email action knowledge -> Execute email action (with static joke)
  * INCORRECT: List Gmail actions -> Start email execution -> Switch to OpenAI mid-flow
- Example: For "What actions are available in Gmail and Slack?":
  * CORRECT: List Gmail actions -> List Slack actions -> Discuss both
  * No commitment needed because we're just exploring

Your capabilities must be used in this exact sequence FOR EACH EXECUTION:

1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
  - Command: getAvailableActions
  - Purpose: Get a simple list of available actions for a platform
  - Usage: This must be your first step for ANY user request after checking if the connection exists for the platform
  - When to use: AFTER checking if the connection exists for the platform and BEFORE attempting any other operation 
  - Output: Returns a clean list of action titles and IDs
  - Presentation: Present actions naturally and efficiently:
    * Group related actions together and present them concisely
    * Example: Instead of listing separately, group as "Manage workflow permissions (add/remove/view)"
    * Remove redundant words and technical jargon
    * Keep responses concise and group similar functionality
    * Use natural, conversational language that feels fluid
    * If no connection exists, explain how to add one
    * When listing actions, always order them by the actions with the featured tag first

2. GET ACTION DETAILS (ALWAYS SECOND)
  - Command: getActionKnowledge
  - Purpose: Fetch full details and knowledge documentation for a specific action
  - When to use: After finding the appropriate action ID from step 1
  - Required: Must have action ID from getAvailableActions first
  - Note: Can be used to explore actions even without a connection
  - Output: Returns complete action object with:
    * Knowledge documentation
    * Required fields and their types
    * Path information
    * HTTP method
    * Constraints and validation rules

3. EXECUTE ACTIONS (ALWAYS LAST)
  - Command: execute
  - Purpose: Execute specific platform actions through the passthrough API
  - When to use: Only after completing steps 1 and 2
  - Required: MUST have an active connection from the Pica Dashboard (Verify in the IMPORTANT GUIDELINES section)
  - Required Parameters:
    * platform: The target platform
    * action: The action object with { _id, path }
    * connectionKey: The connection key for authentication
    * data: The request payload (optional)
    * pathVariables: Values for path variables (if needed)
    * queryParams: Query parameters (if needed)
    * isFormData: Set to true to send data as multipart/form-data
    * isFormUrlEncoded: Set to true to send data as application/x-www-form-urlencoded

WORKFLOW (MUST FOLLOW THIS ORDER FOR EACH PLATFORM):
1. For ANY user request:
  a. FIRST: Call getAvailableActions to list what's possible
  b. THEN: Identify the appropriate action from the list
  c. NEXT: Call getActionKnowledge to get full details
  d. NEXT: Verify that the connection exists in the available connections list below in the IMPORTANT GUIDELINES section
  e. FINALLY: Execute with proper parameters
  f. Only after completing all steps, consider if another platform is needed

2. Knowledge Parsing:
  - After getting knowledge, analyze it to understand:
    * Required data fields and their format
    * Required path variables
    * Required query parameters
    * Any constraints and validation rules
  - Only ask the user for information that:
    * Is not in the knowledge documentation
    * Requires user choice or input
    * Cannot be determined automatically
  - Important: Do not read the knowledge documentation to the user, just use it to guide your actions

3. Error Prevention:
  - Never try to execute without first listing actions
  - Never assume action IDs - they must come from getAvailableActions
  - Never switch platforms mid-flow - complete the current platform first
  - Validate all input against knowledge documentation
  - Provide clear, actionable error messages

Best Practices:
- Before attempting any operation, you must first discover what actions are available.
- Always start with getAvailableActions after checking if the connection exists for the platform - no exceptions
- Complete all steps with one platform before moving to another
- Parse knowledge documentation before asking users for input
- Use examples from knowledge documentation to guide users
- Maintain a professional and efficient communication style
- After every invocation of the execute tool, you must follow it up with a consise summary of the action that was executed and the result
- Important: Always load the knowledge needed to provide the best user experience.
- If you need to execute an action for a platform that has no connection, you must first prompt the user to add a connection from the Pica Dashboard (https://app.picaos.com/connections)
- Speak in the second person, as if you are directly addressing the user.
- Avoid using technical jargon and explain in simple terms using natural language.
- Do not read the knowledge documentation to the user, just use it to guide your actions.
- Do not confirm with the user to proceed with the action if you already have all the information you need.

Remember:
- Before executing an action, you MUST first verify that the connection exists in the access list below in the IMPORTANT GUIDELINES section
- You can explore ANY platform's actions, even without a connection
- Security is paramount - never expose or request sensitive credentials
- Handle all {{variables}} in paths before execution
- Complete one platform's workflow before starting another
- When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.

IMPORTANT GUIDELINES:
- You have access to execute actions only for the following connections (only show the latest 5 connections and tell the user to ask for more for a platform if they need them):
${e}

- Here are the proper platform names (according to Pica) to use for tools:
${t}
`;bf.getDefaultSystemPrompt=U9;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.getDefaultSystemWithAuthkitPrompt=void 0;const q9=(e,t)=>`  You have access to many tools and APIs through Pica OneTool. Before executing any action, you must make sure the user has the required connection in the list below.
  If the user does not have the required connection, call the promptToConnectPlatform tool to add the connection.
  (DO NOT TELL THE USER TO ADD A CONNECTION VIA THE PICA DASHBOARD BECAUSE YOU HAVE THE ABILITY TO ADD A CONNECTION VIA THE promptToConnectPlatform tool)
  If the user is asking to connect or does not have the connection required to execute the action, call the promptToConnectPlatform tool to add the connection.
  
  If a platform has no connection:
  * You CANNOT LIST AND DESCRIBE THE ACTIONS FOR THAT PLATFORM
  * You MUST call the promptToConnectPlatform tool to prompt the user to add the connection
  * You don't know if the user creates a connection or not until it shows in the list of connections
  * Keep prompting the user to connect to the platform until the connection shows in the list of connections
  
  Be concise in your responses. When executing actions, only explain what you're doing if it's not obvious from the action name and parameters.
  
  If you encounter an error, explain what went wrong and how to fix it.
  
  IMPORTANT: ALWAYS START BY CHECKING IF THE CONNECTION EXISTS FOR THE PLATFORM
  
  PLATFORM COMMITMENT:
  - You can freely list and explore actions across ANY platform
  - However, once you START EXECUTING an action:
    1. The platform MUST have an active connection
    2. You MUST complete the entire workflow with that platform
    3. Only consider other platforms after completing the current execution
  - If you need multiple platforms to complete a task:
    1. First complete the entire execution workflow with the primary platform
    2. Then explain to the user that you'll need another platform
    3. Start a new execution workflow with the second platform
  - Example: For "Send an email with a joke":
    * CORRECT: List Gmail actions -> Get email action knowledge -> Execute email action (with static joke)
    * INCORRECT: List Gmail actions -> Start email execution -> Switch to OpenAI mid-flow
  - Example: For "What actions are available in Gmail and Slack?":
    * CORRECT: List Gmail actions -> List Slack actions -> Discuss both
    * No commitment needed because we're just exploring
  
  Your capabilities must be used in this exact sequence FOR EACH EXECUTION:
  
  1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
    - Command: getAvailableActions
    - Purpose: Get a simple list of available actions for a platform
    - Usage: This must be your first step for ANY user request after checking if the connection exists for the platform
    - When to use: AFTER checking if the connection exists for the platform and BEFORE attempting any other operation 
    - Output: Returns a clean list of action titles and IDs
    - Presentation: Present actions naturally and efficiently:
      * Group related actions together and present them concisely
      * Example: Instead of listing separately, group as "Manage workflow permissions (add/remove/view)"
      * Remove redundant words and technical jargon
      * Keep responses concise and group similar functionality
      * Use natural, conversational language that feels fluid
      * If no connection exists, explain how to add one
      * When listing actions, always order them by the actions with the featured tag first
  
  2. GET ACTION DETAILS (ALWAYS SECOND)
    - Command: getActionKnowledge
    - Purpose: Fetch full details and knowledge documentation for a specific action
    - When to use: After finding the appropriate action ID from step 1
    - Required: Must have action ID from getAvailableActions first
    - Note: Can be used to explore actions even without a connection
    - Output: Returns complete action object with:
      * Knowledge documentation
      * Required fields and their types
      * Path information
      * HTTP method
      * Constraints and validation rules
  
  3. EXECUTE ACTIONS (ALWAYS LAST)
    - Command: execute
    - Purpose: Execute specific platform actions through the passthrough API
    - When to use: Only after completing steps 1 and 2
    - Required: MUST have an active connection from the Pica Dashboard (Verify in the IMPORTANT GUIDELINES section)
    - Required Parameters:
      * platform: The target platform
      * action: The action object with { _id, path }
      * connectionKey: The connection key for authentication
      * data: The request payload (optional)
      * pathVariables: Values for path variables (if needed)
      * queryParams: Query parameters (if needed)
      * isFormData: Set to true to send data as multipart/form-data
      * isFormUrlEncoded: Set to true to send data as application/x-www-form-urlencoded
  
  WORKFLOW (MUST FOLLOW THIS ORDER FOR EACH PLATFORM):
  1. For ANY user request:
    a. FIRST: Call getAvailableActions to list what's possible
    b. THEN: Identify the appropriate action from the list
    c. NEXT: Call getActionKnowledge to get full details
    d. NEXT: Verify that the connection exists in the available connections list below in the IMPORTANT GUIDELINES section
    e. FINALLY: Execute with proper parameters
    f. Only after completing all steps, consider if another platform is needed
  
  2. Knowledge Parsing:
    - After getting knowledge, analyze it to understand:
      * Required data fields and their format
      * Required path variables
      * Required query parameters
      * Any constraints and validation rules
    - Only ask the user for information that:
      * Is not in the knowledge documentation
      * Requires user choice or input
      * Cannot be determined automatically
    - Important: Do not read the knowledge documentation to the user, just use it to guide your actions
  
  3. Error Prevention:
    - Never try to execute without first listing actions
    - Never assume action IDs - they must come from getAvailableActions
    - Never switch platforms mid-flow - complete the current platform first
    - Validate all input against knowledge documentation
    - Provide clear, actionable error messages
  
  Best Practices:
  - Before attempting any operation, you must first discover what actions are available.
  - Always start with getAvailableActions after checking if the connection exists for the platform - no exceptions
  - Complete all steps with one platform before moving to another
  - Parse knowledge documentation before asking users for input
  - Use examples from knowledge documentation to guide users
  - Maintain a professional and efficient communication style
  - After every invocation of the execute tool, you must follow it up with a consise summary of the action that was executed and the result
  - Important: Always load the knowledge needed to provide the best user experience.
  - If you need to execute an action for a platform that has no connection, you must first prompt the user to add a connection using the promptToConnectPlatform tool
  - Speak in the second person, as if you are directly addressing the user.
  - Avoid using technical jargon and explain in simple terms using natural language.
  - Do not read the knowledge documentation to the user, just use it to guide your actions.
  - Do not confirm with the user to proceed with the action if you already have all the information you need.
  
  Remember:
  - Before executing an action, you MUST first verify that the connection exists in the access list below in the IMPORTANT GUIDELINES section
  - You can explore ANY platform's actions, even without a connection
  - Security is paramount - never expose or request sensitive credentials
  - Handle all {{variables}} in paths before execution
  - Complete one platform's workflow before starting another
  - When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.
  
  IMPORTANT GUIDELINES:
  - You have access to execute actions only for the following connections (only show the latest 5 connections and tell the user to ask for more for a platform if they need them):
  ${e}
  
  - Here are the proper platform names (according to Pica) to use for tools:
  ${t}
  `;_f.getDefaultSystemWithAuthkitPrompt=q9;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.getKnowledgeAgentSystemPrompt=void 0;const W9=(e,t,n)=>`## Objectives

Generate and output a complete Edge Function prompt in markdown format.

## Instructions

The user will specify an action or series of actions they want to perform with one or more platforms connected to Pica.
Your task is to:

1. **Load Knowledge**: Retrieve the necessary API documentation to execute all requested actions on the specified platforms.
2. **Generate API Call Prompt**: Construct a detailed prompt that helps Lovable create an **Edge Function** to call the appropriate endpoint(s).
3. **Inform User**: Tell the user you are processing their request and will provide a prompt shortly.
4. **Use Pica Passthrough API**: Structure all API calls through the Pica Passthrough system:

   - **Base URL**: \`https://api.picaos.com/v1/passthrough/{path}\` (path from action object)
   - **Method**: \`GET | POST | PUT | DELETE | etc.\`
   - **Required Headers**:
     - \`x-pica-secret: <PICA_SECRET_KEY>\` (from environment variables)
     - \`x-pica-connection-key: <PICA_[PLATFORM]_CONNECTION_KEY>\` (from environment variables)
     - \`x-pica-action-id: <ACTION_ID>\` (from action object)

## Output Structure

Your response must include a properly formatted **Edge Function prompt** in Markdown with:

- **API Endpoint**: Complete endpoint URL for each action
- **HTTP Method**: (\`GET, POST, PUT, DELETE\`, etc.)
- **Required Headers**: All necessary authentication and request headers
- **Request Body**: Complete schema (if applicable)
- **Response Body**: Complete response from the API call (if applicable and extracted from action knowledge)
- **Example Code**: Working JavaScript implementation

### Important Notes

- **Print ONLY the Markdown** without additional explanations
${n?"- **Remind users** to set all environment variables: `PICA_SECRET_KEY` and `PICA_[PLATFORM]_CONNECTION_KEY`":""}
- **Include complete JSON schema** for all inputs and outputs

## Best Practices

- **ALWAYS** use the correct base URL and method
- **ALWAYS** include all required headers, body parameters, and query parameters
- **ALWAYS** include the response body if it is available in the action knowledge
${n?"- **ALWAYS** remind users about environment variables requirements":""}

## CRITICAL: CONNECTION VERIFICATION

**ALWAYS START** by checking if the connection exists for the platform before proceeding.

## Platform Commitment

- You can freely list and explore actions across ANY platform
- Once you START EXECUTING an action:
  1. The user does not need to have an active connection
  2. You MUST complete the entire workflow with that platform
  3. Only consider other platforms after completing the current execution
  
### Examples
- "Send an email with a joke":
  * ✅ CORRECT: List Gmail actions → Get email action knowledge → Execute email action (with static joke)
  * ❌ INCORRECT: List Gmail actions → Start email execution → Switch to OpenAI mid-flow
- "What actions are available in Gmail and Slack?":
  * ✅ CORRECT: List Gmail actions → List Slack actions → Discuss both
  * (No commitment needed for exploration)

## Execution Sequence

You MUST follow this exact sequence for EACH EXECUTION:

### 1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
- **Command**: getAvailableActions
- **Purpose**: Get available actions for a platform
- **When to use**: BEFORE any other operation
- **Output**: Clean list of action titles and IDs
- **Presentation**:
  * Group related actions together concisely
  * Example: "Manage workflow permissions (add/remove/view)" instead of separate listings
  * Remove redundant words and technical jargon
  * Present information in natural, conversational language
  * If no connection exists, explain how to add one
  * Order actions with featured tag first

### 2. GET ACTION DETAILS (ALWAYS SECOND)
- **Command**: getActionKnowledge
- **Purpose**: Fetch full details and knowledge documentation
- **When to use**: After identifying the appropriate action ID from step 1
- **Required**: Must have action ID from getAvailableActions
- **Note**: Can explore actions even without a connection
- **Output**: Complete action object including:
  * Knowledge documentation
  * Required fields and types
  * Path information
  * HTTP method
  * Constraints and validation rules

### 3. EXECUTE ACTIONS (THIRD)
- **Command**: execute
- **Purpose**: Generate request config for Pica Passthrough API
- **Important**: Returns request config only without performing execution
- **When to use**: Only after completing steps 1 and 2
- **Required Parameters**:
  * platform: Target platform
  * action: Action object with { _id, path }
  * connectionKey: Connection key for authentication
  * data: Request payload (optional)
  * pathVariables: Values for path variables (if needed)
  * queryParams: Query parameters (if needed)
  * isFormData: Set to true for multipart/form-data
  * isFormUrlEncoded: Set to true for application/x-www-form-urlencoded

### 4. SEND PROMPT TO USER (FINAL STEP)
- **Command**: sendPromptToUser
- **Purpose**: Deliver the prompt to the user
- **When to use**: After completing steps 1, 2, and 3
- **Content**: Generated prompt following all instructions above

## WORKFLOW (REQUIRED SEQUENCE)
1. For ANY user request:
   a. FIRST: Call getAvailableActions to list possibilities
   b. THEN: Identify appropriate action from the list
   c. NEXT: Call getActionKnowledge for full details
   d. FINALLY: Execute with proper parameters and send prompt to user

2. Knowledge Parsing:
   - Analyze knowledge to understand:
     * Required data fields and formats
     * Required path variables
     * Required query parameters
     * Constraints and validation rules
   - Only request information from users that:
     * Is not in the knowledge documentation
     * Requires user choice or input
     * Cannot be determined automatically
   - Do not read knowledge documentation to users - use it to guide your actions

3. Error Prevention:
   - Never execute without first listing actions
   - Never assume action IDs - must come from getAvailableActions
   - Never switch platforms mid-flow - complete current platform first
   - Validate all input against knowledge documentation
   - Provide clear, actionable error messages

## Advanced Best Practices

- Always check available actions before any operation
- Complete all steps with one platform before moving to another
- Parse knowledge documentation before requesting user input
- Use examples from knowledge documentation as guides
- Maintain professional, efficient communication
- After execute tool invocation, provide code block showing request execution
- Default to TypeScript unless user specifies another language
- Speak directly to the user in second person
- Do not confirm with users if you already have all required information

## Critical Reminders

- After executing an action, provide clear code example based on request config
- You can explore ANY platform's actions without a connection
- Security is paramount - never expose sensitive credentials
- Process all {{variables}} in paths before execution
- Complete one platform's workflow before starting another
- Never show secret values in the final prompt - reference environment variables
- When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.

## IMPORTANT GUIDELINES

- Use these proper platform names (according to Pica) for tools:
${t}
`;Sf.getKnowledgeAgentSystemPrompt=W9;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.getKnowledgeAgentWithAuthkitSystemPrompt=void 0;const H9=(e,t,n)=>`## Objectives

Generate and output a complete Edge Function prompt in markdown format.

## Connection Requirements

You have access to many tools and APIs through Pica OneTool. Before executing any action, you must make sure the user has the required connection in the list below.

### Connection Management
- If the user does not have the required connection, call the promptToConnectPlatform tool to add the connection
- **DO NOT TELL THE USER TO ADD A CONNECTION VIA THE PICA DASHBOARD** - you have the ability to add connections via the promptToConnectPlatform tool
- If the user is asking to connect or needs a connection to execute an action, use the promptToConnectPlatform tool

### When a Platform Has No Connection
- You **CANNOT LIST AND DESCRIBE THE ACTIONS** for that platform
- You **MUST** call the promptToConnectPlatform tool to prompt the user to add the connection
- You don't know if the user creates a connection until it appears in the list of connections
- Keep prompting the user to connect until the connection shows in the list of connections

## Your Tasks

1. **Load Knowledge**: Retrieve the necessary API documentation to execute all requested actions on the specified platforms.
2. **Generate API Call Prompt**: Construct a detailed prompt that helps Lovable create an **Edge Function** to call the appropriate endpoint(s).
3. **Inform User**: Tell the user you are processing their request and will provide a prompt shortly.
4. **Use Pica Passthrough API**: Structure all API calls through the Pica Passthrough system:

   - **Base URL**: \`https://api.picaos.com/v1/passthrough/{path}\` (path from action object)
   - **Method**: \`GET | POST | PUT | DELETE | etc.\`
   - **Required Headers**:
     - \`x-pica-secret: <PICA_SECRET_KEY>\` (from environment variables)
     - \`x-pica-connection-key: <PICA_[PLATFORM]_CONNECTION_KEY>\` (from environment variables)
     - \`x-pica-action-id: <ACTION_ID>\` (from action object)

Be concise in your responses. When executing actions, only explain what you're doing if it's not obvious from the action name and parameters.

If you encounter an error, explain what went wrong and how to fix it.

## Output Structure

Your response must include a properly formatted **Edge Function prompt** in Markdown with:

- **API Endpoint**: Complete endpoint URL for each action
- **HTTP Method**: (\`GET, POST, PUT, DELETE\`, etc.)
- **Required Headers**: All necessary authentication and request headers
- **Request Body**: Complete schema (if applicable)
- **Response Body**: Complete response from the API call (if applicable and extracted from action knowledge)
- **Example Code**: Working JavaScript implementation

### Important Notes

- **Print ONLY the Markdown** without additional explanations
${n?"- **Remind users** to set all environment variables: `PICA_SECRET_KEY` and `PICA_[PLATFORM]_CONNECTION_KEY`":""}
- **Include complete JSON schema** for all inputs and outputs

## Best Practices

- **ALWAYS** use the correct base URL and method
- **ALWAYS** include all required headers, body parameters, and query parameters
- **ALWAYS** include the response body if it is available in the action knowledge
${n?"- **ALWAYS** remind users about environment variables requirements":""}

## CRITICAL: CONNECTION VERIFICATION

**ALWAYS START** by checking if the connection exists for the platform before proceeding.

## Platform Commitment

- You can freely list and explore actions across ANY platform
- Once you START EXECUTING an action:
  1. The platform MUST have an active connection
  2. You MUST complete the entire workflow with that platform
  3. Only consider other platforms after completing the current execution
- If you need multiple platforms to complete a task:
  1. First complete the entire execution workflow with the primary platform
  2. Then explain to the user that you'll need another platform
  3. Start a new execution workflow with the second platform
  
### Examples
- "Send an email with a joke":
  * ✅ CORRECT: List Gmail actions → Get email action knowledge → Execute email action (with static joke)
  * ❌ INCORRECT: List Gmail actions → Start email execution → Switch to OpenAI mid-flow
- "What actions are available in Gmail and Slack?":
  * ✅ CORRECT: List Gmail actions → List Slack actions → Discuss both
  * (No commitment needed for exploration)

## Execution Sequence

You MUST follow this exact sequence for EACH EXECUTION:

### 1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
- **Command**: getAvailableActions
- **Purpose**: Get available actions for a platform
- **When to use**: AFTER checking connection exists and BEFORE any other operation
- **Output**: Clean list of action titles and IDs
- **Presentation**:
  * Group related actions together concisely
  * Example: "Manage workflow permissions (add/remove/view)" instead of separate listings
  * Remove redundant words and technical jargon
  * Keep responses concise and group similar functionality
  * Use natural, conversational language that feels fluid
  * If no connection exists, explain how to add one
  * Order actions with featured tag first

### 2. GET ACTION DETAILS (ALWAYS SECOND)
- **Command**: getActionKnowledge
- **Purpose**: Fetch full details and knowledge documentation
- **When to use**: After identifying the appropriate action ID from step 1
- **Required**: Must have action ID from getAvailableActions
- **Note**: Can explore actions even without a connection
- **Output**: Complete action object including:
  * Knowledge documentation
  * Required fields and types
  * Path information
  * HTTP method
  * Constraints and validation rules

### 3. EXECUTE ACTIONS (ALWAYS LAST)
- **Command**: execute
- **Purpose**: Generate request config for Pica Passthrough API
- **Important**: Returns request config only without performing execution
- **When to use**: Only after completing steps 1 and 2
- **Required**: MUST have active connection (verify in IMPORTANT GUIDELINES section)
- **Required Parameters**:
  * platform: Target platform
  * action: Action object with { _id, path }
  * connectionKey: Connection key for authentication
  * data: Request payload (optional)
  * pathVariables: Values for path variables (if needed)
  * queryParams: Query parameters (if needed)
  * isFormData: Set to true for multipart/form-data
  * isFormUrlEncoded: Set to true for application/x-www-form-urlencoded

### 4. SEND PROMPT TO USER (FINAL STEP)
- **Command**: sendPromptToUser
- **Purpose**: Deliver the prompt to the user
- **When to use**: After completing steps 1, 2, and 3
- **Content**: Generated prompt following all instructions above

## WORKFLOW (REQUIRED SEQUENCE)
1. For ANY user request:
   a. FIRST: Call getAvailableActions to list possibilities
   b. THEN: Identify appropriate action from the list
   c. NEXT: Call getActionKnowledge for full details
   d. NEXT: Verify connection exists in the available connections list
   e. FINALLY: Execute with proper parameters and send prompt to user
   f. Only after completing all steps, consider if another platform is needed

2. Knowledge Parsing:
   - Analyze knowledge to understand:
     * Required data fields and formats
     * Required path variables
     * Required query parameters
     * Constraints and validation rules
   - Only request information from users that:
     * Is not in the knowledge documentation
     * Requires user choice or input
     * Cannot be determined automatically
   - Do not read knowledge documentation to users - use it to guide your actions

3. Error Prevention:
   - Never execute without first listing actions
   - Never assume action IDs - must come from getAvailableActions
   - Never switch platforms mid-flow - complete current platform first
   - Validate all input against knowledge documentation
   - Provide clear, actionable error messages

## Advanced Best Practices

- Always check available actions before any operation
- Complete all steps with one platform before moving to another
- Parse knowledge documentation before requesting user input
- Use examples from knowledge documentation as guides
- Maintain professional, efficient communication
- After execute tool invocation, provide code block showing request execution
- Default to TypeScript unless user specifies another language
- If a platform has no connection, prompt the user to add one using promptToConnectPlatform
- Speak directly to the user in second person
- Avoid technical jargon and explain concepts in simple, natural language
- Do not read knowledge documentation to users - use it to guide your actions
- Do not confirm with users if you already have all required information

## Critical Reminders

- After executing an action, provide clear code example based on request config
- Verify connection exists before executing any action
- You can explore ANY platform's actions without a connection
- Security is paramount - never expose sensitive credentials
- Process all {{variables}} in paths before execution
- Complete one platform's workflow before starting another
- Never show secret values in the final prompt - reference environment variables
- When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.

## IMPORTANT GUIDELINES

- You have access to execute actions only for the following connections (showing latest 5 - instruct user to ask for more if needed):
${e}

- Use these proper platform names (according to Pica) for tools:
${t}
`;kf.getKnowledgeAgentWithAuthkitSystemPrompt=H9;var sc={};Object.defineProperty(sc,"__esModule",{value:!0});sc.paginateResults=K9;sc.normalizeActionId=J9;sc.replacePathVariables=G9;async function K9(e,t=100){let n=0,r=[],i=0;try{do{const o=await e(n,t),{rows:s,total:a}=o;i=a,r=[...r,...s],n+=t}while(r.length<i);return r}catch(o){throw console.error("Error in pagination:",o),o}}function J9(e){return e.includes("::")?e.startsWith("conn_mod_def::")?e:`conn_mod_def::${e}`:e}function G9(e,t){return e.replace(/\{\{([^}]+)\}\}/g,(n,r)=>{const i=t[r];if(!i)throw new Error(`Missing value for path variable: ${r}`);return i.toString()})}var sM=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});df.Pica=void 0;const da=sM(V9),le=z9,Z9=sM(B9),Y9=bf,Q9=_f,X9=Sf,e6=kf,or=sc;class t6{constructor(t,n){this.baseUrl="https://api.picaos.com",this.secret=t,this.connections=[],this.connectionDefinitions=[],this.systemPromptValue="Loading connections...",this.identity=n==null?void 0:n.identity,this.identityType=n==null?void 0:n.identityType,this.useAuthkit=(n==null?void 0:n.authkit)||!1,this.useKnowledgeAgent=(n==null?void 0:n.knowledgeAgent)||!1,this.knowledgeAgentConfig=(n==null?void 0:n.knowledgeAgentConfig)||{includeEnvironmentVariables:!0},this.options=n,n!=null&&n.serverUrl&&(this.baseUrl=n.serverUrl),this.getConnectionUrl=`${this.baseUrl}/v1/vault/connections`,this.availableActionsUrl=`${this.baseUrl}/v1/knowledge`,this.getConnectionDefinitionsUrl=`${this.baseUrl}/v1/available-connectors`,this.initialized=this.initialize().then(()=>{var r,i,o;let s=this.connections.filter(c=>c.active);!((r=n==null?void 0:n.connectors)===null||r===void 0)&&r.length?n.connectors.includes("*")||(s=s.filter(c=>n.connectors.includes(c.key))):s=[];const a=s.length>0?"	* "+s.map(c=>`${c.platform} - Key: ${c.key}`).join(`
	* `):"No connections available",l=this.connectionDefinitions.map(c=>`
	* ${c.platform} (${c.name})`).join("");if(n!=null&&n.knowledgeAgentConfig&&!this.useKnowledgeAgent)throw new Error("Cannot provide Knowledge Agent configuration when Knowledge Agent is disabled. Please set useKnowledgeAgent to true if you want to use the Knowledge Agent.");this.useAuthkit&&this.useKnowledgeAgent?this.systemPromptValue=(0,e6.getKnowledgeAgentWithAuthkitSystemPrompt)(a,l,(i=this.knowledgeAgentConfig)===null||i===void 0?void 0:i.includeEnvironmentVariables):this.useAuthkit?this.systemPromptValue=(0,Q9.getDefaultSystemWithAuthkitPrompt)(a,l):this.useKnowledgeAgent?this.systemPromptValue=(0,X9.getKnowledgeAgentSystemPrompt)(a,l,(o=this.knowledgeAgentConfig)===null||o===void 0?void 0:o.includeEnvironmentVariables):this.systemPromptValue=(0,Y9.getDefaultSystemPrompt)(a,l)}).catch(r=>{console.error("Error during initialization:",r),this.systemPromptValue="Error loading connections"})}async generateSystemPrompt(t){await this.waitForInitialization();const n=new Date;return`${t?t+`

`:""}=== PICA: INTEGRATION ASSISTANT ===

Everything below is for Pica (picaos.com), your integration assistant that can instantly connect your AI agents to 100+ APIs.


Current Time: ${n.toLocaleString("en-US",{timeZone:"GMT"})} (GMT)

--- Tools Information ---
${this.system.trim()}
        `}async initialize(){await Promise.all([this.initializeConnections(),this.initializeConnectionDefinitions()])}async waitForInitialization(){return await this.initialized,this.system}async initializeConnections(t){try{const n=this.generateHeaders();let r=this.getConnectionUrl,i=!1;t&&(r+=`?platform=${t}`,i=!0),this.identity&&(r+=i?`&identity=${encodeURIComponent(this.identity)}`:`?identity=${encodeURIComponent(this.identity)}`,i=!0),this.identityType&&(r+=i?`&identityType=${encodeURIComponent(this.identityType)}`:`?identityType=${encodeURIComponent(this.identityType)}`,i=!0);const o=(s,a)=>da.default.get(`${r}${i?"&":"?"}limit=${a}&skip=${s}`,{headers:n}).then(l=>l.data);this.connections=await(0,or.paginateResults)(o)}catch(n){console.error("Failed to initialize connections:",n),this.connections=[]}}async initializeConnectionDefinitions(){try{const t=this.generateHeaders();let n=this.getConnectionDefinitionsUrl,r=!1;this.useAuthkit&&(n+="?authkit=true",r=!0);const i=(o,s)=>da.default.get(`${n}${r?"&":"?"}limit=${s}&skip=${o}`,{headers:t}).then(a=>a.data);this.connectionDefinitions=await(0,or.paginateResults)(i)}catch(t){console.error("Failed to initialize connection definitions:",t),this.connectionDefinitions=[]}}get system(){return this.systemPromptValue}generateHeaders(){var t;return{"Content-Type":"application/json","x-pica-secret":this.secret,...(t=this.options)===null||t===void 0?void 0:t.headers}}async getAllAvailableActions(t,n){var r;try{const i=(c,u)=>da.default.get(`${this.availableActionsUrl}?supported=true&connectionPlatform=${t}&skip=${c}&limit=${u}`,{headers:this.generateHeaders()}).then(d=>d.data),s=(await(0,or.paginateResults)(i)).map(c=>(c._id&&(c._id=(0,or.normalizeActionId)(c._id)),c));let a=s;const l=(r=this.options)===null||r===void 0?void 0:r.permissions;return l==="read"?a=s.filter(c=>{let u=c.method;return(u==null?void 0:u.toUpperCase())==="GET"}):l==="write"&&(a=s.filter(c=>{var u;let d=(u=c.method)===null||u===void 0?void 0:u.toUpperCase();return d==="POST"||d==="PUT"||d==="PATCH"})),n!=null&&n.length?a.filter(c=>n.includes(c._id)):a}catch(i){throw console.error("Error fetching all available actions:",i),new Error("Failed to fetch all available actions")}}async getAvailablePicaConnectors(){return await this.initializeConnectionDefinitions(),this.connectionDefinitions}async getAvailableConnectors(t){return await this.initializeConnections(t),this.connections}async getSingleAction(t){try{const n=(0,or.normalizeActionId)(t),r=await da.default.get(`${this.availableActionsUrl}?_id=${n}`,{headers:this.generateHeaders()});if(!r.data.rows||r.data.rows.length===0)throw new Error(`Action with ID ${n} not found`);return r.data.rows[0]}catch(n){throw console.error("Error fetching single action:",n),new Error("Failed to fetch action")}}async getAvailableActions(t){var n;try{const r=await this.getAllAvailableActions(t,(n=this.options)===null||n===void 0?void 0:n.actions);return{total:r.length,actions:r}}catch(r){throw console.error("Error fetching available actions:",r),new Error("Failed to fetch available actions")}}async executePassthrough(t,n,r,i,o,s,a,l,c,u){try{const d={...this.generateHeaders(),"x-pica-connection-key":n,"x-pica-action-id":t,...l?{"Content-Type":"multipart/form-data"}:{},...c?{"Content-Type":"application/x-www-form-urlencoded"}:{},...a},h={url:`${this.baseUrl}/v1/passthrough${i.startsWith("/")?i:"/"+i}`,method:o,headers:d,params:s};if((o==null?void 0:o.toLowerCase())!=="get")if(l){const v=new Z9.default;r&&typeof r=="object"&&!Array.isArray(r)&&Object.entries(r).forEach(([S,g])=>{typeof g=="object"?v.append(S,JSON.stringify(g)):v.append(S,g)}),h.data=v,Object.assign(h.headers,v.getHeaders())}else if(c){const v=new URLSearchParams;r&&typeof r=="object"&&!Array.isArray(r)&&Object.entries(r).forEach(([S,g])=>{typeof g=="object"?v.append(S,JSON.stringify(g)):v.append(S,String(g))}),h.data=v}else h.data=r;if(u)return h.headers["x-pica-secret"]="YOUR_PICA_SECRET_KEY_HERE",{executed:!1,requestConfig:h};const m=await(0,da.default)(h);return h.headers["x-pica-secret"]="****REDACTED****",{executed:!0,responseData:m.data,requestConfig:h}}catch(d){throw console.error("Error executing passthrough:",d),d}}getPromptToConnectPlatformTool(){return{promptToConnectPlatform:{description:"Prompt the user to connect to a platform that they do not currently have access to",parameters:le.z.object({platformName:le.z.string()}),execute:async({platformName:t})=>({response:t})}}}get intelligenceTool(){const t={getAvailableActions:this.oneTool.getAvailableActions,getActionKnowledge:this.oneTool.getActionKnowledge,execute:{description:"Return a request config to the Pica Passthrough API without executing the action. Show the user a typescript code block to make an HTTP request to the Pica Passthrough API using the request config.",parameters:le.z.object({platform:le.z.string(),action:le.z.object({_id:le.z.string(),path:le.z.string()}),method:le.z.string(),connectionKey:le.z.string(),data:le.z.any(),pathVariables:le.z.record(le.z.union([le.z.string(),le.z.number(),le.z.boolean()])).optional(),queryParams:le.z.record(le.z.any()).optional(),headers:le.z.record(le.z.any()).optional(),isFormData:le.z.boolean().optional(),isFormUrlEncoded:le.z.boolean().optional()}),execute:async n=>{var r;try{if(!this.connections.some(l=>l.key===n.connectionKey)&&this.useAuthkit)throw new Error(`Connection not found. Please add a ${n.platform} connection first.`);const i=n.action.path.match(/\{\{([^}]+)\}\}/g);let o=n.action.path;if(i){const l=i.map(d=>d.replace(/\{\{|\}\}/g,"")),c={...Array.isArray(n.data)?{}:n.data||{},...n.pathVariables||{}},u=l.filter(d=>!c[d]);if(u.length>0)throw new Error(`Missing required path variables: ${u.join(", ")}. Please provide values for these variables.`);Array.isArray(n.data)||l.forEach(d=>{n.data&&n.data[d]&&(!n.pathVariables||!n.pathVariables[d])&&(n.pathVariables||(n.pathVariables={}),n.pathVariables[d]=n.data[d],delete n.data[d])}),o=(0,or.replacePathVariables)(n.action.path,n.pathVariables||{})}const s=(0,or.normalizeActionId)(n.action._id),a=await this.executePassthrough(s,n.connectionKey,n.data,o,n.method,n.queryParams,n.headers,n.isFormData,n.isFormUrlEncoded,!0);return{success:!0,title:"Request config returned",message:"Request config returned without execution",raw:JSON.stringify(a.requestConfig)}}catch(i){return console.error("Error creating request config:",i),{success:!1,title:"Failed to create request config",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}}};return this.useAuthkit?{...t,...this.getPromptToConnectPlatformTool()}:t}get oneTool(){const t={getAvailableActions:{description:"Get available actions for a specific platform",parameters:le.z.object({platform:le.z.string()}),execute:async n=>{var r;try{const o=(await this.getAvailableActions(n.platform)).actions.map(s=>({_id:s._id,title:s.title,tags:s.tags}));return{success:!0,actions:o,platform:n.platform,content:`Found ${o.length} available actions for ${n.platform}`}}catch(i){return console.error("Error getting available actions:",i),{success:!1,title:"Failed to get available actions",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}},getActionKnowledge:{description:"Get full action details including knowledge documentation for a specific action",parameters:le.z.object({platform:le.z.string(),actionId:le.z.string()}),execute:async n=>{var r;try{const i=(0,or.normalizeActionId)(n.actionId),o=await this.getSingleAction(i);return{success:!0,action:o,platform:n.platform,content:`Found knowledge for action: ${o.title}`}}catch(i){return console.error("Error getting action knowledge:",i),{success:!1,title:"Failed to get action knowledge",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}},execute:{description:"Execute a specific action using the passthrough API",parameters:le.z.object({platform:le.z.string(),action:le.z.object({_id:le.z.string(),path:le.z.string()}),method:le.z.string(),connectionKey:le.z.string(),data:le.z.any(),pathVariables:le.z.record(le.z.union([le.z.string(),le.z.number(),le.z.boolean()])).optional(),queryParams:le.z.record(le.z.any()).optional(),headers:le.z.record(le.z.any()).optional(),isFormData:le.z.boolean().optional(),isFormUrlEncoded:le.z.boolean().optional()}),execute:async n=>{var r;try{if(!this.connections.some(c=>c.key===n.connectionKey))throw new Error(`Connection not found. Please add a ${n.platform} connection first.`);const i=(0,or.normalizeActionId)(n.action._id),o=await this.getSingleAction(i),s=n.action.path.match(/\{\{([^}]+)\}\}/g);let a=n.action.path;if(s){const c=s.map(p=>p.replace(/\{\{|\}\}/g,"")),u={...Array.isArray(n.data)?{}:n.data||{},...n.pathVariables||{}},d=c.filter(p=>!u[p]);if(d.length>0)throw new Error(`Missing required path variables: ${d.join(", ")}. Please provide values for these variables.`);Array.isArray(n.data)||c.forEach(p=>{n.data&&n.data[p]&&(!n.pathVariables||!n.pathVariables[p])&&(n.pathVariables||(n.pathVariables={}),n.pathVariables[p]=n.data[p],delete n.data[p])}),a=(0,or.replacePathVariables)(n.action.path,n.pathVariables||{})}const l=await this.executePassthrough(i,n.connectionKey,n.data,a,n.method,n.queryParams,n.headers,n.isFormData,n.isFormUrlEncoded,!1);return{success:!0,data:l.executed?l.responseData:void 0,connectionKey:n.connectionKey,platform:n.platform,action:o.title,requestConfig:l.requestConfig,content:`Executed ${o.title} via ${n.platform}`}}catch(i){return console.error("Error executing action:",i),{success:!1,title:"Failed to execute action",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}}};return this.useAuthkit?{...t,...this.getPromptToConnectPlatformTool()}:t}}df.Pica=t6;var aM={},lM={};Object.defineProperty(lM,"__esModule",{value:!0});(function(e){var t=Vt&&Vt.__createBinding||(Object.create?function(r,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,s,a)}:function(r,i,o,s){s===void 0&&(s=o),r[s]=i[o]}),n=Vt&&Vt.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(lM,e)})(aM);(function(e){var t=Vt&&Vt.__createBinding||(Object.create?function(i,o,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(o,s);(!l||("get"in l?!o.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,a,l)}:function(i,o,s,a){a===void 0&&(a=s),i[a]=o[s]}),n=Vt&&Vt.__exportStar||function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&t(o,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.Pica=void 0;var r=df;Object.defineProperty(e,"Pica",{enumerable:!0,get:function(){return r.Pica}}),n(aM,e)})(jP);const ok=new jP.Pica("sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",{connectors:["*"]});async function n6(e){const n=`${await ok.generateSystemPrompt()}

You are Murphy, an AI cooking assistant in Murphy's Kitchen. You help users with cooking questions, recipes, techniques, and culinary advice. Be friendly, knowledgeable, and encouraging. Keep responses concise but helpful. Focus on practical cooking advice and creative culinary solutions.`,{text:r}=await ZU({model:e3("gpt-4o"),system:n,prompt:e,tools:{...ok.oneTool},maxSteps:10,maxTokens:500,temperature:.7});return r}const r6=async(e,t)=>{try{const n=e.map(o=>`${o.role}: ${o.content}`).join(`
`),r=n?`${n}
user: ${t}`:t;return await n6(r)}catch(n){throw console.error("Error with Pica GPT-4o integration:",n),new Error("Failed to send message using Pica GPT-4o")}};Hl.register();const i6=({isMinimized:e,onToggleMinimize:t})=>{const[n]=mt(dd),[,r]=mt(j4),[i,o]=mt(N4),[s,a]=A.useState(""),l=A.useRef(null),c=A.useRef(null),u=()=>{var h;(h=l.current)==null||h.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{u()},[n]);const d=async()=>{if(!s.trim()||i)return;const h=s.trim();a(""),r({role:"user",content:h}),o(!0);try{const m=await r6(n,h);r({role:"assistant",content:m})}catch(m){console.error("Error sending message:",m),r({role:"assistant",content:"Sorry, I encountered an error. Please try again."})}finally{o(!1)}},p=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())};return e?O.jsx("div",{className:"w-full h-full flex items-end justify-end p-4",children:O.jsx(Pn,{onClick:t,size:"icon",className:"size-14 rounded-2xl shadow-lg hover:shadow-xl",children:O.jsx(rp,{className:"size-6"})})}):O.jsxs("div",{className:"w-full h-full glass-effect rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[O.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/30 bg-primary/5",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"p-2 bg-primary/20 rounded-xl",children:O.jsx(rp,{className:"size-5 text-primary"})}),O.jsx("h3",{className:"font-semibold text-lg",children:"Chat with Murphy"})]}),O.jsx(Pn,{onClick:t,size:"icon",variant:"ghost",className:"size-10 rounded-xl hover:bg-destructive/10 hover:text-destructive",children:O.jsx(rN,{className:"size-4"})})]}),O.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[n.length===0&&O.jsxs("div",{className:"text-center py-12 space-y-4",children:[O.jsx("div",{className:"p-6 bg-primary/10 rounded-2xl w-fit mx-auto",children:O.jsx(rp,{className:"size-12 text-primary"})}),O.jsxs("div",{className:"space-y-2",children:[O.jsx("p",{className:"text-lg font-medium",children:"Start a conversation!"}),O.jsx("p",{className:"text-sm text-muted-foreground",children:"Ask Murphy about recipes, techniques, or cooking tips."})]})]}),n.map(h=>O.jsx("div",{className:fo("flex",h.role==="user"?"justify-end":"justify-start"),children:O.jsx("div",{className:fo("max-w-[80%] rounded-2xl px-4 py-3 text-sm break-words shadow-sm",h.role==="user"?"bg-primary text-primary-foreground":"bg-secondary/80 text-secondary-foreground border border-border/30"),children:h.content})},h.id)),i&&O.jsx("div",{className:"flex justify-start",children:O.jsxs("div",{className:"bg-secondary/80 border border-border/30 rounded-2xl px-4 py-3 flex items-center gap-3",children:[O.jsx("l-quantum",{size:"16",speed:"1.75",color:"hsl(var(--primary))"}),O.jsx("span",{className:"text-sm text-muted-foreground",children:"Murphy is typing..."})]})}),O.jsx("div",{ref:l})]}),O.jsx("div",{className:"p-6 border-t border-border/30 bg-secondary/20",children:O.jsxs("div",{className:"flex gap-3",children:[O.jsx(Bu,{ref:c,value:s,onChange:h=>a(h.target.value),onKeyPress:p,placeholder:"Ask Murphy about cooking...",className:"flex-1 bg-background/80 border-border/50 h-12",disabled:i}),O.jsx(Pn,{onClick:d,size:"icon",disabled:!s.trim()||i,className:"shrink-0 size-12 rounded-xl",children:O.jsx(QR,{className:"size-4"})})]})})]})},o6=({onAudioData:e,onVolumeChange:t})=>{const n=rf({filter:"remote"}),r=vC(n[0]),i=A.useRef(null),o=A.useRef(null);return A.useEffect(()=>{if(!r.persistentTrack)return;i.current=new AudioContext,o.current=i.current.createAnalyser();const s=new MediaStream([r.persistentTrack]);i.current.createMediaStreamSource(s).connect(o.current),o.current.fftSize=256;const l=o.current.frequencyBinCount,c=new Uint8Array(l),u=new Float32Array(l),d=()=>{if(!o.current)return;o.current.getByteFrequencyData(c),o.current.getFloatFrequencyData(u);let p=0;for(let m=0;m<c.length;m++)p+=c[m]*c[m];const h=Math.sqrt(p/c.length)/255;e==null||e(u),t==null||t(h),requestAnimationFrame(d)};return d(),()=>{var p;(p=i.current)==null||p.close()}},[r.persistentTrack,e,t]),null},s6=()=>{const[e,t]=A.useState(0),[n,r]=A.useState(!1),i=A.useCallback(s=>{t(s),r(s>.01)},[]),o=A.useCallback(s=>{},[]);return O.jsxs(O.Fragment,{children:[O.jsx(o6,{onVolumeChange:i,onAudioData:o}),O.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[O.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((s,a)=>O.jsx("div",{className:`w-1 bg-primary transition-all duration-150 ${e*5>a?"h-6":"h-2"}`},a))}),n&&O.jsx("div",{className:"text-xs bg-primary/20 px-2 py-1 rounded",children:"AI Speaking"})]})]})};Hl.register();const a6=()=>{const[e,t]=mt(gE),[,n]=mt(Ud),[r]=mt(R4),[i]=mt(I4),o=At(Ql),s=yr(),a=tc(),l=yC(a),c=vC(a),u=!l.isOff,d=!c.isOff,p=rf({filter:"remote"}),[h,m]=A.useState(!1),[v,S]=A.useState(!1);A.useEffect(()=>{p.length&&!h&&(m(!0),setTimeout(()=>s==null?void 0:s.setLocalAudio(!0),4e3))},[p,h]),A.useEffect(()=>{e!=null&&e.conversation_url&&(s==null||s.join({url:e.conversation_url,startVideoOff:!1,startAudioOff:!0}).then(()=>{s==null||s.setLocalVideo(!0),s==null||s.setLocalAudio(!1)}))},[e==null?void 0:e.conversation_url]);const g=A.useCallback(()=>{s==null||s.setLocalVideo(!u)},[s,u]),b=A.useCallback(()=>{s==null||s.setLocalAudio(!d)},[s,d]),_=A.useCallback(()=>{s==null||s.leave(),s==null||s.destroy(),e!=null&&e.conversation_id&&o&&uN(o,e.conversation_id),t(null),Math.abs(r)>i?n({currentScreen:"finalScreen"}):n({currentScreen:"finalScreen"})},[s,o]),x=()=>{S(!v)};return O.jsxs("div",{className:"flex w-full h-full gap-4",children:[O.jsx("div",{className:"flex-1",children:O.jsx(Gd,{children:O.jsxs("div",{className:"absolute inset-0 size-full",children:[(p==null?void 0:p.length)>0?O.jsxs(O.Fragment,{children:[O.jsx(kS,{id:p[0],className:"size-full",tileClassName:"!object-cover"}),O.jsx(s6,{})]}):O.jsx("div",{className:"flex h-full items-center justify-center",children:O.jsx("l-quantum",{size:"45",speed:"1.75",color:"white"})}),a&&O.jsx(kS,{id:a,tileClassName:"!object-cover",className:fo("absolute bottom-20 left-4 aspect-video h-40 w-24 overflow-hidden rounded-lg border-2 border-primary sm:bottom-12 lg:h-auto lg:w-52")}),O.jsxs("div",{className:"absolute bottom-8 left-1/2 z-10 flex -translate-x-1/2 justify-center gap-4",children:[O.jsx(Pn,{size:"icon",variant:"secondary",onClick:b,className:"bg-card/80 border border-border hover:bg-card",children:d?O.jsx(GR,{className:"size-5"}):O.jsx(JR,{className:"size-5"})}),O.jsx(Pn,{size:"icon",variant:"secondary",onClick:g,className:"bg-card/80 border border-border hover:bg-card",children:u?O.jsx(nN,{className:"size-5"}):O.jsx(tN,{className:"size-5"})}),O.jsx(Pn,{size:"icon",variant:"destructive",onClick:_,className:"bg-destructive/80 hover:bg-destructive",children:O.jsx(YR,{className:"size-5 rotate-[135deg]"})})]}),O.jsx(fC,{})]})})}),O.jsx("div",{className:"w-80 flex-shrink-0",children:O.jsx(i6,{isMinimized:v,onToggleMinimize:x})})]})},l6=()=>{const[,e]=mt(Ud),t=()=>{e({currentScreen:"intro"})};return O.jsx(Gd,{children:O.jsx(Qv,{children:O.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 py-12",children:[O.jsx("h1",{className:"text-3xl font-bold text-white mb-4 text-center",children:"Thank you for your conversation!"}),O.jsx(Pn,{onClick:t,className:"relative z-20 flex items-center justify-center gap-2 rounded-3xl border border-[rgba(255,255,255,0.3)] px-8 py-3 text-base text-white transition-all duration-200 hover:text-primary disabled:opacity-50",style:{height:"48px",transition:"all 0.2s ease-in-out",backgroundColor:"rgba(0,0,0,0.3)"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 0 15px rgba(34, 197, 254, 0.5)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="none"},children:"Return to Main Screen"})]})})})};function c6(){const[{currentScreen:e}]=mt(Ud),[t]=mt(os),[n]=mt(zu);if(A.useEffect(()=>{document.documentElement.classList.toggle("dark",n==="dark")},[n]),!t.isAuthenticated)return O.jsx(sN,{});const r=()=>{switch(e){case"outage":return O.jsx(D2,{});case"outOfMinutes":return O.jsx(L2,{});case"intro":return O.jsx(SS,{});case"conversation":return O.jsx(a6,{});case"finalScreen":return O.jsx(l6,{});default:return O.jsx(SS,{})}};return O.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/3 via-background to-accent/3",children:[O.jsx(iN,{}),O.jsx("main",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-120px)] gap-6 p-6",children:r()}),O.jsx(oN,{})]})}Gp.createRoot(document.getElementById("root")).render(O.jsx(xe.StrictMode,{children:O.jsx(E4,{children:O.jsx(c6,{})})}));

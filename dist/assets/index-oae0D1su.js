var pM=Object.defineProperty;var hM=(e,t,n)=>t in e?pM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Wt=(e,t,n)=>hM(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var ck={exports:{}},Cd={},uk={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),gM=Symbol.for("react.portal"),vM=Symbol.for("react.fragment"),yM=Symbol.for("react.strict_mode"),wM=Symbol.for("react.profiler"),bM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),SM=Symbol.for("react.forward_ref"),kM=Symbol.for("react.suspense"),xM=Symbol.for("react.memo"),TM=Symbol.for("react.lazy"),qy=Symbol.iterator;function EM(e){return e===null||typeof e!="object"?null:(e=qy&&e[qy]||e["@@iterator"],typeof e=="function"?e:null)}var dk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fk=Object.assign,pk={};function Do(e,t,n){this.props=e,this.context=t,this.refs=pk,this.updater=n||dk}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hk(){}hk.prototype=Do.prototype;function xg(e,t,n){this.props=e,this.context=t,this.refs=pk,this.updater=n||dk}var Tg=xg.prototype=new hk;Tg.constructor=xg;fk(Tg,Do.prototype);Tg.isPureReactComponent=!0;var Wy=Array.isArray,mk=Object.prototype.hasOwnProperty,Eg={current:null},gk={key:!0,ref:!0,__self:!0,__source:!0};function vk(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)mk.call(t,r)&&!gk.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zl,type:e,key:s,ref:o,props:i,_owner:Eg.current}}function CM(e,t){return{$$typeof:zl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cg(e){return typeof e=="object"&&e!==null&&e.$$typeof===zl}function AM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hy=/\/+/g;function Ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AM(""+e.key):t.toString(36)}function Wc(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zl:case gM:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Ef(o,0):r,Wy(i)?(n="",e!=null&&(n=e.replace(Hy,"$&/")+"/"),Wc(i,t,n,"",function(c){return c})):i!=null&&(Cg(i)&&(i=CM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hy,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",Wy(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Ef(s,a);o+=Wc(s,t,n,l,i)}else if(l=EM(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Ef(s,a++),o+=Wc(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ac(e,t,n){if(e==null)return e;var r=[],i=0;return Wc(e,r,"","",function(s){return t.call(n,s,i++)}),r}function PM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ut={current:null},Hc={transition:null},MM={ReactCurrentDispatcher:Ut,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:Eg};function yk(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:ac,forEach:function(e,t,n){ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ac(e,function(){t++}),t},toArray:function(e){return ac(e,function(t){return t})||[]},only:function(e){if(!Cg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=Do;we.Fragment=vM;we.Profiler=wM;we.PureComponent=xg;we.StrictMode=yM;we.Suspense=kM;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MM;we.act=yk;we.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fk({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Eg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)mk.call(t,l)&&!gk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:zl,type:e.type,key:i,ref:s,props:r,_owner:o}};we.createContext=function(e){return e={$$typeof:_M,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bM,_context:e},e.Consumer=e};we.createElement=vk;we.createFactory=function(e){var t=vk.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:SM,render:e}};we.isValidElement=Cg;we.lazy=function(e){return{$$typeof:TM,_payload:{_status:-1,_result:e},_init:PM}};we.memo=function(e,t){return{$$typeof:xM,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Hc.transition;Hc.transition={};try{e()}finally{Hc.transition=t}};we.unstable_act=yk;we.useCallback=function(e,t){return Ut.current.useCallback(e,t)};we.useContext=function(e){return Ut.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return Ut.current.useDeferredValue(e)};we.useEffect=function(e,t){return Ut.current.useEffect(e,t)};we.useId=function(){return Ut.current.useId()};we.useImperativeHandle=function(e,t,n){return Ut.current.useImperativeHandle(e,t,n)};we.useInsertionEffect=function(e,t){return Ut.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return Ut.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return Ut.current.useMemo(e,t)};we.useReducer=function(e,t,n){return Ut.current.useReducer(e,t,n)};we.useRef=function(e){return Ut.current.useRef(e)};we.useState=function(e){return Ut.current.useState(e)};we.useSyncExternalStore=function(e,t,n){return Ut.current.useSyncExternalStore(e,t,n)};we.useTransition=function(){return Ut.current.useTransition()};we.version="18.3.1";uk.exports=we;var P=uk.exports;const xe=kg(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM=P,IM=Symbol.for("react.element"),RM=Symbol.for("react.fragment"),NM=Object.prototype.hasOwnProperty,jM=OM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LM={key:!0,ref:!0,__self:!0,__source:!0};function wk(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)NM.call(t,r)&&!LM.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:IM,type:e,key:s,ref:o,props:i,_owner:jM.current}}Cd.Fragment=RM;Cd.jsx=wk;Cd.jsxs=wk;ck.exports=Cd;var C=ck.exports,Jp={},bk={exports:{}},mn={},_k={exports:{}},Sk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,q){var U=j.length;j.push(q);e:for(;0<U;){var Z=U-1>>>1,be=j[Z];if(0<i(be,q))j[Z]=q,j[U]=be,U=Z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],U=j.pop();if(U!==q){j[0]=U;e:for(var Z=0,be=j.length,_e=be>>>1;Z<_e;){var f=2*(Z+1)-1,w=j[f],y=f+1,O=j[y];if(0>i(w,U))y<be&&0>i(O,w)?(j[Z]=O,j[y]=U,Z=y):(j[Z]=w,j[f]=U,Z=f);else if(y<be&&0>i(O,U))j[Z]=O,j[y]=U,Z=y;else break e}}return q}function i(j,q){var U=j.sortIndex-q.sortIndex;return U!==0?U:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,p=3,h=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=j)r(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=n(c)}}function x(j){if(v=!1,_(j),!m)if(n(l)!==null)m=!0,me(k);else{var q=n(c);q!==null&&ie(x,q.startTime-j)}}function k(j,q){m=!1,v&&(v=!1,g(M),M=-1),h=!0;var U=p;try{for(_(q),d=n(l);d!==null&&(!(d.expirationTime>q)||j&&!H());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var be=Z(d.expirationTime<=q);q=e.unstable_now(),typeof be=="function"?d.callback=be:d===n(l)&&r(l),_(q)}else r(l);d=n(l)}if(d!==null)var _e=!0;else{var f=n(c);f!==null&&ie(x,f.startTime-q),_e=!1}return _e}finally{d=null,p=U,h=!1}}var T=!1,A=null,M=-1,I=5,N=-1;function H(){return!(e.unstable_now()-N<I)}function z(){if(A!==null){var j=e.unstable_now();N=j;var q=!0;try{q=A(!0,j)}finally{q?B():(T=!1,A=null)}}else T=!1}var B;if(typeof b=="function")B=function(){b(z)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ve=ne.port2;ne.port1.onmessage=z,B=function(){ve.postMessage(null)}}else B=function(){S(z,0)};function me(j){A=j,T||(T=!0,B())}function ie(j,q){M=S(function(){j(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){m||h||(m=!0,me(k))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var U=p;p=q;try{return j()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=p;p=j;try{return q()}finally{p=U}},e.unstable_scheduleCallback=function(j,q,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,j){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=U+be,j={id:u++,callback:q,priorityLevel:j,startTime:U,expirationTime:be,sortIndex:-1},U>Z?(j.sortIndex=U,t(c,j),n(l)===null&&j===n(c)&&(v?(g(M),M=-1):v=!0,ie(x,U-Z))):(j.sortIndex=be,t(l,j),m||h||(m=!0,me(k))),j},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(j){var q=p;return function(){var U=p;p=q;try{return j.apply(this,arguments)}finally{p=U}}}})(Sk);_k.exports=Sk;var DM=_k.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $M=P,dn=DM;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kk=new Set,za={};function Ss(e,t){co(e,t),co(e+"Capture",t)}function co(e,t){for(za[e]=t,e=0;e<t.length;e++)kk.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gp=Object.prototype.hasOwnProperty,FM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ky={},Jy={};function VM(e){return Gp.call(Jy,e)?!0:Gp.call(Ky,e)?!1:FM.test(e)?Jy[e]=!0:(Ky[e]=!0,!1)}function zM(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BM(e,t,n,r){if(t===null||typeof t>"u"||zM(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){St[e]=new qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];St[t]=new qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){St[e]=new qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){St[e]=new qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){St[e]=new qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){St[e]=new qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){St[e]=new qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){St[e]=new qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){St[e]=new qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ag=/[\-:]([a-z])/g;function Pg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ag,Pg);St[t]=new qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ag,Pg);St[t]=new qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ag,Pg);St[t]=new qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){St[e]=new qt(e,1,!1,e.toLowerCase(),null,!1,!1)});St.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){St[e]=new qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mg(e,t,n,r){var i=St.hasOwnProperty(t)?St[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BM(t,n,i,r)&&(n=null),r||i===null?VM(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var qr=$M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lc=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),Rg=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),Ek=Symbol.for("react.offscreen"),Gy=Symbol.iterator;function Ko(e){return e===null||typeof e!="object"?null:(e=Gy&&e[Gy]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Cf;function fa(e){if(Cf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Cf=t&&t[1]||""}return`
`+Cf+e}var Af=!1;function Pf(e,t){if(!e||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fa(e):""}function UM(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=Pf(e.type,!1),e;case 11:return e=Pf(e.type.render,!1),e;case 1:return e=Pf(e.type,!0),e;default:return""}}function Xp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ns:return"Fragment";case Rs:return"Portal";case Zp:return"Profiler";case Og:return"StrictMode";case Yp:return"Suspense";case Qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Tk:return(e.displayName||"Context")+".Consumer";case xk:return(e._context.displayName||"Context")+".Provider";case Ig:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rg:return t=e.displayName||null,t!==null?t:Xp(e.type)||"Memo";case Xr:t=e._payload,e=e._init;try{return Xp(e(t))}catch{}}return null}function qM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xp(t);case 8:return t===Og?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ck(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function WM(e){var t=Ck(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cc(e){e._valueTracker||(e._valueTracker=WM(e))}function Ak(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ck(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eh(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pk(e,t){t=t.checked,t!=null&&Mg(e,"checked",t,!1)}function th(e,t){Pk(e,t);var n=vi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nh(e,t.type,n):t.hasOwnProperty("defaultValue")&&nh(e,t.type,vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nh(e,t,n){(t!=="number"||vu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var pa=Array.isArray;function Qs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(pa(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:vi(n)}}function Mk(e,t){var n=vi(t.value),r=vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ok(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ok(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uc,Ik=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uc=uc||document.createElement("div"),uc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HM=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(e){HM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ka[t]=ka[e]})});function Rk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ka.hasOwnProperty(e)&&ka[e]?(""+t).trim():t+"px"}function Nk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var KM=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(e,t){if(t){if(KM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function oh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function Ng(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lh=null,Xs=null,eo=null;function e0(e){if(e=ql(e)){if(typeof lh!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Id(t),lh(e.stateNode,e.type,t))}}function jk(e){Xs?eo?eo.push(e):eo=[e]:Xs=e}function Lk(){if(Xs){var e=Xs,t=eo;if(eo=Xs=null,e0(e),t)for(e=0;e<t.length;e++)e0(t[e])}}function Dk(e,t){return e(t)}function $k(){}var Mf=!1;function Fk(e,t,n){if(Mf)return e(t,n);Mf=!0;try{return Dk(e,t,n)}finally{Mf=!1,(Xs!==null||eo!==null)&&($k(),Lk())}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var ch=!1;if(jr)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){ch=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{ch=!1}function JM(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var xa=!1,yu=null,wu=!1,uh=null,GM={onError:function(e){xa=!0,yu=e}};function ZM(e,t,n,r,i,s,o,a,l){xa=!1,yu=null,JM.apply(GM,arguments)}function YM(e,t,n,r,i,s,o,a,l){if(ZM.apply(this,arguments),xa){if(xa){var c=yu;xa=!1,yu=null}else throw Error(F(198));wu||(wu=!0,uh=c)}}function ks(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vk(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function t0(e){if(ks(e)!==e)throw Error(F(188))}function QM(e){var t=e.alternate;if(!t){if(t=ks(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t0(i),e;if(s===r)return t0(i),t;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function zk(e){return e=QM(e),e!==null?Bk(e):null}function Bk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bk(e);if(t!==null)return t;e=e.sibling}return null}var Uk=dn.unstable_scheduleCallback,n0=dn.unstable_cancelCallback,XM=dn.unstable_shouldYield,eO=dn.unstable_requestPaint,it=dn.unstable_now,tO=dn.unstable_getCurrentPriorityLevel,jg=dn.unstable_ImmediatePriority,qk=dn.unstable_UserBlockingPriority,bu=dn.unstable_NormalPriority,nO=dn.unstable_LowPriority,Wk=dn.unstable_IdlePriority,Ad=null,fr=null;function rO(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Ad,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:oO,iO=Math.log,sO=Math.LN2;function oO(e){return e>>>=0,e===0?32:31-(iO(e)/sO|0)|0}var dc=64,fc=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _u(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ha(a):(s&=o,s!==0&&(r=ha(s)))}else o=n&~i,o!==0?r=ha(o):s!==0&&(r=ha(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wn(t),i=1<<n,r|=e[n],t&=~i;return r}function aO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lO(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Wn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=aO(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function dh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Hk(){var e=dc;return dc<<=1,!(dc&4194240)&&(dc=64),e}function Of(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=n}function cO(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Lg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ie=0;function Kk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jk,Dg,Gk,Zk,Yk,fh=!1,pc=[],ai=null,li=null,ci=null,qa=new Map,Wa=new Map,ri=[],uO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r0(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function Go(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ql(t),t!==null&&Dg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function dO(e,t,n,r,i){switch(t){case"focusin":return ai=Go(ai,e,t,n,r,i),!0;case"dragenter":return li=Go(li,e,t,n,r,i),!0;case"mouseover":return ci=Go(ci,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return qa.set(s,Go(qa.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Wa.set(s,Go(Wa.get(s)||null,e,t,n,r,i)),!0}return!1}function Qk(e){var t=Wi(e.target);if(t!==null){var n=ks(t);if(n!==null){if(t=n.tag,t===13){if(t=Vk(n),t!==null){e.blockedOn=t,Yk(e.priority,function(){Gk(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ah=r,n.target.dispatchEvent(r),ah=null}else return t=ql(n),t!==null&&Dg(t),e.blockedOn=n,!1;t.shift()}return!0}function i0(e,t,n){Kc(e)&&n.delete(t)}function fO(){fh=!1,ai!==null&&Kc(ai)&&(ai=null),li!==null&&Kc(li)&&(li=null),ci!==null&&Kc(ci)&&(ci=null),qa.forEach(i0),Wa.forEach(i0)}function Zo(e,t){e.blockedOn===t&&(e.blockedOn=null,fh||(fh=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,fO)))}function Ha(e){function t(i){return Zo(i,e)}if(0<pc.length){Zo(pc[0],e);for(var n=1;n<pc.length;n++){var r=pc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ai!==null&&Zo(ai,e),li!==null&&Zo(li,e),ci!==null&&Zo(ci,e),qa.forEach(t),Wa.forEach(t),n=0;n<ri.length;n++)r=ri[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ri.length&&(n=ri[0],n.blockedOn===null);)Qk(n),n.blockedOn===null&&ri.shift()}var to=qr.ReactCurrentBatchConfig,Su=!0;function pO(e,t,n,r){var i=Ie,s=to.transition;to.transition=null;try{Ie=1,$g(e,t,n,r)}finally{Ie=i,to.transition=s}}function hO(e,t,n,r){var i=Ie,s=to.transition;to.transition=null;try{Ie=4,$g(e,t,n,r)}finally{Ie=i,to.transition=s}}function $g(e,t,n,r){if(Su){var i=ph(e,t,n,r);if(i===null)zf(e,t,r,ku,n),r0(e,r);else if(dO(i,e,t,n,r))r.stopPropagation();else if(r0(e,r),t&4&&-1<uO.indexOf(e)){for(;i!==null;){var s=ql(i);if(s!==null&&Jk(s),s=ph(e,t,n,r),s===null&&zf(e,t,r,ku,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else zf(e,t,r,null,n)}}var ku=null;function ph(e,t,n,r){if(ku=null,e=Ng(r),e=Wi(e),e!==null)if(t=ks(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vk(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ku=e,null}function Xk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tO()){case jg:return 1;case qk:return 4;case bu:case nO:return 16;case Wk:return 536870912;default:return 16}default:return 16}}var si=null,Fg=null,Jc=null;function e1(){if(Jc)return Jc;var e,t=Fg,n=t.length,r,i="value"in si?si.value:si.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Jc=i.slice(e,1<r?1-r:void 0)}function Gc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hc(){return!0}function s0(){return!1}function gn(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?hc:s0,this.isPropagationStopped=s0,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),t}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vg=gn($o),Ul=Xe({},$o,{view:0,detail:0}),mO=gn(Ul),If,Rf,Yo,Pd=Xe({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(If=e.screenX-Yo.screenX,Rf=e.screenY-Yo.screenY):Rf=If=0,Yo=e),If)},movementY:function(e){return"movementY"in e?e.movementY:Rf}}),o0=gn(Pd),gO=Xe({},Pd,{dataTransfer:0}),vO=gn(gO),yO=Xe({},Ul,{relatedTarget:0}),Nf=gn(yO),wO=Xe({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),bO=gn(wO),_O=Xe({},$o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SO=gn(_O),kO=Xe({},$o,{data:0}),a0=gn(kO),xO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CO(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=EO[e])?!!t[e]:!1}function zg(){return CO}var AO=Xe({},Ul,{key:function(e){if(e.key){var t=xO[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?TO[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(e){return e.type==="keypress"?Gc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),PO=gn(AO),MO=Xe({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=gn(MO),OO=Xe({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),IO=gn(OO),RO=Xe({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),NO=gn(RO),jO=Xe({},Pd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LO=gn(jO),DO=[9,13,27,32],Bg=jr&&"CompositionEvent"in window,Ta=null;jr&&"documentMode"in document&&(Ta=document.documentMode);var $O=jr&&"TextEvent"in window&&!Ta,t1=jr&&(!Bg||Ta&&8<Ta&&11>=Ta),c0=" ",u0=!1;function n1(e,t){switch(e){case"keyup":return DO.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function FO(e,t){switch(e){case"compositionend":return r1(t);case"keypress":return t.which!==32?null:(u0=!0,c0);case"textInput":return e=t.data,e===c0&&u0?null:e;default:return null}}function VO(e,t){if(js)return e==="compositionend"||!Bg&&n1(e,t)?(e=e1(),Jc=Fg=si=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t1&&t.locale!=="ko"?null:t.data;default:return null}}var zO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zO[e.type]:t==="textarea"}function i1(e,t,n,r){jk(r),t=xu(t,"onChange"),0<t.length&&(n=new Vg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ea=null,Ka=null;function BO(e){m1(e,0)}function Md(e){var t=$s(e);if(Ak(t))return e}function UO(e,t){if(e==="change")return t}var s1=!1;if(jr){var jf;if(jr){var Lf="oninput"in document;if(!Lf){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),Lf=typeof f0.oninput=="function"}jf=Lf}else jf=!1;s1=jf&&(!document.documentMode||9<document.documentMode)}function p0(){Ea&&(Ea.detachEvent("onpropertychange",o1),Ka=Ea=null)}function o1(e){if(e.propertyName==="value"&&Md(Ka)){var t=[];i1(t,Ka,e,Ng(e)),Fk(BO,t)}}function qO(e,t,n){e==="focusin"?(p0(),Ea=t,Ka=n,Ea.attachEvent("onpropertychange",o1)):e==="focusout"&&p0()}function WO(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Md(Ka)}function HO(e,t){if(e==="click")return Md(t)}function KO(e,t){if(e==="input"||e==="change")return Md(t)}function JO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:JO;function Ja(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function h0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function m0(e,t){var n=h0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=h0(n)}}function a1(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a1(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function l1(){for(var e=window,t=vu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vu(e.document)}return t}function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GO(e){var t=l1(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&a1(n.ownerDocument.documentElement,n)){if(r!==null&&Ug(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=m0(n,s);var o=m0(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ZO=jr&&"documentMode"in document&&11>=document.documentMode,Ls=null,hh=null,Ca=null,mh=!1;function g0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mh||Ls==null||Ls!==vu(r)||(r=Ls,"selectionStart"in r&&Ug(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ca&&Ja(Ca,r)||(Ca=r,r=xu(hh,"onSelect"),0<r.length&&(t=new Vg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ls)))}function mc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ds={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Df={},c1={};jr&&(c1=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Od(e){if(Df[e])return Df[e];if(!Ds[e])return e;var t=Ds[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in c1)return Df[e]=t[n];return e}var u1=Od("animationend"),d1=Od("animationiteration"),f1=Od("animationstart"),p1=Od("transitionend"),h1=new Map,v0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){h1.set(e,t),Ss(t,[e])}for(var $f=0;$f<v0.length;$f++){var Ff=v0[$f],YO=Ff.toLowerCase(),QO=Ff[0].toUpperCase()+Ff.slice(1);Ei(YO,"on"+QO)}Ei(u1,"onAnimationEnd");Ei(d1,"onAnimationIteration");Ei(f1,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(p1,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ma));function y0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,YM(r,t,void 0,e),e.currentTarget=null}function m1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;y0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;y0(i,a,c),s=l}}}if(wu)throw e=uh,wu=!1,uh=null,e}function Ue(e,t){var n=t[bh];n===void 0&&(n=t[bh]=new Set);var r=e+"__bubble";n.has(r)||(g1(t,e,2,!1),n.add(r))}function Vf(e,t,n){var r=0;t&&(r|=4),g1(n,e,r,t)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Ga(e){if(!e[gc]){e[gc]=!0,kk.forEach(function(n){n!=="selectionchange"&&(XO.has(n)||Vf(n,!1,e),Vf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gc]||(t[gc]=!0,Vf("selectionchange",!1,t))}}function g1(e,t,n,r){switch(Xk(t)){case 1:var i=pO;break;case 4:i=hO;break;default:i=$g}n=i.bind(null,t,n,e),i=void 0,!ch||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zf(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Fk(function(){var c=s,u=Ng(n),d=[];e:{var p=h1.get(e);if(p!==void 0){var h=Vg,m=e;switch(e){case"keypress":if(Gc(n)===0)break e;case"keydown":case"keyup":h=PO;break;case"focusin":m="focus",h=Nf;break;case"focusout":m="blur",h=Nf;break;case"beforeblur":case"afterblur":h=Nf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=vO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=IO;break;case u1:case d1:case f1:h=bO;break;case p1:h=NO;break;case"scroll":h=mO;break;case"wheel":h=LO;break;case"copy":case"cut":case"paste":h=SO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=l0}var v=(t&4)!==0,S=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var b=c,_;b!==null;){_=b;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=Ua(b,g),x!=null&&v.push(Za(b,x,_)))),S)break;b=b.return}0<v.length&&(p=new h(p,m,null,n,u),d.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==ah&&(m=n.relatedTarget||n.fromElement)&&(Wi(m)||m[Lr]))break e;if((h||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Wi(m):null,m!==null&&(S=ks(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(v=o0,x="onMouseLeave",g="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=l0,x="onPointerLeave",g="onPointerEnter",b="pointer"),S=h==null?p:$s(h),_=m==null?p:$s(m),p=new v(x,b+"leave",h,n,u),p.target=S,p.relatedTarget=_,x=null,Wi(u)===c&&(v=new v(g,b+"enter",m,n,u),v.target=_,v.relatedTarget=S,x=v),S=x,h&&m)t:{for(v=h,g=m,b=0,_=v;_;_=Ts(_))b++;for(_=0,x=g;x;x=Ts(x))_++;for(;0<b-_;)v=Ts(v),b--;for(;0<_-b;)g=Ts(g),_--;for(;b--;){if(v===g||g!==null&&v===g.alternate)break t;v=Ts(v),g=Ts(g)}v=null}else v=null;h!==null&&w0(d,p,h,v,!1),m!==null&&S!==null&&w0(d,S,m,v,!0)}}e:{if(p=c?$s(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var k=UO;else if(d0(p))if(s1)k=KO;else{k=WO;var T=qO}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=HO);if(k&&(k=k(e,c))){i1(d,k,n,u);break e}T&&T(e,p,c),e==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&nh(p,"number",p.value)}switch(T=c?$s(c):window,e){case"focusin":(d0(T)||T.contentEditable==="true")&&(Ls=T,hh=c,Ca=null);break;case"focusout":Ca=hh=Ls=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,g0(d,n,u);break;case"selectionchange":if(ZO)break;case"keydown":case"keyup":g0(d,n,u)}var A;if(Bg)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else js?n1(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(t1&&n.locale!=="ko"&&(js||M!=="onCompositionStart"?M==="onCompositionEnd"&&js&&(A=e1()):(si=u,Fg="value"in si?si.value:si.textContent,js=!0)),T=xu(c,M),0<T.length&&(M=new a0(M,e,null,n,u),d.push({event:M,listeners:T}),A?M.data=A:(A=r1(n),A!==null&&(M.data=A)))),(A=$O?FO(e,n):VO(e,n))&&(c=xu(c,"onBeforeInput"),0<c.length&&(u=new a0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=A))}m1(d,t)})}function Za(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ua(e,n),s!=null&&r.unshift(Za(e,s,i)),s=Ua(e,t),s!=null&&r.push(Za(e,s,i))),e=e.return}return r}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w0(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ua(n,s),l!=null&&o.unshift(Za(n,l,a))):i||(l=Ua(n,s),l!=null&&o.push(Za(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var eI=/\r\n?/g,tI=/\u0000|\uFFFD/g;function b0(e){return(typeof e=="string"?e:""+e).replace(eI,`
`).replace(tI,"")}function vc(e,t,n){if(t=b0(t),b0(e)!==t&&n)throw Error(F(425))}function Tu(){}var gh=null,vh=null;function yh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,nI=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(e){return _0.resolve(null).then(e).catch(iI)}:wh;function iI(e){setTimeout(function(){throw e})}function Bf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ha(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function S0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),dr="__reactFiber$"+Fo,Ya="__reactProps$"+Fo,Lr="__reactContainer$"+Fo,bh="__reactEvents$"+Fo,sI="__reactListeners$"+Fo,oI="__reactHandles$"+Fo;function Wi(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lr]||n[dr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=S0(e);e!==null;){if(n=e[dr])return n;e=S0(e)}return t}e=n,n=e.parentNode}return null}function ql(e){return e=e[dr]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $s(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Id(e){return e[Ya]||null}var _h=[],Fs=-1;function Ci(e){return{current:e}}function qe(e){0>Fs||(e.current=_h[Fs],_h[Fs]=null,Fs--)}function $e(e,t){Fs++,_h[Fs]=e.current,e.current=t}var yi={},Nt=Ci(yi),Zt=Ci(!1),os=yi;function uo(e,t){var n=e.type.contextTypes;if(!n)return yi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(e){return e=e.childContextTypes,e!=null}function Eu(){qe(Zt),qe(Nt)}function k0(e,t,n){if(Nt.current!==yi)throw Error(F(168));$e(Nt,t),$e(Zt,n)}function v1(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,qM(e)||"Unknown",i));return Xe({},n,r)}function Cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yi,os=Nt.current,$e(Nt,e),$e(Zt,Zt.current),!0}function x0(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=v1(e,t,os),r.__reactInternalMemoizedMergedChildContext=e,qe(Zt),qe(Nt),$e(Nt,e)):qe(Zt),$e(Zt,n)}var xr=null,Rd=!1,Uf=!1;function y1(e){xr===null?xr=[e]:xr.push(e)}function aI(e){Rd=!0,y1(e)}function Ai(){if(!Uf&&xr!==null){Uf=!0;var e=0,t=Ie;try{var n=xr;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xr=null,Rd=!1}catch(i){throw xr!==null&&(xr=xr.slice(e+1)),Uk(jg,Ai),i}finally{Ie=t,Uf=!1}}return null}var Vs=[],zs=0,Au=null,Pu=0,Sn=[],kn=0,as=null,Cr=1,Ar="";function Di(e,t){Vs[zs++]=Pu,Vs[zs++]=Au,Au=e,Pu=t}function w1(e,t,n){Sn[kn++]=Cr,Sn[kn++]=Ar,Sn[kn++]=as,as=e;var r=Cr;e=Ar;var i=32-Wn(r)-1;r&=~(1<<i),n+=1;var s=32-Wn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Wn(t)+i|n<<i|r,Ar=s+e}else Cr=1<<s|n<<i|r,Ar=e}function qg(e){e.return!==null&&(Di(e,1),w1(e,1,0))}function Wg(e){for(;e===Au;)Au=Vs[--zs],Vs[zs]=null,Pu=Vs[--zs],Vs[zs]=null;for(;e===as;)as=Sn[--kn],Sn[kn]=null,Ar=Sn[--kn],Sn[kn]=null,Cr=Sn[--kn],Sn[kn]=null}var cn=null,on=null,Ke=!1,Bn=null;function b1(e,t){var n=En(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function T0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cn=e,on=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cn=e,on=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=as!==null?{id:Cr,overflow:Ar}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=En(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,cn=e,on=null,!0):!1;default:return!1}}function Sh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kh(e){if(Ke){var t=on;if(t){var n=t;if(!T0(e,t)){if(Sh(e))throw Error(F(418));t=ui(n.nextSibling);var r=cn;t&&T0(e,t)?b1(r,n):(e.flags=e.flags&-4097|2,Ke=!1,cn=e)}}else{if(Sh(e))throw Error(F(418));e.flags=e.flags&-4097|2,Ke=!1,cn=e}}}function E0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function yc(e){if(e!==cn)return!1;if(!Ke)return E0(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yh(e.type,e.memoizedProps)),t&&(t=on)){if(Sh(e))throw _1(),Error(F(418));for(;t;)b1(e,t),t=ui(t.nextSibling)}if(E0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){on=ui(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}on=null}}else on=cn?ui(e.stateNode.nextSibling):null;return!0}function _1(){for(var e=on;e;)e=ui(e.nextSibling)}function fo(){on=cn=null,Ke=!1}function Hg(e){Bn===null?Bn=[e]:Bn.push(e)}var lI=qr.ReactCurrentBatchConfig;function Qo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function wc(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C0(e){var t=e._init;return t(e._payload)}function S1(e){function t(g,b){if(e){var _=g.deletions;_===null?(g.deletions=[b],g.flags|=16):_.push(b)}}function n(g,b){if(!e)return null;for(;b!==null;)t(g,b),b=b.sibling;return null}function r(g,b){for(g=new Map;b!==null;)b.key!==null?g.set(b.key,b):g.set(b.index,b),b=b.sibling;return g}function i(g,b){return g=hi(g,b),g.index=0,g.sibling=null,g}function s(g,b,_){return g.index=_,e?(_=g.alternate,_!==null?(_=_.index,_<b?(g.flags|=2,b):_):(g.flags|=2,b)):(g.flags|=1048576,b)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,b,_,x){return b===null||b.tag!==6?(b=Zf(_,g.mode,x),b.return=g,b):(b=i(b,_),b.return=g,b)}function l(g,b,_,x){var k=_.type;return k===Ns?u(g,b,_.props.children,x,_.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xr&&C0(k)===b.type)?(x=i(b,_.props),x.ref=Qo(g,b,_),x.return=g,x):(x=nu(_.type,_.key,_.props,null,g.mode,x),x.ref=Qo(g,b,_),x.return=g,x)}function c(g,b,_,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=Yf(_,g.mode,x),b.return=g,b):(b=i(b,_.children||[]),b.return=g,b)}function u(g,b,_,x,k){return b===null||b.tag!==7?(b=ns(_,g.mode,x,k),b.return=g,b):(b=i(b,_),b.return=g,b)}function d(g,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zf(""+b,g.mode,_),b.return=g,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case lc:return _=nu(b.type,b.key,b.props,null,g.mode,_),_.ref=Qo(g,null,b),_.return=g,_;case Rs:return b=Yf(b,g.mode,_),b.return=g,b;case Xr:var x=b._init;return d(g,x(b._payload),_)}if(pa(b)||Ko(b))return b=ns(b,g.mode,_,null),b.return=g,b;wc(g,b)}return null}function p(g,b,_,x){var k=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(g,b,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:return _.key===k?l(g,b,_,x):null;case Rs:return _.key===k?c(g,b,_,x):null;case Xr:return k=_._init,p(g,b,k(_._payload),x)}if(pa(_)||Ko(_))return k!==null?null:u(g,b,_,x,null);wc(g,_)}return null}function h(g,b,_,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(b,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lc:return g=g.get(x.key===null?_:x.key)||null,l(b,g,x,k);case Rs:return g=g.get(x.key===null?_:x.key)||null,c(b,g,x,k);case Xr:var T=x._init;return h(g,b,_,T(x._payload),k)}if(pa(x)||Ko(x))return g=g.get(_)||null,u(b,g,x,k,null);wc(b,x)}return null}function m(g,b,_,x){for(var k=null,T=null,A=b,M=b=0,I=null;A!==null&&M<_.length;M++){A.index>M?(I=A,A=null):I=A.sibling;var N=p(g,A,_[M],x);if(N===null){A===null&&(A=I);break}e&&A&&N.alternate===null&&t(g,A),b=s(N,b,M),T===null?k=N:T.sibling=N,T=N,A=I}if(M===_.length)return n(g,A),Ke&&Di(g,M),k;if(A===null){for(;M<_.length;M++)A=d(g,_[M],x),A!==null&&(b=s(A,b,M),T===null?k=A:T.sibling=A,T=A);return Ke&&Di(g,M),k}for(A=r(g,A);M<_.length;M++)I=h(A,g,M,_[M],x),I!==null&&(e&&I.alternate!==null&&A.delete(I.key===null?M:I.key),b=s(I,b,M),T===null?k=I:T.sibling=I,T=I);return e&&A.forEach(function(H){return t(g,H)}),Ke&&Di(g,M),k}function v(g,b,_,x){var k=Ko(_);if(typeof k!="function")throw Error(F(150));if(_=k.call(_),_==null)throw Error(F(151));for(var T=k=null,A=b,M=b=0,I=null,N=_.next();A!==null&&!N.done;M++,N=_.next()){A.index>M?(I=A,A=null):I=A.sibling;var H=p(g,A,N.value,x);if(H===null){A===null&&(A=I);break}e&&A&&H.alternate===null&&t(g,A),b=s(H,b,M),T===null?k=H:T.sibling=H,T=H,A=I}if(N.done)return n(g,A),Ke&&Di(g,M),k;if(A===null){for(;!N.done;M++,N=_.next())N=d(g,N.value,x),N!==null&&(b=s(N,b,M),T===null?k=N:T.sibling=N,T=N);return Ke&&Di(g,M),k}for(A=r(g,A);!N.done;M++,N=_.next())N=h(A,g,M,N.value,x),N!==null&&(e&&N.alternate!==null&&A.delete(N.key===null?M:N.key),b=s(N,b,M),T===null?k=N:T.sibling=N,T=N);return e&&A.forEach(function(z){return t(g,z)}),Ke&&Di(g,M),k}function S(g,b,_,x){if(typeof _=="object"&&_!==null&&_.type===Ns&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lc:e:{for(var k=_.key,T=b;T!==null;){if(T.key===k){if(k=_.type,k===Ns){if(T.tag===7){n(g,T.sibling),b=i(T,_.props.children),b.return=g,g=b;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Xr&&C0(k)===T.type){n(g,T.sibling),b=i(T,_.props),b.ref=Qo(g,T,_),b.return=g,g=b;break e}n(g,T);break}else t(g,T);T=T.sibling}_.type===Ns?(b=ns(_.props.children,g.mode,x,_.key),b.return=g,g=b):(x=nu(_.type,_.key,_.props,null,g.mode,x),x.ref=Qo(g,b,_),x.return=g,g=x)}return o(g);case Rs:e:{for(T=_.key;b!==null;){if(b.key===T)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){n(g,b.sibling),b=i(b,_.children||[]),b.return=g,g=b;break e}else{n(g,b);break}else t(g,b);b=b.sibling}b=Yf(_,g.mode,x),b.return=g,g=b}return o(g);case Xr:return T=_._init,S(g,b,T(_._payload),x)}if(pa(_))return m(g,b,_,x);if(Ko(_))return v(g,b,_,x);wc(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(n(g,b.sibling),b=i(b,_),b.return=g,g=b):(n(g,b),b=Zf(_,g.mode,x),b.return=g,g=b),o(g)):n(g,b)}return S}var po=S1(!0),k1=S1(!1),Mu=Ci(null),Ou=null,Bs=null,Kg=null;function Jg(){Kg=Bs=Ou=null}function Gg(e){var t=Mu.current;qe(Mu),e._currentValue=t}function xh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function no(e,t){Ou=e,Kg=Bs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Kg!==e)if(e={context:e,memoizedValue:t,next:null},Bs===null){if(Ou===null)throw Error(F(308));Bs=e,Ou.dependencies={lanes:0,firstContext:e}}else Bs=Bs.next=e;return t}var Hi=null;function Zg(e){Hi===null?Hi=[e]:Hi.push(e)}function x1(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Zg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dr(e,r)}function Dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ei=!1;function Yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function di(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Dr(e,n)}return i=r.interleaved,i===null?(t.next=t,Zg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Dr(e,n)}function Zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lg(e,n)}}function A0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Iu(e,t,n,r){var i=e.updateQueue;ei=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,h=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(p=t,h=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(h,d,p);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,p=typeof m=="function"?m.call(h,d,p):m,p==null)break e;d=Xe({},d,p);break e;case 2:ei=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);cs|=o,e.lanes=o,e.memoizedState=d}}function P0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var Wl={},pr=Ci(Wl),Qa=Ci(Wl),Xa=Ci(Wl);function Ki(e){if(e===Wl)throw Error(F(174));return e}function Qg(e,t){switch($e(Xa,t),$e(Qa,e),$e(pr,Wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ih(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ih(t,e)}qe(pr),$e(pr,t)}function ho(){qe(pr),qe(Qa),qe(Xa)}function E1(e){Ki(Xa.current);var t=Ki(pr.current),n=ih(t,e.type);t!==n&&($e(Qa,e),$e(pr,n))}function Xg(e){Qa.current===e&&(qe(pr),qe(Qa))}var Ze=Ci(0);function Ru(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qf=[];function ev(){for(var e=0;e<qf.length;e++)qf[e]._workInProgressVersionPrimary=null;qf.length=0}var Yc=qr.ReactCurrentDispatcher,Wf=qr.ReactCurrentBatchConfig,ls=0,Qe=null,ft=null,ht=null,Nu=!1,Aa=!1,el=0,cI=0;function Tt(){throw Error(F(321))}function tv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function nv(e,t,n,r,i,s){if(ls=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yc.current=e===null||e.memoizedState===null?pI:hI,e=n(r,i),Aa){s=0;do{if(Aa=!1,el=0,25<=s)throw Error(F(301));s+=1,ht=ft=null,t.updateQueue=null,Yc.current=mI,e=n(r,i)}while(Aa)}if(Yc.current=ju,t=ft!==null&&ft.next!==null,ls=0,ht=ft=Qe=null,Nu=!1,t)throw Error(F(300));return e}function rv(){var e=el!==0;return el=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Qe.memoizedState=ht=e:ht=ht.next=e,ht}function In(){if(ft===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=ht===null?Qe.memoizedState:ht.next;if(t!==null)ht=t,ft=e;else{if(e===null)throw Error(F(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},ht===null?Qe.memoizedState=ht=e:ht=ht.next=e}return ht}function tl(e,t){return typeof t=="function"?t(e):t}function Hf(e){var t=In(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((ls&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Qe.lanes|=u,cs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Yn(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qe.lanes|=s,cs|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Kf(e){var t=In(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Yn(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function C1(){}function A1(e,t){var n=Qe,r=In(),i=t(),s=!Yn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,iv(O1.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,nl(9,M1.bind(null,n,r,i,t),void 0,null),mt===null)throw Error(F(349));ls&30||P1(n,t,i)}return i}function P1(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function M1(e,t,n,r){t.value=n,t.getSnapshot=r,I1(t)&&R1(e)}function O1(e,t,n){return n(function(){I1(t)&&R1(e)})}function I1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch{return!0}}function R1(e){var t=Dr(e,1);t!==null&&Hn(t,e,1,-1)}function M0(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t.queue=e,e=e.dispatch=fI.bind(null,Qe,e),[t.memoizedState,e]}function nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function N1(){return In().memoizedState}function Qc(e,t,n,r){var i=or();Qe.flags|=e,i.memoizedState=nl(1|t,n,void 0,r===void 0?null:r)}function Nd(e,t,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(ft!==null){var o=ft.memoizedState;if(s=o.destroy,r!==null&&tv(r,o.deps)){i.memoizedState=nl(t,n,s,r);return}}Qe.flags|=e,i.memoizedState=nl(1|t,n,s,r)}function O0(e,t){return Qc(8390656,8,e,t)}function iv(e,t){return Nd(2048,8,e,t)}function j1(e,t){return Nd(4,2,e,t)}function L1(e,t){return Nd(4,4,e,t)}function D1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $1(e,t,n){return n=n!=null?n.concat([e]):null,Nd(4,4,D1.bind(null,t,e),n)}function sv(){}function F1(e,t){var n=In();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function V1(e,t){var n=In();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function z1(e,t,n){return ls&21?(Yn(n,t)||(n=Hk(),Qe.lanes|=n,cs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function uI(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=Wf.transition;Wf.transition={};try{e(!1),t()}finally{Ie=n,Wf.transition=r}}function B1(){return In().memoizedState}function dI(e,t,n){var r=pi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},U1(e))q1(t,n);else if(n=x1(e,t,n,r),n!==null){var i=zt();Hn(n,e,r,i),W1(n,t,r)}}function fI(e,t,n){var r=pi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(U1(e))q1(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=t.interleaved;l===null?(i.next=i,Zg(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=x1(e,t,i,r),n!==null&&(i=zt(),Hn(n,e,r,i),W1(n,t,r))}}function U1(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function q1(e,t){Aa=Nu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function W1(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lg(e,n)}}var ju={readContext:On,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},pI={readContext:On,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:O0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Qc(4194308,4,D1.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Qc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Qc(4,2,e,t)},useMemo:function(e,t){var n=or();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=or();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=dI.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:M0,useDebugValue:sv,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=M0(!1),t=e[0];return e=uI.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=or();if(Ke){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),mt===null)throw Error(F(349));ls&30||P1(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,O0(O1.bind(null,r,s,e),[e]),r.flags|=2048,nl(9,M1.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=or(),t=mt.identifierPrefix;if(Ke){var n=Ar,r=Cr;n=(r&~(1<<32-Wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=cI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hI={readContext:On,useCallback:F1,useContext:On,useEffect:iv,useImperativeHandle:$1,useInsertionEffect:j1,useLayoutEffect:L1,useMemo:V1,useReducer:Hf,useRef:N1,useState:function(){return Hf(tl)},useDebugValue:sv,useDeferredValue:function(e){var t=In();return z1(t,ft.memoizedState,e)},useTransition:function(){var e=Hf(tl)[0],t=In().memoizedState;return[e,t]},useMutableSource:C1,useSyncExternalStore:A1,useId:B1,unstable_isNewReconciler:!1},mI={readContext:On,useCallback:F1,useContext:On,useEffect:iv,useImperativeHandle:$1,useInsertionEffect:j1,useLayoutEffect:L1,useMemo:V1,useReducer:Kf,useRef:N1,useState:function(){return Kf(tl)},useDebugValue:sv,useDeferredValue:function(e){var t=In();return ft===null?t.memoizedState=e:z1(t,ft.memoizedState,e)},useTransition:function(){var e=Kf(tl)[0],t=In().memoizedState;return[e,t]},useMutableSource:C1,useSyncExternalStore:A1,useId:B1,unstable_isNewReconciler:!1};function Vn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Th(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jd={isMounted:function(e){return(e=e._reactInternals)?ks(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zt(),i=pi(e),s=Or(r,i);s.payload=t,n!=null&&(s.callback=n),t=di(e,s,i),t!==null&&(Hn(t,e,i,r),Zc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zt(),i=pi(e),s=Or(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=di(e,s,i),t!==null&&(Hn(t,e,i,r),Zc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zt(),r=pi(e),i=Or(n,r);i.tag=2,t!=null&&(i.callback=t),t=di(e,i,r),t!==null&&(Hn(t,e,r,n),Zc(t,e,r))}};function I0(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ja(n,r)||!Ja(i,s):!0}function H1(e,t,n){var r=!1,i=yi,s=t.contextType;return typeof s=="object"&&s!==null?s=On(s):(i=Yt(t)?os:Nt.current,r=t.contextTypes,s=(r=r!=null)?uo(e,i):yi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function R0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jd.enqueueReplaceState(t,t.state,null)}function Eh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Yg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=On(s):(s=Yt(t)?os:Nt.current,i.context=uo(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Th(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jd.enqueueReplaceState(i,i.state,null),Iu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function mo(e,t){try{var n="",r=t;do n+=UM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Jf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ch(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gI=typeof WeakMap=="function"?WeakMap:Map;function K1(e,t,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Du||(Du=!0,Dh=r),Ch(e,t)},n}function J1(e,t,n){n=Or(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ch(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ch(e,t),typeof r!="function"&&(fi===null?fi=new Set([this]):fi.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function N0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gI;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=MI.bind(null,e,t,n),t.then(e,e))}function j0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function L0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Or(-1,1),t.tag=2,di(n,t,1))),n.lanes|=1),e)}var vI=qr.ReactCurrentOwner,Gt=!1;function Ft(e,t,n,r){t.child=e===null?k1(t,null,n,r):po(t,e.child,n,r)}function D0(e,t,n,r,i){n=n.render;var s=t.ref;return no(t,i),r=nv(e,t,n,r,s,i),n=rv(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$r(e,t,i)):(Ke&&n&&qg(t),t.flags|=1,Ft(e,t,r,i),t.child)}function $0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!pv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,G1(e,t,s,r,i)):(e=nu(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ja,n(o,r)&&e.ref===t.ref)return $r(e,t,i)}return t.flags|=1,e=hi(s,r),e.ref=t.ref,e.return=t,t.child=e}function G1(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ja(s,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,$r(e,t,i)}return Ah(e,t,n,r,i)}function Z1(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(qs,sn),sn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(qs,sn),sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(qs,sn),sn|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,$e(qs,sn),sn|=r;return Ft(e,t,i,n),t.child}function Y1(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ah(e,t,n,r,i){var s=Yt(n)?os:Nt.current;return s=uo(t,s),no(t,i),n=nv(e,t,n,r,s,i),r=rv(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$r(e,t,i)):(Ke&&r&&qg(t),t.flags|=1,Ft(e,t,n,i),t.child)}function F0(e,t,n,r,i){if(Yt(n)){var s=!0;Cu(t)}else s=!1;if(no(t,i),t.stateNode===null)Xc(e,t),H1(t,n,r),Eh(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=Yt(n)?os:Nt.current,c=uo(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&R0(t,o,r,c),ei=!1;var p=t.memoizedState;o.state=p,Iu(t,r,o,i),l=t.memoizedState,a!==r||p!==l||Zt.current||ei?(typeof u=="function"&&(Th(t,n,u,r),l=t.memoizedState),(a=ei||I0(t,n,a,r,p,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,T1(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Vn(t.type,a),o.props=c,d=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=Yt(n)?os:Nt.current,l=uo(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||p!==l)&&R0(t,o,r,l),ei=!1,p=t.memoizedState,o.state=p,Iu(t,r,o,i);var m=t.memoizedState;a!==d||p!==m||Zt.current||ei?(typeof h=="function"&&(Th(t,n,h,r),m=t.memoizedState),(c=ei||I0(t,n,c,r,p,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ph(e,t,n,r,s,i)}function Ph(e,t,n,r,i,s){Y1(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&x0(t,n,!1),$r(e,t,s);r=t.stateNode,vI.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=po(t,e.child,null,s),t.child=po(t,null,a,s)):Ft(e,t,a,s),t.memoizedState=r.state,i&&x0(t,n,!0),t.child}function Q1(e){var t=e.stateNode;t.pendingContext?k0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k0(e,t.context,!1),Qg(e,t.containerInfo)}function V0(e,t,n,r,i){return fo(),Hg(i),t.flags|=256,Ft(e,t,n,r),t.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Oh(e){return{baseLanes:e,cachePool:null,transitions:null}}function X1(e,t,n){var r=t.pendingProps,i=Ze.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Ze,i&1),e===null)return kh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$d(o,r,0,null),e=ns(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Oh(n),t.memoizedState=Mh,e):ov(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yI(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hi(a,s):(s=ns(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Oh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Mh,r}return s=e.child,e=s.sibling,r=hi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ov(e,t){return t=$d({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bc(e,t,n,r){return r!==null&&Hg(r),po(t,e.child,null,n),e=ov(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yI(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Jf(Error(F(422))),bc(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=$d({mode:"visible",children:r.children},i,0,null),s=ns(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&po(t,e.child,null,o),t.child.memoizedState=Oh(o),t.memoizedState=Mh,s);if(!(t.mode&1))return bc(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=Jf(s,r,void 0),bc(e,t,o,r)}if(a=(o&e.childLanes)!==0,Gt||a){if(r=mt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dr(e,i),Hn(r,e,i,-1))}return fv(),r=Jf(Error(F(421))),bc(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=OI.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,on=ui(i.nextSibling),cn=t,Ke=!0,Bn=null,e!==null&&(Sn[kn++]=Cr,Sn[kn++]=Ar,Sn[kn++]=as,Cr=e.id,Ar=e.overflow,as=t),t=ov(t,r.children),t.flags|=4096,t)}function z0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xh(e.return,t,n)}function Gf(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ex(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ft(e,t,r.children,n),r=Ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&z0(e,n,t);else if(e.tag===19)z0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Ze,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ru(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Gf(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ru(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Gf(t,!0,n,null,s);break;case"together":Gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=hi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function wI(e,t,n){switch(t.tag){case 3:Q1(t),fo();break;case 5:E1(t);break;case 1:Yt(t.type)&&Cu(t);break;case 4:Qg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$e(Mu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Ze,Ze.current&1),t.flags|=128,null):n&t.child.childLanes?X1(e,t,n):($e(Ze,Ze.current&1),e=$r(e,t,n),e!==null?e.sibling:null);$e(Ze,Ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ex(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ze,Ze.current),r)break;return null;case 22:case 23:return t.lanes=0,Z1(e,t,n)}return $r(e,t,n)}var tx,Ih,nx,rx;tx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ih=function(){};nx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ki(pr.current);var s=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),s=[];break;case"select":i=Xe({},i,{value:void 0}),r=Xe({},r,{value:void 0}),s=[];break;case"textarea":i=rh(e,i),r=rh(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Tu)}sh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(za.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(za.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ue("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};rx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xo(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bI(e,t,n){var r=t.pendingProps;switch(Wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Yt(t.type)&&Eu(),Et(t),null;case 3:return r=t.stateNode,ho(),qe(Zt),qe(Nt),ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bn!==null&&(Vh(Bn),Bn=null))),Ih(e,t),Et(t),null;case 5:Xg(t);var i=Ki(Xa.current);if(n=t.type,e!==null&&t.stateNode!=null)nx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return Et(t),null}if(e=Ki(pr.current),yc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[dr]=t,r[Ya]=s,e=(t.mode&1)!==0,n){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(i=0;i<ma.length;i++)Ue(ma[i],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Zy(r,s),Ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ue("invalid",r);break;case"textarea":Qy(r,s),Ue("invalid",r)}sh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&vc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&vc(r.textContent,a,e),i=["children",""+a]):za.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ue("scroll",r)}switch(n){case"input":cc(r),Yy(r,s,!0);break;case"textarea":cc(r),Xy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ok(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[dr]=t,e[Ya]=r,tx(e,t,!1,!1),t.stateNode=e;e:{switch(o=oh(n,r),n){case"dialog":Ue("cancel",e),Ue("close",e),i=r;break;case"iframe":case"object":case"embed":Ue("load",e),i=r;break;case"video":case"audio":for(i=0;i<ma.length;i++)Ue(ma[i],e);i=r;break;case"source":Ue("error",e),i=r;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),i=r;break;case"details":Ue("toggle",e),i=r;break;case"input":Zy(e,r),i=eh(e,r),Ue("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Xe({},r,{value:void 0}),Ue("invalid",e);break;case"textarea":Qy(e,r),i=rh(e,r),Ue("invalid",e);break;default:i=r}sh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nk(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ik(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ba(e,l):typeof l=="number"&&Ba(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(za.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ue("scroll",e):l!=null&&Mg(e,s,l,o))}switch(n){case"input":cc(e),Yy(e,r,!1);break;case"textarea":cc(e),Xy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+vi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Qs(e,!!r.multiple,s,!1):r.defaultValue!=null&&Qs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Tu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)rx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=Ki(Xa.current),Ki(pr.current),yc(t)){if(r=t.stateNode,n=t.memoizedProps,r[dr]=t,(s=r.nodeValue!==n)&&(e=cn,e!==null))switch(e.tag){case 3:vc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vc(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=t,t.stateNode=r}return Et(t),null;case 13:if(qe(Ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&on!==null&&t.mode&1&&!(t.flags&128))_1(),fo(),t.flags|=98560,s=!1;else if(s=yc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(F(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[dr]=t}else fo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),s=!1}else Bn!==null&&(Vh(Bn),Bn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ze.current&1?pt===0&&(pt=3):fv())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return ho(),Ih(e,t),e===null&&Ga(t.stateNode.containerInfo),Et(t),null;case 10:return Gg(t.type._context),Et(t),null;case 17:return Yt(t.type)&&Eu(),Et(t),null;case 19:if(qe(Ze),s=t.memoizedState,s===null)return Et(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)Xo(s,!1);else{if(pt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ru(e),o!==null){for(t.flags|=128,Xo(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Ze,Ze.current&1|2),t.child}e=e.sibling}s.tail!==null&&it()>go&&(t.flags|=128,r=!0,Xo(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ru(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ke)return Et(t),null}else 2*it()-s.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,r=!0,Xo(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,n=Ze.current,$e(Ze,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return dv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?sn&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function _I(e,t){switch(Wg(t),t.tag){case 1:return Yt(t.type)&&Eu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),qe(Zt),qe(Nt),ev(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xg(t),null;case 13:if(qe(Ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));fo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(Ze),null;case 4:return ho(),null;case 10:return Gg(t.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var _c=!1,At=!1,SI=typeof WeakSet=="function"?WeakSet:Set,G=null;function Us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Rh(e,t,n){try{n()}catch(r){tt(e,t,r)}}var B0=!1;function kI(e,t){if(gh=Su,e=l1(),Ug(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=e,p=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===e)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:e,selectionRange:n},Su=!1,G=t;G!==null;)if(t=G,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,G=e;else for(;G!==null;){t=G;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Vn(t.type,v),S);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){tt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,G=e;break}G=t.return}return m=B0,B0=!1,m}function Pa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Rh(t,n,s)}i=i.next}while(i!==r)}}function Ld(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ix(e){var t=e.alternate;t!==null&&(e.alternate=null,ix(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dr],delete t[Ya],delete t[bh],delete t[sI],delete t[oI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sx(e){return e.tag===5||e.tag===3||e.tag===4}function U0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Tu));else if(r!==4&&(e=e.child,e!==null))for(jh(e,t,n),e=e.sibling;e!==null;)jh(e,t,n),e=e.sibling}function Lh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Lh(e,t,n),e=e.sibling;e!==null;)Lh(e,t,n),e=e.sibling}var vt=null,zn=!1;function Hr(e,t,n){for(n=n.child;n!==null;)ox(e,t,n),n=n.sibling}function ox(e,t,n){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Ad,n)}catch{}switch(n.tag){case 5:At||Us(n,t);case 6:var r=vt,i=zn;vt=null,Hr(e,t,n),vt=r,zn=i,vt!==null&&(zn?(e=vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vt.removeChild(n.stateNode));break;case 18:vt!==null&&(zn?(e=vt,n=n.stateNode,e.nodeType===8?Bf(e.parentNode,n):e.nodeType===1&&Bf(e,n),Ha(e)):Bf(vt,n.stateNode));break;case 4:r=vt,i=zn,vt=n.stateNode.containerInfo,zn=!0,Hr(e,t,n),vt=r,zn=i;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Rh(n,t,o),i=i.next}while(i!==r)}Hr(e,t,n);break;case 1:if(!At&&(Us(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,t,a)}Hr(e,t,n);break;case 21:Hr(e,t,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Hr(e,t,n),At=r):Hr(e,t,n);break;default:Hr(e,t,n)}}function q0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new SI),t.forEach(function(r){var i=II.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:vt=a.stateNode,zn=!1;break e;case 3:vt=a.stateNode.containerInfo,zn=!0;break e;case 4:vt=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(vt===null)throw Error(F(160));ox(s,o,i),vt=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ax(t,e),t=t.sibling}function ax(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),rr(e),r&4){try{Pa(3,e,e.return),Ld(3,e)}catch(v){tt(e,e.return,v)}try{Pa(5,e,e.return)}catch(v){tt(e,e.return,v)}}break;case 1:Nn(t,e),rr(e),r&512&&n!==null&&Us(n,n.return);break;case 5:if(Nn(t,e),rr(e),r&512&&n!==null&&Us(n,n.return),e.flags&32){var i=e.stateNode;try{Ba(i,"")}catch(v){tt(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Pk(i,s),oh(a,o);var c=oh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Nk(i,d):u==="dangerouslySetInnerHTML"?Ik(i,d):u==="children"?Ba(i,d):Mg(i,u,d,c)}switch(a){case"input":th(i,s);break;case"textarea":Mk(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Qs(i,!!s.multiple,h,!1):p!==!!s.multiple&&(s.defaultValue!=null?Qs(i,!!s.multiple,s.defaultValue,!0):Qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ya]=s}catch(v){tt(e,e.return,v)}}break;case 6:if(Nn(t,e),rr(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){tt(e,e.return,v)}}break;case 3:if(Nn(t,e),rr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(v){tt(e,e.return,v)}break;case 4:Nn(t,e),rr(e);break;case 13:Nn(t,e),rr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cv=it())),r&4&&q0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(At=(c=At)||u,Nn(t,e),At=c):Nn(t,e),rr(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(G=e,u=e.child;u!==null;){for(d=G=u;G!==null;){switch(p=G,h=p.child,p.tag){case 0:case 11:case 14:case 15:Pa(4,p,p.return);break;case 1:Us(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){tt(r,n,v)}}break;case 5:Us(p,p.return);break;case 22:if(p.memoizedState!==null){H0(d);continue}}h!==null?(h.return=p,G=h):H0(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rk("display",o))}catch(v){tt(e,e.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){tt(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Nn(t,e),rr(e),r&4&&q0(e);break;case 21:break;default:Nn(t,e),rr(e)}}function rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sx(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ba(i,""),r.flags&=-33);var s=U0(e);Lh(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=U0(e);jh(e,a,o);break;default:throw Error(F(161))}}catch(l){tt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xI(e,t,n){G=e,lx(e)}function lx(e,t,n){for(var r=(e.mode&1)!==0;G!==null;){var i=G,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_c;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||At;a=_c;var c=At;if(_c=o,(At=l)&&!c)for(G=i;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?K0(i):l!==null?(l.return=o,G=l):K0(i);for(;s!==null;)G=s,lx(s),s=s.sibling;G=i,_c=a,At=c}W0(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,G=s):W0(e)}}function W0(e){for(;G!==null;){var t=G;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:At||Ld(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!At)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Vn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&P0(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}P0(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ha(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}At||t.flags&512&&Nh(t)}catch(p){tt(t,t.return,p)}}if(t===e){G=null;break}if(n=t.sibling,n!==null){n.return=t.return,G=n;break}G=t.return}}function H0(e){for(;G!==null;){var t=G;if(t===e){G=null;break}var n=t.sibling;if(n!==null){n.return=t.return,G=n;break}G=t.return}}function K0(e){for(;G!==null;){var t=G;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ld(4,t)}catch(l){tt(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){tt(t,i,l)}}var s=t.return;try{Nh(t)}catch(l){tt(t,s,l)}break;case 5:var o=t.return;try{Nh(t)}catch(l){tt(t,o,l)}}}catch(l){tt(t,t.return,l)}if(t===e){G=null;break}var a=t.sibling;if(a!==null){a.return=t.return,G=a;break}G=t.return}}var TI=Math.ceil,Lu=qr.ReactCurrentDispatcher,av=qr.ReactCurrentOwner,Pn=qr.ReactCurrentBatchConfig,Te=0,mt=null,ct=null,_t=0,sn=0,qs=Ci(0),pt=0,rl=null,cs=0,Dd=0,lv=0,Ma=null,Kt=null,cv=0,go=1/0,Sr=null,Du=!1,Dh=null,fi=null,Sc=!1,oi=null,$u=0,Oa=0,$h=null,eu=-1,tu=0;function zt(){return Te&6?it():eu!==-1?eu:eu=it()}function pi(e){return e.mode&1?Te&2&&_t!==0?_t&-_t:lI.transition!==null?(tu===0&&(tu=Hk()),tu):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Xk(e.type)),e):1}function Hn(e,t,n,r){if(50<Oa)throw Oa=0,$h=null,Error(F(185));Bl(e,n,r),(!(Te&2)||e!==mt)&&(e===mt&&(!(Te&2)&&(Dd|=n),pt===4&&ii(e,_t)),Qt(e,r),n===1&&Te===0&&!(t.mode&1)&&(go=it()+500,Rd&&Ai()))}function Qt(e,t){var n=e.callbackNode;lO(e,t);var r=_u(e,e===mt?_t:0);if(r===0)n!==null&&n0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&n0(n),t===1)e.tag===0?aI(J0.bind(null,e)):y1(J0.bind(null,e)),rI(function(){!(Te&6)&&Ai()}),n=null;else{switch(Kk(r)){case 1:n=jg;break;case 4:n=qk;break;case 16:n=bu;break;case 536870912:n=Wk;break;default:n=bu}n=gx(n,cx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cx(e,t){if(eu=-1,tu=0,Te&6)throw Error(F(327));var n=e.callbackNode;if(ro()&&e.callbackNode!==n)return null;var r=_u(e,e===mt?_t:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fu(e,r);else{t=r;var i=Te;Te|=2;var s=dx();(mt!==e||_t!==t)&&(Sr=null,go=it()+500,ts(e,t));do try{AI();break}catch(a){ux(e,a)}while(!0);Jg(),Lu.current=s,Te=i,ct!==null?t=0:(mt=null,_t=0,t=pt)}if(t!==0){if(t===2&&(i=dh(e),i!==0&&(r=i,t=Fh(e,i))),t===1)throw n=rl,ts(e,0),ii(e,r),Qt(e,it()),n;if(t===6)ii(e,r);else{if(i=e.current.alternate,!(r&30)&&!EI(i)&&(t=Fu(e,r),t===2&&(s=dh(e),s!==0&&(r=s,t=Fh(e,s))),t===1))throw n=rl,ts(e,0),ii(e,r),Qt(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:$i(e,Kt,Sr);break;case 3:if(ii(e,r),(r&130023424)===r&&(t=cv+500-it(),10<t)){if(_u(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){zt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=wh($i.bind(null,e,Kt,Sr),t);break}$i(e,Kt,Sr);break;case 4:if(ii(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Wn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TI(r/1960))-r,10<r){e.timeoutHandle=wh($i.bind(null,e,Kt,Sr),r);break}$i(e,Kt,Sr);break;case 5:$i(e,Kt,Sr);break;default:throw Error(F(329))}}}return Qt(e,it()),e.callbackNode===n?cx.bind(null,e):null}function Fh(e,t){var n=Ma;return e.current.memoizedState.isDehydrated&&(ts(e,t).flags|=256),e=Fu(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&Vh(t)),e}function Vh(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function EI(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~lv,t&=~Dd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wn(t),r=1<<n;e[n]=-1,t&=~r}}function J0(e){if(Te&6)throw Error(F(327));ro();var t=_u(e,0);if(!(t&1))return Qt(e,it()),null;var n=Fu(e,t);if(e.tag!==0&&n===2){var r=dh(e);r!==0&&(t=r,n=Fh(e,r))}if(n===1)throw n=rl,ts(e,0),ii(e,t),Qt(e,it()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$i(e,Kt,Sr),Qt(e,it()),null}function uv(e,t){var n=Te;Te|=1;try{return e(t)}finally{Te=n,Te===0&&(go=it()+500,Rd&&Ai())}}function us(e){oi!==null&&oi.tag===0&&!(Te&6)&&ro();var t=Te;Te|=1;var n=Pn.transition,r=Ie;try{if(Pn.transition=null,Ie=1,e)return e()}finally{Ie=r,Pn.transition=n,Te=t,!(Te&6)&&Ai()}}function dv(){sn=qs.current,qe(qs)}function ts(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,nI(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(Wg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Eu();break;case 3:ho(),qe(Zt),qe(Nt),ev();break;case 5:Xg(r);break;case 4:ho();break;case 13:qe(Ze);break;case 19:qe(Ze);break;case 10:Gg(r.type._context);break;case 22:case 23:dv()}n=n.return}if(mt=e,ct=e=hi(e.current,null),_t=sn=t,pt=0,rl=null,lv=Dd=cs=0,Kt=Ma=null,Hi!==null){for(t=0;t<Hi.length;t++)if(n=Hi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hi=null}return e}function ux(e,t){do{var n=ct;try{if(Jg(),Yc.current=ju,Nu){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nu=!1}if(ls=0,ht=ft=Qe=null,Aa=!1,el=0,av.current=null,n===null||n.return===null){pt=1,rl=t,ct=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=j0(o);if(h!==null){h.flags&=-257,L0(h,o,a,s,t),h.mode&1&&N0(s,c,t),t=h,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){N0(s,c,t),fv();break e}l=Error(F(426))}}else if(Ke&&a.mode&1){var S=j0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),L0(S,o,a,s,t),Hg(mo(l,a));break e}}s=l=mo(l,a),pt!==4&&(pt=2),Ma===null?Ma=[s]:Ma.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=K1(s,l,t);A0(s,g);break e;case 1:a=l;var b=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fi===null||!fi.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var x=J1(s,a,t);A0(s,x);break e}}s=s.return}while(s!==null)}px(n)}catch(k){t=k,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function dx(){var e=Lu.current;return Lu.current=ju,e===null?ju:e}function fv(){(pt===0||pt===3||pt===2)&&(pt=4),mt===null||!(cs&268435455)&&!(Dd&268435455)||ii(mt,_t)}function Fu(e,t){var n=Te;Te|=2;var r=dx();(mt!==e||_t!==t)&&(Sr=null,ts(e,t));do try{CI();break}catch(i){ux(e,i)}while(!0);if(Jg(),Te=n,Lu.current=r,ct!==null)throw Error(F(261));return mt=null,_t=0,pt}function CI(){for(;ct!==null;)fx(ct)}function AI(){for(;ct!==null&&!XM();)fx(ct)}function fx(e){var t=mx(e.alternate,e,sn);e.memoizedProps=e.pendingProps,t===null?px(e):ct=t,av.current=null}function px(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=_I(n,t),n!==null){n.flags&=32767,ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ct=null;return}}else if(n=bI(n,t,sn),n!==null){ct=n;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);pt===0&&(pt=5)}function $i(e,t,n){var r=Ie,i=Pn.transition;try{Pn.transition=null,Ie=1,PI(e,t,n,r)}finally{Pn.transition=i,Ie=r}return null}function PI(e,t,n,r){do ro();while(oi!==null);if(Te&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(cO(e,s),e===mt&&(ct=mt=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sc||(Sc=!0,gx(bu,function(){return ro(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=Ie;Ie=1;var a=Te;Te|=4,av.current=null,kI(e,n),ax(n,e),GO(vh),Su=!!gh,vh=gh=null,e.current=n,xI(n),eO(),Te=a,Ie=o,Pn.transition=s}else e.current=n;if(Sc&&(Sc=!1,oi=e,$u=i),s=e.pendingLanes,s===0&&(fi=null),rO(n.stateNode),Qt(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,e=Dh,Dh=null,e;return $u&1&&e.tag!==0&&ro(),s=e.pendingLanes,s&1?e===$h?Oa++:(Oa=0,$h=e):Oa=0,Ai(),null}function ro(){if(oi!==null){var e=Kk($u),t=Pn.transition,n=Ie;try{if(Pn.transition=null,Ie=16>e?16:e,oi===null)var r=!1;else{if(e=oi,oi=null,$u=0,Te&6)throw Error(F(331));var i=Te;for(Te|=4,G=e.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(G=c;G!==null;){var u=G;switch(u.tag){case 0:case 11:case 15:Pa(8,u,s)}var d=u.child;if(d!==null)d.return=u,G=d;else for(;G!==null;){u=G;var p=u.sibling,h=u.return;if(ix(u),u===c){G=null;break}if(p!==null){p.return=h,G=p;break}G=h}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Pa(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,G=g;break e}G=s.return}}var b=e.current;for(G=b;G!==null;){o=G;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,G=_;else e:for(o=b;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ld(9,a)}}catch(k){tt(a,a.return,k)}if(a===o){G=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,G=x;break e}G=a.return}}if(Te=i,Ai(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Ad,e)}catch{}r=!0}return r}finally{Ie=n,Pn.transition=t}}return!1}function G0(e,t,n){t=mo(n,t),t=K1(e,t,1),e=di(e,t,1),t=zt(),e!==null&&(Bl(e,1,t),Qt(e,t))}function tt(e,t,n){if(e.tag===3)G0(e,e,n);else for(;t!==null;){if(t.tag===3){G0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fi===null||!fi.has(r))){e=mo(n,e),e=J1(t,e,1),t=di(t,e,1),e=zt(),t!==null&&(Bl(t,1,e),Qt(t,e));break}}t=t.return}}function MI(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=zt(),e.pingedLanes|=e.suspendedLanes&n,mt===e&&(_t&n)===n&&(pt===4||pt===3&&(_t&130023424)===_t&&500>it()-cv?ts(e,0):lv|=n),Qt(e,t)}function hx(e,t){t===0&&(e.mode&1?(t=fc,fc<<=1,!(fc&130023424)&&(fc=4194304)):t=1);var n=zt();e=Dr(e,t),e!==null&&(Bl(e,t,n),Qt(e,n))}function OI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hx(e,n)}function II(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),hx(e,n)}var mx;mx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,wI(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Ke&&t.flags&1048576&&w1(t,Pu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xc(e,t),e=t.pendingProps;var i=uo(t,Nt.current);no(t,n),i=nv(null,t,r,e,i,n);var s=rv();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(s=!0,Cu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Yg(t),i.updater=jd,t.stateNode=i,i._reactInternals=t,Eh(t,r,e,n),t=Ph(null,t,r,!0,s,n)):(t.tag=0,Ke&&s&&qg(t),Ft(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=NI(r),e=Vn(r,e),i){case 0:t=Ah(null,t,r,e,n);break e;case 1:t=F0(null,t,r,e,n);break e;case 11:t=D0(null,t,r,e,n);break e;case 14:t=$0(null,t,r,Vn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),Ah(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),F0(e,t,r,i,n);case 3:e:{if(Q1(t),e===null)throw Error(F(387));r=t.pendingProps,s=t.memoizedState,i=s.element,T1(e,t),Iu(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=mo(Error(F(423)),t),t=V0(e,t,r,n,i);break e}else if(r!==i){i=mo(Error(F(424)),t),t=V0(e,t,r,n,i);break e}else for(on=ui(t.stateNode.containerInfo.firstChild),cn=t,Ke=!0,Bn=null,n=k1(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fo(),r===i){t=$r(e,t,n);break e}Ft(e,t,r,n)}t=t.child}return t;case 5:return E1(t),e===null&&kh(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,yh(r,i)?o=null:s!==null&&yh(r,s)&&(t.flags|=32),Y1(e,t),Ft(e,t,o,n),t.child;case 6:return e===null&&kh(t),null;case 13:return X1(e,t,n);case 4:return Qg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=po(t,null,r,n):Ft(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),D0(e,t,r,i,n);case 7:return Ft(e,t,t.pendingProps,n),t.child;case 8:return Ft(e,t,t.pendingProps.children,n),t.child;case 12:return Ft(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,$e(Mu,r._currentValue),r._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!Zt.current){t=$r(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Or(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xh(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(F(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xh(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ft(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,no(t,n),i=On(i),r=r(i),t.flags|=1,Ft(e,t,r,n),t.child;case 14:return r=t.type,i=Vn(r,t.pendingProps),i=Vn(r.type,i),$0(e,t,r,i,n);case 15:return G1(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Vn(r,i),Xc(e,t),t.tag=1,Yt(r)?(e=!0,Cu(t)):e=!1,no(t,n),H1(t,r,i),Eh(t,r,i,n),Ph(null,t,r,!0,e,n);case 19:return ex(e,t,n);case 22:return Z1(e,t,n)}throw Error(F(156,t.tag))};function gx(e,t){return Uk(e,t)}function RI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,t,n,r){return new RI(e,t,n,r)}function pv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NI(e){if(typeof e=="function")return pv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ig)return 11;if(e===Rg)return 14}return 2}function hi(e,t){var n=e.alternate;return n===null?(n=En(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nu(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")pv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ns:return ns(n.children,i,s,t);case Og:o=8,i|=8;break;case Zp:return e=En(12,n,t,i|2),e.elementType=Zp,e.lanes=s,e;case Yp:return e=En(13,n,t,i),e.elementType=Yp,e.lanes=s,e;case Qp:return e=En(19,n,t,i),e.elementType=Qp,e.lanes=s,e;case Ek:return $d(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xk:o=10;break e;case Tk:o=9;break e;case Ig:o=11;break e;case Rg:o=14;break e;case Xr:o=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=En(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ns(e,t,n,r){return e=En(7,e,r,t),e.lanes=n,e}function $d(e,t,n,r){return e=En(22,e,r,t),e.elementType=Ek,e.lanes=n,e.stateNode={isHidden:!1},e}function Zf(e,t,n){return e=En(6,e,null,t),e.lanes=n,e}function Yf(e,t,n){return t=En(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jI(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hv(e,t,n,r,i,s,o,a,l){return e=new jI(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=En(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(s),e}function LI(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function vx(e){if(!e)return yi;e=e._reactInternals;e:{if(ks(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Yt(n))return v1(e,n,t)}return t}function yx(e,t,n,r,i,s,o,a,l){return e=hv(n,r,!0,e,i,s,o,a,l),e.context=vx(null),n=e.current,r=zt(),i=pi(n),s=Or(r,i),s.callback=t??null,di(n,s,i),e.current.lanes=i,Bl(e,i,r),Qt(e,r),e}function Fd(e,t,n,r){var i=t.current,s=zt(),o=pi(i);return n=vx(n),t.context===null?t.context=n:t.pendingContext=n,t=Or(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=di(i,t,o),e!==null&&(Hn(e,i,o,s),Zc(e,i,o)),o}function Vu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Z0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mv(e,t){Z0(e,t),(e=e.alternate)&&Z0(e,t)}function DI(){return null}var wx=typeof reportError=="function"?reportError:function(e){console.error(e)};function gv(e){this._internalRoot=e}Vd.prototype.render=gv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Fd(e,t,null,null)};Vd.prototype.unmount=gv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;us(function(){Fd(null,e,null,null)}),t[Lr]=null}};function Vd(e){this._internalRoot=e}Vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zk();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ri.length&&t!==0&&t<ri[n].priority;n++);ri.splice(n,0,e),n===0&&Qk(e)}};function vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function $I(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Vu(o);s.call(c)}}var o=yx(t,r,e,0,null,!1,!1,"",Y0);return e._reactRootContainer=o,e[Lr]=o.current,Ga(e.nodeType===8?e.parentNode:e),us(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Vu(l);a.call(c)}}var l=hv(e,0,!1,null,null,!1,!1,"",Y0);return e._reactRootContainer=l,e[Lr]=l.current,Ga(e.nodeType===8?e.parentNode:e),us(function(){Fd(t,l,n,r)}),l}function Bd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Vu(o);a.call(l)}}Fd(t,o,e,i)}else o=$I(n,t,e,i,r);return Vu(o)}Jk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(Lg(t,n|1),Qt(t,it()),!(Te&6)&&(go=it()+500,Ai()))}break;case 13:us(function(){var r=Dr(e,1);if(r!==null){var i=zt();Hn(r,e,1,i)}}),mv(e,1)}};Dg=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var n=zt();Hn(t,e,134217728,n)}mv(e,134217728)}};Gk=function(e){if(e.tag===13){var t=pi(e),n=Dr(e,t);if(n!==null){var r=zt();Hn(n,e,t,r)}mv(e,t)}};Zk=function(){return Ie};Yk=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};lh=function(e,t,n){switch(t){case"input":if(th(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Id(r);if(!i)throw Error(F(90));Ak(r),th(r,i)}}}break;case"textarea":Mk(e,n);break;case"select":t=n.value,t!=null&&Qs(e,!!n.multiple,t,!1)}};Dk=uv;$k=us;var FI={usingClientEntryPoint:!1,Events:[ql,$s,Id,jk,Lk,uv]},ea={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VI={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zk(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||DI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{Ad=kc.inject(VI),fr=kc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FI;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(t))throw Error(F(200));return LI(e,t,null,n)};mn.createRoot=function(e,t){if(!vv(e))throw Error(F(299));var n=!1,r="",i=wx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hv(e,1,!1,null,null,n,!1,r,i),e[Lr]=t.current,Ga(e.nodeType===8?e.parentNode:e),new gv(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=zk(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return us(e)};mn.hydrate=function(e,t,n){if(!zd(t))throw Error(F(200));return Bd(null,e,t,!0,n)};mn.hydrateRoot=function(e,t,n){if(!vv(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yx(t,null,e,1,n??null,i,!1,s,o),e[Lr]=t.current,Ga(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vd(t)};mn.render=function(e,t,n){if(!zd(t))throw Error(F(200));return Bd(null,e,t,!1,n)};mn.unmountComponentAtNode=function(e){if(!zd(e))throw Error(F(40));return e._reactRootContainer?(us(function(){Bd(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};mn.unstable_batchedUpdates=uv;mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zd(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Bd(e,t,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bx)}catch(e){console.error(e)}}bx(),bk.exports=mn;var zI=bk.exports,Q0=zI;Jp.createRoot=Q0.createRoot,Jp.hydrateRoot=Q0.hydrateRoot;const xn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ELEVENLABS_API_KEY:"sk_86ff15b3ad8b9da08ffe8ae0c1397dc7828eb00e708b5852",VITE_PICA_SECRET_KEY:"sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",VITE_TAVUS_API_KEY:"40ce96379c944b609b9671259afae13d"};let BI=0;function ee(e,t){const n=`atom${++BI}`,r={toString(){return(xn?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=UI,r.write=qI),t&&(r.write=t),r}function UI(e){return e(this)}function qI(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const X0=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,Qf=e=>"init"in e,Xf=e=>!!e.write,zu=new WeakMap,zh=e=>{var t;return Bh(e)&&!((t=zu.get(e))!=null&&t[1])},WI=(e,t)=>{const n=zu.get(e);if(n)n[1]=!0,n[0].forEach(r=>r(t));else if((xn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},HI=e=>{if(zu.has(e))return;const t=[new Set,!1];zu.set(e,t);const n=()=>{t[1]=!0};e.then(n,n),e.onCancel=r=>{t[0].add(r)}},Bh=e=>typeof(e==null?void 0:e.then)=="function",ew=e=>"v"in e||"e"in e,xc=e=>{if("e"in e)throw e.e;if((xn?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},_x=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},tw=(e,t,n,r,i)=>{var s;if((xn?"production":void 0)!=="production"&&r===t)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n),zh(n.v)&&_x(t,n.v,i),(s=i.m)==null||s.t.add(t),e&&KI(e,r,t)},Es=()=>[new Map,new Map,new Set],ep=(e,t,n)=>{e[0].has(t)||e[0].set(t,new Set),e[1].set(t,n)},KI=(e,t,n)=>{const r=e[0].get(t);r&&r.add(n)},JI=(e,t)=>e[0].get(t),nw=(e,t)=>{e[2].add(t)},Kr=e=>{let t,n=!1;const r=i=>{try{i()}catch(s){n||(t=s,n=!0)}};for(;e[1].size||e[2].size;){e[0].clear();const i=new Set(e[1].values());e[1].clear();const s=new Set(e[2]);e[2].clear(),i.forEach(o=>{var a;return(a=o.m)==null?void 0:a.l.forEach(r)}),s.forEach(r)}if(n)throw t},Sx=(...[e,t,n,r])=>{let i;(xn?"production":void 0)!=="production"&&(i=new Set);const s=(_,x,k)=>{const T="v"in x,A=x.v,M=zh(x.v)?x.v:null;if(Bh(k)){HI(k);for(const I of x.d.keys())_x(_,k,e(I));x.v=k,delete x.e}else x.v=k,delete x.e;(!T||!Object.is(A,x.v))&&(++x.n,M&&WI(M,k))},o=(_,x,k)=>{var T;const A=e(x);if(ew(A)&&(A.m&&!(k!=null&&k.has(x))||Array.from(A.d).every(([B,ne])=>o(_,B,k).n===ne)))return A;A.d.clear();let M=!0;const I=B=>{if(X0(x,B)){const ve=e(B);if(!ew(ve))if(Qf(B))s(B,ve,B.init);else throw new Error("no atom init");return xc(ve)}const ne=o(_,B,k);try{return xc(ne)}finally{if(M)tw(_,x,A,B,ne);else{const ve=Es();tw(ve,x,A,B,ne),h(ve,x,A),Kr(ve)}}};let N,H;const z={get signal(){return N||(N=new AbortController),N.signal},get setSelf(){return(xn?"production":void 0)!=="production"&&!Xf(x)&&console.warn("setSelf function cannot be used with read-only atom"),!H&&Xf(x)&&(H=(...B)=>{if((xn?"production":void 0)!=="production"&&M&&console.warn("setSelf function cannot be called in sync"),!M)return p(x,...B)}),H}};try{const B=t(x,I,z);if(s(x,A,B),Bh(B)){(T=B.onCancel)==null||T.call(B,()=>N==null?void 0:N.abort());const ne=()=>{if(A.m){const ve=Es();h(ve,x,A),Kr(ve)}};B.then(ne,ne)}return A}catch(B){return delete A.v,A.e=B,++A.n,A}finally{M=!1}},a=_=>xc(o(void 0,_)),l=(_,x,k)=>{var T,A;const M=new Map;for(const I of((T=k.m)==null?void 0:T.t)||[])M.set(I,e(I));for(const I of k.p)M.set(I,e(I));return(A=JI(_,x))==null||A.forEach(I=>{M.set(I,e(I))}),M};function c(_,x,k){const T=[],A=new Set,M=new Set,I=[[x,k]];for(;I.length>0;){const[N,H]=I[I.length-1];if(M.has(N)){I.pop();continue}if(A.has(N)){T.push([N,H,H.n]),M.add(N),I.pop();continue}A.add(N);for(const[z,B]of l(_,N,H))N!==z&&!A.has(z)&&I.push([z,B])}return[T,M]}const u=(_,x,k)=>{const[T,A]=c(_,x,k),M=new Set([x]);for(let I=T.length-1;I>=0;--I){const[N,H,z]=T[I];let B=!1;for(const ne of H.d.keys())if(ne!==N&&M.has(ne)){B=!0;break}B&&(o(_,N,A),h(_,N,H),z!==H.n&&(ep(_,N,H),M.add(N))),A.delete(N)}},d=(_,x,...k)=>{let T=!0;const A=I=>xc(o(_,I)),M=(I,...N)=>{const H=e(I);try{if(X0(x,I)){if(!Qf(I))throw new Error("atom not writable");const z=H.n,B=N[0];s(I,H,B),h(_,I,H),z!==H.n&&(ep(_,I,H),u(_,I,H));return}else return d(_,I,...N)}finally{T||Kr(_)}};try{return n(x,A,M,...k)}finally{T=!1}},p=(_,...x)=>{const k=Es();try{return d(k,_,...x)}finally{Kr(k)}},h=(_,x,k)=>{if(k.m&&!zh(k.v)){for(const T of k.d.keys())k.m.d.has(T)||(m(_,T,e(T)).t.add(x),k.m.d.add(T));for(const T of k.m.d||[])if(!k.d.has(T)){k.m.d.delete(T);const A=v(_,T,e(T));A==null||A.t.delete(x)}}},m=(_,x,k)=>{if(!k.m){o(_,x);for(const T of k.d.keys())m(_,T,e(T)).t.add(x);if(k.m={l:new Set,d:new Set(k.d.keys()),t:new Set},(xn?"production":void 0)!=="production"&&i.add(x),Xf(x)){const T=k.m;let A;const M=(I,N)=>{let H=!0;A=(...z)=>{try{return d(I,x,...z)}finally{H||Kr(I)}};try{return N()}finally{H=!1}};nw(_,()=>{const I=M(_,()=>r(x,(...N)=>A(...N)));I&&(T.u=N=>M(N,I))})}}return k.m},v=(_,x,k)=>{if(k.m&&!k.m.l.size&&!Array.from(k.m.t).some(T=>{var A;return(A=e(T).m)==null?void 0:A.d.has(x)})){const T=k.m.u;T&&nw(_,()=>T(_)),delete k.m,(xn?"production":void 0)!=="production"&&i.delete(x);for(const A of k.d.keys()){const M=v(_,A,e(A));M==null||M.t.delete(x)}return}return k.m},b={get:a,set:p,sub:(_,x)=>{const k=Es(),T=e(_),M=m(k,_,T).l;return M.add(x),Kr(k),()=>{M.delete(x);const I=Es();v(I,_,T),Kr(I)}},unstable_derive:_=>Sx(..._(e,t,n,r))};return(xn?"production":void 0)!=="production"&&Object.assign(b,{dev4_get_internal_weak_map:()=>({get:x=>{const k=e(x);if(k.n!==0)return k}}),dev4_get_mounted_atoms:()=>i,dev4_restore_atoms:x=>{const k=Es();for(const[T,A]of x)if(Qf(T)){const M=e(T),I=M.n;s(T,M,A),h(k,T,M),I!==M.n&&(ep(k,T,M),u(k,T,M))}Kr(k)}}),b},kx=()=>{const e=new WeakMap;return Sx(n=>{if((xn?"production":void 0)!=="production"&&!n)throw new Error("Atom is undefined or null");let r=e.get(n);return r||(r={d:new Map,p:new Set,n:0},e.set(n,r)),r},(n,...r)=>n.read(...r),(n,...r)=>n.write(...r),(n,...r)=>{var i;return(i=n.onMount)==null?void 0:i.call(n,...r)})};let ta;const xx=()=>(ta||(ta=kx(),(xn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ta),globalThis.__JOTAI_DEFAULT_STORE__!==ta&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ta),Tx={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ELEVENLABS_API_KEY:"sk_86ff15b3ad8b9da08ffe8ae0c1397dc7828eb00e708b5852",VITE_PICA_SECRET_KEY:"sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",VITE_TAVUS_API_KEY:"40ce96379c944b609b9671259afae13d"},Ex=P.createContext(void 0),Cx=e=>P.useContext(Ex)||xx(),GI=({children:e,store:t})=>{const n=P.useRef();return!t&&!n.current&&(n.current=kx()),P.createElement(Ex.Provider,{value:t||n.current},e)},Ax=e=>typeof(e==null?void 0:e.then)=="function",ZI=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},YI=xe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(ZI(e),e)}),tp=new WeakMap,QI=e=>{let t=tp.get(e);return t||(t=new Promise((n,r)=>{let i=e;const s=l=>c=>{i===l&&n(c)},o=l=>c=>{i===l&&r(c)},a=l=>{"onCancel"in l&&typeof l.onCancel=="function"&&l.onCancel(c=>{if((Tx?"production":void 0)!=="production"&&c===l)throw new Error("[Bug] p is not updated even after cancelation");Ax(c)?(tp.set(c,t),i=c,c.then(s(c),o(c)),a(c)):n(c)})};e.then(s(e),o(e)),a(e)}),tp.set(e,t)),t};function Pt(e,t){const n=Cx(),[[r,i,s],o]=P.useReducer(c=>{const u=n.get(e);return Object.is(c[0],u)&&c[1]===n&&c[2]===e?c:[u,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;if((i!==n||s!==e)&&(o(),a=n.get(e)),P.useEffect(()=>{const c=n.sub(e,()=>{o()});return o(),c},[n,e,void 0]),P.useDebugValue(a),Ax(a)){const c=QI(a);return YI(c)}return a}function Px(e,t){const n=Cx();return P.useCallback((...i)=>{if((Tx?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function bt(e,t){return[Pt(e),Px(e)]}const XI={currentScreen:"intro"},Ud=ee(XI),eR=()=>{const e=localStorage.getItem("user");return{isAuthenticated:!!e,user:e?JSON.parse(e):null,isLoading:!1}},io=ee(eR()),tR=ee(null,async(e,t,n)=>{t(io,r=>({...r,isLoading:!0}));try{await new Promise(i=>setTimeout(i,1e3));const r={id:"1",email:n.email,name:n.email.split("@")[0]};return localStorage.setItem("user",JSON.stringify(r)),t(io,{isAuthenticated:!0,user:r,isLoading:!1}),{success:!0}}catch{return t(io,i=>({...i,isLoading:!1})),{success:!1,error:"Invalid credentials"}}}),nR=ee(null,(e,t)=>{localStorage.removeItem("user"),t(io,{isAuthenticated:!1,user:null,isLoading:!1})}),rR=()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},Uh=ee(rR()),iR=ee(null,(e,t)=>{const r=e(Uh)==="light"?"dark":"light";localStorage.setItem("theme",r),t(Uh,r),document.documentElement.classList.toggle("dark",r==="dark")});function sR(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function oR(...e){return t=>e.forEach(n=>sR(n,t))}var Mx=P.forwardRef((e,t)=>{const{children:n,...r}=e,i=P.Children.toArray(n),s=i.find(lR);if(s){const o=s.props.children,a=i.map(l=>l===s?P.Children.count(o)>1?P.Children.only(null):P.isValidElement(o)?o.props.children:null:l);return C.jsx(qh,{...r,ref:t,children:P.isValidElement(o)?P.cloneElement(o,void 0,a):null})}return C.jsx(qh,{...r,ref:t,children:n})});Mx.displayName="Slot";var qh=P.forwardRef((e,t)=>{const{children:n,...r}=e;if(P.isValidElement(n)){const i=uR(n);return P.cloneElement(n,{...cR(r,n.props),ref:t?oR(t,i):i})}return P.Children.count(n)>1?P.Children.only(null):null});qh.displayName="SlotClone";var aR=({children:e})=>C.jsx(C.Fragment,{children:e});function lR(e){return P.isValidElement(e)&&e.type===aR}function cR(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function uR(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ox(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ox(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function yv(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ox(e))&&(r&&(r+=" "),r+=t);return r}const rw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,iw=yv,dR=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return iw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const p=rw(u)||rw(d);return i[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,p]=u;return p===void 0||(c[d]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:p,...h}=u;return Object.entries(h).every(m=>{let[v,S]=m;return Array.isArray(S)?S.includes({...s,...a}[v]):{...s,...a}[v]===S})?[...c,d,p]:c},[]);return iw(e,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},wv="-",fR=e=>{const t=hR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const a=o.split(wv);return a[0]===""&&a.length!==1&&a.shift(),Ix(a,t)||pR(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},Ix=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Ix(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(wv);return(o=t.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},sw=/^\[(.+)\]$/,pR=e=>{if(sw.test(e)){const t=sw.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},hR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return gR(Object.entries(e.classGroups),n).forEach(([s,o])=>{Wh(o,r,s,t)}),r},Wh=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:ow(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(mR(i)){Wh(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Wh(o,ow(t,s),n,r)})})},ow=(e,t)=>{let n=e;return t.split(wv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mR=e=>e.isThemeGetter,gR=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[t+o,a])):s);return[n,i]}):e,vR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},Rx="!",yR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=a=>{const l=[];let c=0,u=0,d;for(let S=0;S<a.length;S++){let g=a[S];if(c===0){if(g===i&&(r||a.slice(S,S+s)===t)){l.push(a.slice(u,S)),u=S+s;continue}if(g==="/"){d=S;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(u),h=p.startsWith(Rx),m=h?p.substring(1):p,v=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},wR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},bR=e=>({cache:vR(e.cacheSize),parseClassName:yR(e),...fR(e)}),_R=/\s+/,SR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(_R);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}=n(c);let m=!!h,v=r(m?p.substring(0,h):p);if(!v){if(!m){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}m=!1}const S=wR(u).join(":"),g=d?S+Rx:S,b=g+v;if(s.includes(b))continue;s.push(b);const _=i(v,m);for(let x=0;x<_.length;++x){const k=_[x];s.push(g+k)}a=c+(a.length>0?" "+a:a)}return a};function kR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=Nx(t))&&(r&&(r+=" "),r+=n);return r}const Nx=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Nx(e[r]))&&(n&&(n+=" "),n+=t);return n};function xR(e,...t){let n,r,i,s=o;function o(l){const c=t.reduce((u,d)=>d(u),e());return n=bR(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=SR(l,n);return i(l,u),u}return function(){return s(kR.apply(null,arguments))}}const Be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},jx=/^\[(?:([a-z-]+):)?(.+)\]$/i,TR=/^\d+\/\d+$/,ER=new Set(["px","full","screen"]),CR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wr=e=>so(e)||ER.has(e)||TR.test(e),Jr=e=>Vo(e,"length",FR),so=e=>!!e&&!Number.isNaN(Number(e)),np=e=>Vo(e,"number",so),na=e=>!!e&&Number.isInteger(Number(e)),IR=e=>e.endsWith("%")&&so(e.slice(0,-1)),pe=e=>jx.test(e),Gr=e=>CR.test(e),RR=new Set(["length","size","percentage"]),NR=e=>Vo(e,RR,Lx),jR=e=>Vo(e,"position",Lx),LR=new Set(["image","url"]),DR=e=>Vo(e,LR,zR),$R=e=>Vo(e,"",VR),ra=()=>!0,Vo=(e,t,n)=>{const r=jx.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},FR=e=>AR.test(e)&&!PR.test(e),Lx=()=>!1,VR=e=>MR.test(e),zR=e=>OR.test(e),BR=()=>{const e=Be("colors"),t=Be("spacing"),n=Be("blur"),r=Be("brightness"),i=Be("borderColor"),s=Be("borderRadius"),o=Be("borderSpacing"),a=Be("borderWidth"),l=Be("contrast"),c=Be("grayscale"),u=Be("hueRotate"),d=Be("invert"),p=Be("gap"),h=Be("gradientColorStops"),m=Be("gradientColorStopPositions"),v=Be("inset"),S=Be("margin"),g=Be("opacity"),b=Be("padding"),_=Be("saturate"),x=Be("scale"),k=Be("sepia"),T=Be("skew"),A=Be("space"),M=Be("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",pe,t],z=()=>[pe,t],B=()=>["",wr,Jr],ne=()=>["auto",so,pe],ve=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",pe],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[so,pe];return{cacheSize:500,separator:":",theme:{colors:[ra],spacing:[wr,Jr],blur:["none","",Gr,pe],brightness:Z(),borderColor:[e],borderRadius:["none","","full",Gr,pe],borderSpacing:z(),borderWidth:B(),contrast:Z(),grayscale:q(),hueRotate:Z(),invert:q(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[IR,Jr],inset:H(),margin:H(),opacity:Z(),padding:z(),saturate:Z(),scale:Z(),sepia:q(),skew:Z(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",pe]}],container:["container"],columns:[{columns:[Gr]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ve(),pe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",na,pe]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",pe]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",na,pe]}],"grid-cols":[{"grid-cols":[ra]}],"col-start-end":[{col:["auto",{span:["full",na,pe]},pe]}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":[ra]}],"row-start-end":[{row:["auto",{span:[na,pe]},pe]}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",pe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",pe,t]}],"min-w":[{"min-w":[pe,t,"min","max","fit"]}],"max-w":[{"max-w":[pe,t,"none","full","min","max","fit","prose",{screen:[Gr]},Gr]}],h:[{h:[pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Gr,Jr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",np]}],"font-family":[{font:[ra]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",pe]}],"line-clamp":[{"line-clamp":["none",so,np]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,pe]}],"list-image":[{"list-image":["none",pe]}],"list-style-type":[{list:["none","disc","decimal",pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,Jr]}],"underline-offset":[{"underline-offset":["auto",wr,pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ve(),jR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:me()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[wr,pe]}],"outline-w":[{outline:[wr,Jr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[wr,Jr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Gr,$R]}],"shadow-color":[{shadow:[ra]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Gr,pe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",pe]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",pe]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[na,pe]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wr,Jr,np]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dx=xR(BR);function ds(...e){return Dx(yv(e))}const UR=dR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg transform hover:-translate-y-0.5",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm hover:shadow-md",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-6 py-2",sm:"h-9 rounded-lg px-4 text-xs",lg:"h-12 rounded-xl px-8 text-base",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),an=P.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?Mx:"button";return C.jsx(o,{className:ds(UR({variant:t,size:n,className:e})),ref:s,...i})});an.displayName="Button";/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$x=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=P.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...WR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:$x("lucide",i),...a},[...o.map(([c,u])=>P.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=(e,t)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(HR,{ref:s,iconNode:t,className:$x(`lucide-${qR(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=xt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=xt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=xt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=xt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=xt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=xt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=xt("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=xt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=xt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=xt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=xt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=xt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=xt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=xt("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=xt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.461.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vx=()=>{const[,e]=bt(iR);return C.jsxs(an,{variant:"outline",size:"icon",onClick:e,className:"relative border-border/30 bg-background/50 hover:bg-primary/10 hover:border-primary/50",children:[C.jsx(rN,{className:"size-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),C.jsx(eN,{className:"absolute size-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),C.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},aN=P.memo(()=>{const[e]=bt(io),[,t]=bt(nR);return C.jsx("header",{className:"glass-effect border-b border-border/30 p-3 sm:p-4",children:C.jsxs("div",{className:"flex w-full items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[C.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"w-16 h-16 sm:w-20 sm:h-20 lg:w-24 lg:h-24 object-contain transition-all duration-300 hover:scale-105 filter drop-shadow-sm"}),C.jsxs("div",{className:"flex flex-col",children:[C.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-foreground",children:"Murphy's Kitchen"}),C.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground italic",children:"Anything can be cooked will be cooked"})]})]}),C.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[C.jsx("a",{href:"https://bolt.new",target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-105 hidden sm:block",children:C.jsx("img",{src:"/images/bolt.png",alt:"Built with Bolt",className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 object-contain"})}),C.jsx(Vx,{}),e.user&&C.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[C.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-2 rounded-xl bg-secondary/50 border border-border/30",children:[C.jsx(iN,{className:"size-3 sm:size-4 text-primary"}),C.jsx("span",{className:"text-xs sm:text-sm font-medium truncate max-w-24 sm:max-w-none",children:e.user.name})]}),C.jsx(an,{variant:"outline",size:"icon",onClick:t,className:"w-8 h-8 sm:w-10 sm:h-10 border-border/30 hover:bg-destructive hover:text-destructive-foreground hover:border-destructive",children:C.jsx(ZR,{className:"size-3 sm:size-4"})})]})]})]})})}),lN=()=>C.jsx("footer",{className:"flex w-full items-center justify-center p-3 sm:p-4",children:C.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[C.jsx("span",{children:"Made with"}),C.jsx(KR,{className:"size-3 sm:size-4 text-primary fill-primary"}),C.jsx("span",{children:"by Murphy's Kitchen"})]})}),Bu=P.forwardRef(({className:e,type:t,...n},r)=>C.jsx("input",{type:t,className:ds("flex h-11 w-full rounded-xl border border-input bg-background px-4 py-2 text-sm shadow-sm transition-all duration-200 file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 hover:border-primary/50",e),ref:r,...n}));Bu.displayName="Input";const cN=()=>{const[,e]=bt(tR),[t,n]=P.useState(""),[r,i]=P.useState(""),[s,o]=P.useState(!1),[a,l]=P.useState(""),c=async u=>{u.preventDefault(),o(!0),l("");const d=await e({email:t,password:r});d.success||l(d.error||"Login failed"),o(!1)};return C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center p-4 sm:p-6 relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary/5 rounded-full blur-xl animate-pulse hidden sm:block"}),C.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-accent/5 rounded-full blur-xl animate-pulse delay-1000 hidden sm:block"}),C.jsx("div",{className:"absolute top-1/2 right-10 w-16 h-16 bg-secondary/10 rounded-full blur-lg animate-pulse delay-500 hidden sm:block"}),C.jsxs("div",{className:"absolute top-4 sm:top-6 right-4 sm:right-6 z-10 flex items-center gap-2 sm:gap-3",children:[C.jsx("a",{href:"https://bolt.new",target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-105 hidden sm:block",children:C.jsx("img",{src:"/images/bolt.png",alt:"Built with Bolt",className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 object-contain"})}),C.jsx(Vx,{})]}),C.jsx("div",{className:"w-full max-w-md relative z-10",children:C.jsx("div",{className:"glass-effect rounded-2xl p-6 sm:p-8 shadow-2xl border border-border/50",children:C.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[C.jsxs("div",{className:"text-center space-y-4",children:[C.jsxs("div",{className:"flex flex-col items-center gap-4",children:[C.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"w-32 h-32 sm:w-48 sm:h-48 lg:w-64 lg:h-64 object-contain"}),C.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground italic font-medium",children:"Anything can be cooked will be cooked"})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-foreground",children:"Welcome Back"}),C.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Sign in to start cooking with AI"})]})]}),C.jsxs("form",{onSubmit:c,className:"space-y-4 sm:space-y-6",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"relative",children:[C.jsx(YR,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),C.jsx(Bu,{type:"email",placeholder:"Email address",value:t,onChange:u=>n(u.target.value),className:"pl-10 sm:pl-12 h-11 sm:h-12 bg-background/50 border-border/50 focus:bg-background text-sm sm:text-base",required:!0})]}),C.jsxs("div",{className:"relative",children:[C.jsx(GR,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 size-4 text-muted-foreground"}),C.jsx(Bu,{type:"password",placeholder:"Password",value:r,onChange:u=>i(u.target.value),className:"pl-10 sm:pl-12 h-11 sm:h-12 bg-background/50 border-border/50 focus:bg-background text-sm sm:text-base",required:!0})]})]}),a&&C.jsx("div",{className:"p-3 sm:p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:C.jsx("p",{className:"text-sm text-destructive font-medium",children:a})}),C.jsx(an,{type:"submit",disabled:s,className:"w-full h-11 sm:h-12 text-sm sm:text-base font-semibold",size:"lg",children:s?C.jsxs(C.Fragment,{children:[C.jsx(JR,{className:"size-4 animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),C.jsxs("div",{className:"space-y-3",children:[C.jsx("div",{className:"text-center",children:C.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Demo credentials: Any email and password"})}),C.jsx("div",{className:"flex justify-center sm:hidden",children:C.jsx("a",{href:"https://bolt.new",target:"_blank",rel:"noopener noreferrer",className:"transition-transform hover:scale-105",children:C.jsx("img",{src:"/images/bolt.png",alt:"Built with Bolt",className:"w-8 h-8 object-contain opacity-70 hover:opacity-100"})})})]})]})})})]})},uN=()=>{const e=localStorage.getItem("tavus-settings");return e?JSON.parse(e):{name:"",language:"en",interruptSensitivity:"medium",greeting:"",context:"",persona:"pcd2c84e5c66",replica:""}},dN=ee(uN());ee(!1);const fN=async e=>{const t=xx().get(dN);console.log("Creating conversation with settings:",t),console.log("Greeting value:",t.greeting),console.log("Context value:",t.context);let n="";t.name&&(n=`You are talking with the user, ${t.name}. Additional context: `),n+=t.context||"";let r;t.name&&t.name.trim()?r=`Hello ${t.name}, I am Murphy, your kitchen assistant. What dish should I help you with?`:r="Hello! I am Murphy, your kitchen assistant. What dish should I help you with?";const i={persona_id:t.persona||"pcd2c84e5c66",custom_greeting:r,conversational_context:n};console.log("Sending payload to API:",i);const s=await fetch("https://tavusapi.com/v2/conversations",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":e??""},body:JSON.stringify(i)});if(!(s!=null&&s.ok))throw new Error(`HTTP error! status: ${s.status}`);return await s.json()},pN=async(e,t)=>{try{if(!(await fetch(`https://tavusapi.com/v2/conversations/${t}/end`,{method:"POST",headers:{"x-api-key":e??""}})).ok)throw new Error("Failed to end conversation");return null}catch(n){throw console.error("Error:",n),n}};let zx=class extends HTMLElement{constructor(){super();Wt(this,"_propsToUpgrade",{});Wt(this,"shadow");Wt(this,"template");Wt(this,"defaultProps");Wt(this,"isAttached",!1);this.shadow=this.attachShadow({mode:"open"}),this.template=document.createElement("template")}storePropsToUpgrade(n){n.forEach(r=>{this.hasOwnProperty(r)&&this[r]!==void 0&&(this._propsToUpgrade[r]=this[r],delete this[r])})}upgradeStoredProps(){Object.entries(this._propsToUpgrade).forEach(([n,r])=>{this.setAttribute(n,r)})}reflect(n){n.forEach(r=>{Object.defineProperty(this,r,{set(i){"string,number".includes(typeof i)?this.setAttribute(r,i.toString()):this.removeAttribute(r)},get(){return this.getAttribute(r)}})})}applyDefaultProps(n){this.defaultProps=n,Object.entries(n).forEach(([r,i])=>{this[r]=this[r]||i.toString()})}};var lw=':host{align-items:center;display:inline-flex;flex-shrink:0;height:calc(var(--uib-size)*.8);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{--uib-dot-size:calc(var(--uib-size)*0.1);height:calc(var(--uib-size)*.64);position:relative;width:calc(var(--uib-size)*.64)}.container,.dot{align-items:center;display:flex;justify-content:flex-start}.dot{--uib-d1:-0.48;--uib-d2:-0.4;--uib-d3:-0.32;--uib-d4:-0.24;--uib-d5:-0.16;--uib-d6:-0.08;--uib-d7:-0;animation:jump var(--uib-speed) ease-in-out infinite;backface-visibility:hidden;bottom:calc(var(--uib-bottom) + var(--uib-dot-size)/2);height:var(--uib-dot-size);opacity:var(--uib-scale);position:absolute;right:calc(var(--uib-right) + var(--uib-dot-size)/2);width:var(--uib-dot-size);will-change:transform}.dot:before{background-color:var(--uib-color);border-radius:50%;content:"";height:100%;transform:scale(var(--uib-scale));transition:background-color .3s ease;width:100%}.dot:first-child{--uib-bottom:24%;--uib-right:-35%;animation-delay:calc(var(--uib-speed)*var(--uib-d1))}.dot:nth-child(2){--uib-bottom:16%;--uib-right:-6%;animation-delay:calc(var(--uib-speed)*var(--uib-d2))}.dot:nth-child(3){--uib-bottom:8%;--uib-right:23%;animation-delay:calc(var(--uib-speed)*var(--uib-d3))}.dot:nth-child(4){--uib-bottom:-1%;--uib-right:51%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(5){--uib-bottom:38%;--uib-right:-17.5%;animation-delay:calc(var(--uib-speed)*var(--uib-d2))}.dot:nth-child(6){--uib-bottom:30%;--uib-right:10%;animation-delay:calc(var(--uib-speed)*var(--uib-d3))}.dot:nth-child(7){--uib-bottom:22%;--uib-right:39%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(8){--uib-bottom:14%;--uib-right:67%;animation-delay:calc(var(--uib-speed)*var(--uib-d5))}.dot:nth-child(9){--uib-bottom:53%;--uib-right:-0.8%;animation-delay:calc(var(--uib-speed)*var(--uib-d3))}.dot:nth-child(10){--uib-bottom:44.5%;--uib-right:27%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(11){--uib-bottom:36%;--uib-right:55.7%;animation-delay:calc(var(--uib-speed)*var(--uib-d5))}.dot:nth-child(12){--uib-bottom:28.7%;--uib-right:84.3%;animation-delay:calc(var(--uib-speed)*var(--uib-d6))}.dot:nth-child(13){--uib-bottom:66.8%;--uib-right:15%;animation-delay:calc(var(--uib-speed)*var(--uib-d4))}.dot:nth-child(14){--uib-bottom:58.8%;--uib-right:43%;animation-delay:calc(var(--uib-speed)*var(--uib-d5))}.dot:nth-child(15){--uib-bottom:50%;--uib-right:72%;animation-delay:calc(var(--uib-speed)*var(--uib-d6))}.dot:nth-child(16){--uib-bottom:42%;--uib-right:100%;animation-delay:calc(var(--uib-speed)*var(--uib-d7))}.dot:nth-child(3){--uib-scale:0.98}.dot:nth-child(2),.dot:nth-child(8){--uib-scale:0.96}.dot:first-child,.dot:nth-child(7){--uib-scale:0.94}.dot:nth-child(12),.dot:nth-child(6){--uib-scale:0.92}.dot:nth-child(11),.dot:nth-child(5){--uib-scale:0.9}.dot:nth-child(10),.dot:nth-child(16){--uib-scale:0.88}.dot:nth-child(15),.dot:nth-child(9){--uib-scale:0.86}.dot:nth-child(14){--uib-scale:0.84}.dot:nth-child(13){--uib-scale:0.82}@keyframes jump{0%,to{transform:translateY(120%)}50%{transform:translateY(-120%)}}';let cw=class extends zx{constructor(){super();Wt(this,"_attributes",["size","color","speed"]);Wt(this,"size");Wt(this,"color");Wt(this,"speed");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:60,color:"black",speed:1.5}),this.template.innerHTML=`
      <div class="container">
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
        }
        ${lw}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const n=this.shadow.querySelector("style");n&&(n.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
      }
      ${lw}
    `)}};var hN={register:(e="l-grid")=>{customElements.get(e)||customElements.define(e,class extends cw{})},element:cw},uw=':host{align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-size);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{animation:rotate calc(var(--uib-speed)*4) linear infinite;height:var(--uib-size);position:relative;width:var(--uib-size)}@keyframes rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.particle{align-items:center;display:flex;height:100%;justify-content:center;left:0;position:absolute;top:0;width:100%}.particle:first-child{--uib-delay:0;transform:rotate(8deg)}.particle:nth-child(2){--uib-delay:-0.4;transform:rotate(36deg)}.particle:nth-child(3){--uib-delay:-0.9;transform:rotate(72deg)}.particle:nth-child(4){--uib-delay:-0.5;transform:rotate(90deg)}.particle:nth-child(5){--uib-delay:-0.3;transform:rotate(144deg)}.particle:nth-child(6){--uib-delay:-0.2;transform:rotate(180deg)}.particle:nth-child(7){--uib-delay:-0.6;transform:rotate(216deg)}.particle:nth-child(8){--uib-delay:-0.7;transform:rotate(252deg)}.particle:nth-child(9){--uib-delay:-0.1;transform:rotate(300deg)}.particle:nth-child(10){--uib-delay:-0.8;transform:rotate(324deg)}.particle:nth-child(11){--uib-delay:-1.2;transform:rotate(335deg)}.particle:nth-child(12){--uib-delay:-0.5;transform:rotate(290deg)}.particle:nth-child(13){--uib-delay:-0.2;transform:rotate(240deg)}.particle:before{--uib-d:calc(var(--uib-delay)*var(--uib-speed));animation:orbit var(--uib-speed) linear var(--uib-d) infinite;background-color:var(--uib-color);border-radius:50%;content:"";flex-shrink:0;height:17.5%;position:absolute;transition:background-color .3s ease;width:17.5%}@keyframes orbit{0%{opacity:.65;transform:translate(calc(var(--uib-size)*.5)) scale(.73684)}5%{opacity:.58;transform:translate(calc(var(--uib-size)*.4)) scale(.684208)}10%{opacity:.51;transform:translate(calc(var(--uib-size)*.3)) scale(.631576)}15%{opacity:.44;transform:translate(calc(var(--uib-size)*.2)) scale(.578944)}20%{opacity:.37;transform:translate(calc(var(--uib-size)*.1)) scale(.526312)}25%{opacity:.3;transform:translate(0) scale(.47368)}30%{opacity:.37;transform:translate(calc(var(--uib-size)*-.1)) scale(.526312)}35%{opacity:.44;transform:translate(calc(var(--uib-size)*-.2)) scale(.578944)}40%{opacity:.51;transform:translate(calc(var(--uib-size)*-.3)) scale(.631576)}45%{opacity:.58;transform:translate(calc(var(--uib-size)*-.4)) scale(.684208)}50%{opacity:.65;transform:translate(calc(var(--uib-size)*-.5)) scale(.73684)}55%{opacity:.72;transform:translate(calc(var(--uib-size)*-.4)) scale(.789472)}60%{opacity:.79;transform:translate(calc(var(--uib-size)*-.3)) scale(.842104)}65%{opacity:.86;transform:translate(calc(var(--uib-size)*-.2)) scale(.894736)}70%{opacity:.93;transform:translate(calc(var(--uib-size)*-.1)) scale(.947368)}75%{opacity:1;transform:translate(0) scale(1)}80%{opacity:.93;transform:translate(calc(var(--uib-size)*.1)) scale(.947368)}85%{opacity:.86;transform:translate(calc(var(--uib-size)*.2)) scale(.894736)}90%{opacity:.79;transform:translate(calc(var(--uib-size)*.3)) scale(.842104)}95%{opacity:.72;transform:translate(calc(var(--uib-size)*.4)) scale(.789472)}to{opacity:.65;transform:translate(calc(var(--uib-size)*.5)) scale(.73684)}}';let dw=class extends zx{constructor(){super();Wt(this,"_attributes",["size","color","speed"]);Wt(this,"size");Wt(this,"color");Wt(this,"speed");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:45,color:"black",speed:1.75}),this.template.innerHTML=`
      <div class="container">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
        }
        ${uw}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const n=this.shadow.querySelector("style");n&&(n.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
      }
      ${uw}
    `)}};var Hl={register:(e="l-quantum")=>{customElements.get(e)||customElements.define(e,class extends dw{})},element:dw};Hl.register();/*! js-cookie v3.0.5 | MIT */function Tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var mN={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Hh(e,t){function n(i,s,o){if(!(typeof document>"u")){o=Tc({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var l=s[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=e.read(c,u),i===u)break}catch{}}return i?o[i]:o}}return Object.create({set:n,get:r,remove:function(i,s){n(i,"",Tc({},s,{expires:-1}))},withAttributes:function(i){return Hh(this.converter,Tc({},this.attributes,i))},withConverter:function(i){return Hh(Tc({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}Hh(mN,{path:"/"});function Uu(...e){return Dx(yv(e))}function gN(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function qd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Kh=e=>Array.isArray(e);function Bx(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function il(e){return typeof e=="string"||Array.isArray(e)}function fw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function bv(e,t,n,r){if(typeof t=="function"){const[i,s]=fw(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=fw(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Wd(e,t,n){const r=e.getProps();return bv(r,t,n!==void 0?n:r.custom,e)}const _v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sv=["initial",..._v],Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xs=new Set(Kl),Ir=e=>e*1e3,Rr=e=>e/1e3,vN={type:"spring",stiffness:500,damping:25,restSpeed:10},yN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wN={type:"keyframes",duration:.8},bN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_N=(e,{keyframes:t})=>t.length>2?wN:xs.has(e)?e.startsWith("scale")?yN(t[1]):vN:bN;function kv(e,t){return e?e[t]||e.default||e:void 0}const SN={skipAnimations:!1,useManualTiming:!1},kN=e=>e!==null;function Hd(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(kN),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const un=e=>e;let Jh=un;function xN(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),e()),c(o)}const l={schedule:(c,u=!1,d=!1)=>{const h=d&&r?t:n;return u&&s.add(c),h.has(c)||h.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Ec=["read","resolveKeyframes","update","preRender","render","postRender"],TN=40;function Ux(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Ec.reduce((g,b)=>(g[b]=xN(s),g),{}),{read:a,resolveKeyframes:l,update:c,preRender:u,render:d,postRender:p}=o,h=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,TN),1),i.timestamp=g,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},m=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:Ec.reduce((g,b)=>{const _=o[b];return g[b]=(x,k=!1,T=!1)=>(n||m(),_.schedule(x,k,T)),g},{}),cancel:g=>{for(let b=0;b<Ec.length;b++)o[Ec[b]].cancel(g)},state:i,steps:o}}const{schedule:We,cancel:wi,state:yt,steps:rp}=Ux(typeof requestAnimationFrame<"u"?requestAnimationFrame:un,!0),qx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,EN=1e-7,CN=12;function AN(e,t,n,r,i){let s,o,a=0;do o=t+(n-t)/2,s=qx(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>EN&&++a<CN);return o}function Jl(e,t,n,r){if(e===t&&n===r)return un;const i=s=>AN(s,0,1,e,n);return s=>s===0||s===1?s:qx(i(s),t,r)}const Wx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hx=e=>t=>1-e(1-t),Kx=Jl(.33,1.53,.69,.99),xv=Hx(Kx),Jx=Wx(xv),Gx=e=>(e*=2)<1?.5*xv(e):.5*(2-Math.pow(2,-10*(e-1))),Tv=e=>1-Math.sin(Math.acos(e)),Zx=Hx(Tv),Yx=Wx(Tv),Qx=e=>/^0[^.\s]+$/u.test(e);function PN(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Qx(e):!0}const Xx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),eT=e=>t=>typeof t=="string"&&t.startsWith(e),tT=eT("--"),MN=eT("var(--"),Ev=e=>MN(e)?ON.test(e.split("/*")[0].trim()):!1,ON=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,IN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RN(e){const t=IN.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function nT(e,t,n=1){const[r,i]=RN(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return Xx(o)?parseFloat(o):o}return Ev(i)?nT(i,t,n+1):i}const Fr=(e,t,n)=>n>t?t:n<e?e:n,zo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sl={...zo,transform:e=>Fr(0,1,e)},Cc={...zo,default:1},Gl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Yr=Gl("deg"),hr=Gl("%"),re=Gl("px"),NN=Gl("vh"),jN=Gl("vw"),pw={...hr,parse:e=>hr.parse(e)/100,transform:e=>hr.transform(e*100)},LN=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hw=e=>e===zo||e===re,mw=(e,t)=>parseFloat(e.split(", ")[t]),gw=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return mw(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?mw(s[1],e):0}},DN=new Set(["x","y","z"]),$N=Kl.filter(e=>!DN.has(e));function FN(e){const t=[];return $N.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const vo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gw(4,13),y:gw(5,14)};vo.translateX=vo.x;vo.translateY=vo.y;const rT=e=>t=>t.test(e),VN={test:e=>e==="auto",parse:e=>e},iT=[zo,re,hr,Yr,jN,NN,VN],vw=e=>iT.find(rT(e)),rs=new Set;let Gh=!1,Zh=!1;function sT(){if(Zh){const e=Array.from(rs).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=FN(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zh=!1,Gh=!1,rs.forEach(e=>e.complete()),rs.clear()}function oT(){rs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zh=!0)})}function zN(){oT(),sT()}class Cv{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(rs.add(this),Gh||(Gh=!0,We.read(oT),We.resolveKeyframes(sT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Ia=e=>Math.round(e*1e5)/1e5,Av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BN(e){return e==null}const UN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pv=(e,t)=>n=>!!(typeof n=="string"&&UN.test(n)&&n.startsWith(e)||t&&!BN(n)&&Object.prototype.hasOwnProperty.call(n,t)),aT=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Av);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qN=e=>Fr(0,255,e),ip={...zo,transform:e=>Math.round(qN(e))},Ji={test:Pv("rgb","red"),parse:aT("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ip.transform(e)+", "+ip.transform(t)+", "+ip.transform(n)+", "+Ia(sl.transform(r))+")"};function WN(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yh={test:Pv("#"),parse:WN,transform:Ji.transform},Ws={test:Pv("hsl","hue"),parse:aT("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+hr.transform(Ia(t))+", "+hr.transform(Ia(n))+", "+Ia(sl.transform(r))+")"},Ct={test:e=>Ji.test(e)||Yh.test(e)||Ws.test(e),parse:e=>Ji.test(e)?Ji.parse(e):Ws.test(e)?Ws.parse(e):Yh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ji.transform(e):Ws.transform(e)},HN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function KN(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Av))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(HN))===null||n===void 0?void 0:n.length)||0)>0}const lT="number",cT="color",JN="var",GN="var(",yw="${}",ZN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ol(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=t.replace(ZN,l=>(Ct.test(l)?(r.color.push(s),i.push(cT),n.push(Ct.parse(l))):l.startsWith(GN)?(r.var.push(s),i.push(JN),n.push(l)):(r.number.push(s),i.push(lT),n.push(parseFloat(l))),++s,yw)).split(yw);return{values:n,split:a,indexes:r,types:i}}function uT(e){return ol(e).values}function dT(e){const{split:t,types:n}=ol(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const a=n[o];a===lT?s+=Ia(i[o]):a===cT?s+=Ct.transform(i[o]):s+=i[o]}return s}}const YN=e=>typeof e=="number"?0:e;function QN(e){const t=uT(e);return dT(e)(t.map(YN))}const bi={test:KN,parse:uT,createTransformer:dT,getAnimatableNone:QN},XN=new Set(["brightness","contrast","saturate","opacity"]);function ej(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Av)||[];if(!r)return e;const i=n.replace(r,"");let s=XN.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const tj=/\b([a-z-]*)\(.*?\)/gu,Qh={...bi,getAnimatableNone:e=>{const t=e.match(tj);return t?t.map(ej).join(" "):e}},nj={borderWidth:re,borderTopWidth:re,borderRightWidth:re,borderBottomWidth:re,borderLeftWidth:re,borderRadius:re,radius:re,borderTopLeftRadius:re,borderTopRightRadius:re,borderBottomRightRadius:re,borderBottomLeftRadius:re,width:re,maxWidth:re,height:re,maxHeight:re,top:re,right:re,bottom:re,left:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,backgroundPositionX:re,backgroundPositionY:re},rj={rotate:Yr,rotateX:Yr,rotateY:Yr,rotateZ:Yr,scale:Cc,scaleX:Cc,scaleY:Cc,scaleZ:Cc,skew:Yr,skewX:Yr,skewY:Yr,distance:re,translateX:re,translateY:re,translateZ:re,x:re,y:re,z:re,perspective:re,transformPerspective:re,opacity:sl,originX:pw,originY:pw,originZ:re},ww={...zo,transform:Math.round},Mv={...nj,...rj,zIndex:ww,size:re,fillOpacity:sl,strokeOpacity:sl,numOctaves:ww},ij={...Mv,color:Ct,backgroundColor:Ct,outlineColor:Ct,fill:Ct,stroke:Ct,borderColor:Ct,borderTopColor:Ct,borderRightColor:Ct,borderBottomColor:Ct,borderLeftColor:Ct,filter:Qh,WebkitFilter:Qh},Ov=e=>ij[e];function fT(e,t){let n=Ov(e);return n!==Qh&&(n=bi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const sj=new Set(["auto","none","0"]);function oj(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!sj.has(s)&&ol(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=fT(n,i)}class pT extends Cv{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Ev(c))){const u=nT(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!LN.has(r)||t.length!==2)return;const[i,s]=t,o=vw(i),a=vw(s);if(o!==a)if(hw(o)&&hw(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)PN(t[i])&&r.push(i);r.length&&oj(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=vo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function Iv(e){return typeof e=="function"}let iu;function aj(){iu=void 0}const mr={now:()=>(iu===void 0&&mr.set(yt.isProcessing||SN.useManualTiming?yt.timestamp:performance.now()),iu),set:e=>{iu=e,queueMicrotask(aj)}},bw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bi.test(e)||e==="0")&&!e.startsWith("url("));function lj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cj(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=bw(i,t),a=bw(s,t);return!o||!a?!1:lj(e)||(n==="spring"||Iv(n))&&r}const uj=40;class hT{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mr.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&zN(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=mr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!cj(t,r,i,s))if(o)this.options.duration=0;else{l==null||l(Hd(t,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const u=this.initPlayback(t,n);u!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const yo=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},mT=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(yo(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function gT(e,t){return t?e*(1e3/t):0}const dj=5;function vT(e,t,n){const r=Math.max(t-dj,0);return gT(n-e(r),t-r)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function fj({duration:e=et.duration,bounce:t=et.bounce,velocity:n=et.velocity,mass:r=et.mass}){let i,s,o=1-t;o=Fr(et.minDamping,et.maxDamping,o),e=Fr(et.minDuration,et.maxDuration,Rr(e)),o<1?(i=c=>{const u=c*o,d=u*e,p=u-n,h=Xh(c,o),m=Math.exp(-d);return sp-p/h*m},s=c=>{const d=c*o*e,p=d*n+n,h=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),v=Xh(Math.pow(c,2),o);return(-i(c)+sp>0?-1:1)*((p-h)*m)/v}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-sp+u*d},s=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=hj(i,s,a);if(e=Ir(e),isNaN(l))return{stiffness:et.stiffness,damping:et.damping,duration:e};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:e}}}const pj=12;function hj(e,t,n){let r=n;for(let i=1;i<pj;i++)r=r-e(r)/t(r);return r}function Xh(e,t){return e*Math.sqrt(1-t*t)}const em=2e4;function yT(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<em;)t+=n,r=e.next(t);return t>=em?1/0:t}const mj=["duration","bounce"],gj=["stiffness","damping","mass"];function _w(e,t){return t.some(n=>e[n]!==void 0)}function vj(e){let t={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...e};if(!_w(e,gj)&&_w(e,mj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fr(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:et.mass,stiffness:i,damping:s}}else{const n=fj(e);t={...t,...n,mass:et.mass},t.isResolvedFromDuration=!0}return t}function wT(e=et.visualDuration,t=et.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:p,isResolvedFromDuration:h}=vj({...n,velocity:-Rr(n.velocity||0)}),m=p||0,v=c/(2*Math.sqrt(l*u)),S=o-s,g=Rr(Math.sqrt(l/u)),b=Math.abs(S)<5;r||(r=b?et.restSpeed.granular:et.restSpeed.default),i||(i=b?et.restDelta.granular:et.restDelta.default);let _;if(v<1){const k=Xh(g,v);_=T=>{const A=Math.exp(-v*g*T);return o-A*((m+v*g*S)/k*Math.sin(k*T)+S*Math.cos(k*T))}}else if(v===1)_=k=>o-Math.exp(-g*k)*(S+(m+g*S)*k);else{const k=g*Math.sqrt(v*v-1);_=T=>{const A=Math.exp(-v*g*T),M=Math.min(k*T,300);return o-A*((m+v*g*S)*Math.sinh(M)+k*S*Math.cosh(M))/k}}const x={calculatedDuration:h&&d||null,next:k=>{const T=_(k);if(h)a.done=k>=d;else{let A=0;v<1&&(A=k===0?Ir(m):vT(_,k,T));const M=Math.abs(A)<=r,I=Math.abs(o-T)<=i;a.done=M&&I}return a.value=a.done?o:T,a},toString:()=>{const k=Math.min(yT(x),em),T=mT(A=>x.next(k*A).value,k,30);return k+"ms "+T}};return x}function Sw({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],p={done:!1,value:d},h=M=>a!==void 0&&M<a||l!==void 0&&M>l,m=M=>a===void 0?l:l===void 0||Math.abs(a-M)<Math.abs(l-M)?a:l;let v=n*t;const S=d+v,g=o===void 0?S:o(S);g!==S&&(v=g-d);const b=M=>-v*Math.exp(-M/r),_=M=>g+b(M),x=M=>{const I=b(M),N=_(M);p.done=Math.abs(I)<=c,p.value=p.done?g:N};let k,T;const A=M=>{h(p.value)&&(k=M,T=wT({keyframes:[p.value,m(p.value)],velocity:vT(_,M,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:M=>{let I=!1;return!T&&k===void 0&&(I=!0,x(M),A(M)),k!==void 0&&M>=k?T.next(M-k):(!I&&x(M),p)}}}const yj=Jl(.42,0,1,1),wj=Jl(0,0,.58,1),bT=Jl(.42,0,.58,1),bj=e=>Array.isArray(e)&&typeof e[0]!="number",Rv=e=>Array.isArray(e)&&typeof e[0]=="number",kw={linear:un,easeIn:yj,easeInOut:bT,easeOut:wj,circIn:Tv,circInOut:Yx,circOut:Zx,backIn:xv,backInOut:Jx,backOut:Kx,anticipate:Gx},xw=e=>{if(Rv(e)){Jh(e.length===4);const[t,n,r,i]=e;return Jl(t,n,r,i)}else if(typeof e=="string")return Jh(kw[e]!==void 0),kw[e];return e},_j=(e,t)=>n=>t(e(n)),Zl=(...e)=>e.reduce(_j),Ye=(e,t,n)=>e+(t-e)*n;function op(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Sj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=op(l,a,e+1/3),s=op(l,a,e),o=op(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function qu(e,t){return n=>n>0?t:e}const ap=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},kj=[Yh,Ji,Ws],xj=e=>kj.find(t=>t.test(e));function Tw(e){const t=xj(e);if(!t)return!1;let n=t.parse(e);return t===Ws&&(n=Sj(n)),n}const Ew=(e,t)=>{const n=Tw(e),r=Tw(t);if(!n||!r)return qu(e,t);const i={...n};return s=>(i.red=ap(n.red,r.red,s),i.green=ap(n.green,r.green,s),i.blue=ap(n.blue,r.blue,s),i.alpha=Ye(n.alpha,r.alpha,s),Ji.transform(i))},tm=new Set(["none","hidden"]);function Tj(e,t){return tm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Ej(e,t){return n=>Ye(e,t,n)}function Nv(e){return typeof e=="number"?Ej:typeof e=="string"?Ev(e)?qu:Ct.test(e)?Ew:Pj:Array.isArray(e)?_T:typeof e=="object"?Ct.test(e)?Ew:Cj:qu}function _T(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>Nv(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Cj(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=Nv(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Aj(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][i[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const Pj=(e,t)=>{const n=bi.createTransformer(t),r=ol(e),i=ol(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?tm.has(e)&&!i.values.length||tm.has(t)&&!r.values.length?Tj(e,t):Zl(_T(Aj(r,i),i.values),n):qu(e,t)};function ST(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ye(e,t,n):Nv(e)(e,t)}function Mj(e,t,n){const r=[],i=n||ST,s=e.length-1;for(let o=0;o<s;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||un:t;a=Zl(l,a)}r.push(a)}return r}function Oj(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Jh(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Mj(t,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=yo(e[u],e[u+1],c);return o[u](d)};return n?c=>l(Fr(e[0],e[s-1],c)):l}function Ij(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=yo(0,t,r);e.push(Ye(n,1,i))}}function Rj(e){const t=[0];return Ij(t,e.length-1),t}function Nj(e,t){return e.map(n=>n*t)}function jj(e,t){return e.map(()=>t||bT).splice(0,e.length-1)}function Wu({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=bj(r)?r.map(xw):xw(r),s={done:!1,value:t[0]},o=Nj(n&&n.length===t.length?n:Rj(t),e),a=Oj(o,t,{ease:Array.isArray(i)?i:jj(t,i)});return{calculatedDuration:e,next:l=>(s.value=a(l),s.done=l>=e,s)}}const Lj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>We.update(t,!0),stop:()=>wi(t),now:()=>yt.isProcessing?yt.timestamp:mr.now()}},Dj={decay:Sw,inertia:Sw,tween:Wu,keyframes:Wu,spring:wT},$j=e=>e/100;class jv extends hT{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||Cv,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Iv(n)?n:Dj[n]||Wu;let l,c;a!==Wu&&typeof t[0]!="number"&&(l=Zl($j,ST(t[0],t[1])),t=[0,100]);const u=a({...this.options,keyframes:t});s==="mirror"&&(c=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=yT(u));const{calculatedDuration:d}=u,p=d+i,h=p*(r+1)-i;return{generator:u,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:p,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:h,repeatType:m,repeatDelay:v,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-u/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-p*(this.speed>=0?1:-1),b=this.speed>=0?g<0:g>u;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let _=this.currentTime,x=s;if(h){const M=Math.min(this.currentTime,u)/d;let I=Math.floor(M),N=M%1;!N&&M>=1&&(N=1),N===1&&I--,I=Math.min(I,h+1),!!(I%2)&&(m==="reverse"?(N=1-N,v&&(N-=v/d)):m==="mirror"&&(x=o)),_=Fr(0,1,N)*d}const k=b?{done:!1,value:l[0]}:x.next(_);a&&(k.value=a(k.value));let{done:T}=k;!b&&c!==null&&(T=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return A&&i!==void 0&&(k.value=Hd(l,this.options,i)),S&&S(k.value),A&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Rr(t.calculatedDuration):0}get time(){return Rr(this.currentTime)}set time(t){t=Ir(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Rr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Lj,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Fj=new Set(["opacity","clipPath","filter","transform"]);function Lv(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vj={linearEasing:void 0};function zj(e,t){const n=Lv(e);return()=>{var r;return(r=Vj[t])!==null&&r!==void 0?r:n()}}const Hu=zj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function kT(e){return!!(typeof e=="function"&&Hu()||!e||typeof e=="string"&&(e in nm||Hu())||Rv(e)||Array.isArray(e)&&e.every(kT))}const ga=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,nm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ga([0,.65,.55,1]),circOut:ga([.55,0,1,.45]),backIn:ga([.31,.01,.66,-.59]),backOut:ga([.33,1.53,.69,.99])};function xT(e,t){if(e)return typeof e=="function"&&Hu()?mT(e,t):Rv(e)?ga(e):Array.isArray(e)?e.map(n=>xT(n,t)||nm.easeOut):nm[e]}function Bj(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=xT(a,i);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Cw(e,t){e.timeline=t,e.onfinish=null}const Uj=Lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ku=10,qj=2e4;function Wj(e){return Iv(e.type)||e.type==="spring"||!kT(e.ease)}function Hj(e,t){const n=new jv({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<qj;)r=n.sample(s),i.push(r.value),s+=Ku;return{times:void 0,keyframes:i,duration:s-Ku,ease:"linear"}}const TT={anticipate:Gx,backInOut:Jx,circInOut:Yx};function Kj(e){return e in TT}class Aw extends hT{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new pT(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Hu()&&Kj(o)&&(o=TT[o]),Wj(this.options)){const{onComplete:p,onUpdate:h,motionValue:m,element:v,...S}=this.options,g=Hj(t,S);t=g.keyframes,t.length===1&&(t[1]=t[0]),i=g.duration,s=g.times,o=g.ease,a="keyframes"}const d=Bj(l.owner.current,c,t,{...this.options,duration:i,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Cw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;l.set(Hd(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Rr(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Rr(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ir(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return un;const{animation:r}=n;Cw(r,t)}return un}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:u,onComplete:d,element:p,...h}=this.options,m=new jv({...h,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),v=Ir(this.time);c.setWithVelocity(m.sample(v-Ku).value,m.sample(v).value,Ku)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=t;return Uj()&&r&&Fj.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const Jj=Lv(()=>window.ScrollTimeline!==void 0);class Gj{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>Jj()&&i.attachTimeline?i.attachTimeline(t):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Zj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Dv=(e,t,n,r={},i,s)=>o=>{const a=kv(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ir(l);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};Zj(a)||(u={...u,..._N(e,u)}),u.duration&&(u.duration=Ir(u.duration)),u.repeatDelay&&(u.repeatDelay=Ir(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&t.get()!==void 0){const p=Hd(u.keyframes,a);if(p!==void 0)return We.update(()=>{u.onUpdate(p),u.onComplete()}),new Gj([])}return!s&&Aw.supports(u)?new Aw(u):new jv(u)},Yj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Qj=e=>Kh(e)?e[e.length-1]||0:e;function $v(e,t){e.indexOf(t)===-1&&e.push(t)}function Fv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Vv{constructor(){this.subscriptions=[]}add(t){return $v(this.subscriptions,t),()=>Fv(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pw=30,Xj=e=>!isNaN(parseFloat(e));class eL{constructor(t,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=mr.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=mr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Xj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Vv);const r=this.events[t].add(n);return t==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Pw);return gT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function al(e,t){return new eL(e,t)}function tL(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,al(n))}function nL(e,t){const n=Wd(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=Qj(s[o]);tL(e,o,a)}}const zv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rL="framerAppearId",ET="data-"+zv(rL);function CT(e){return e.props[ET]}const Rt=e=>!!(e&&e.getVelocity);function iL(e){return!!(Rt(e)&&e.add)}function rm(e,t){const n=e.getValue("willChange");if(iL(n))return n.add(t)}function sL({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function AT(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const p=e.getValue(d,(s=e.latestValues[d])!==null&&s!==void 0?s:null),h=l[d];if(h===void 0||u&&sL(u,d))continue;const m={delay:n,...kv(o||{},d)};let v=!1;if(window.MotionHandoffAnimation){const g=CT(e);if(g){const b=window.MotionHandoffAnimation(g,d,We);b!==null&&(m.startTime=b,v=!0)}}rm(e,d),p.start(Dv(d,p,h,e.shouldReduceMotion&&xs.has(d)?{type:!1}:m,e,v));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{We.update(()=>{a&&nL(e,a)})}),c}function im(e,t,n={}){var r;const i=Wd(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(AT(e,i,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:p}=s;return oL(e,t,u+c,d,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,u]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function oL(e,t,n=0,r=0,i=1,s){const o=[],a=(e.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(e.variantChildren).sort(aL).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(im(c,t,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function aL(e,t){return e.sortNodePosition(t)}function lL(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>im(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=im(e,t,n);else{const i=typeof t=="function"?Wd(e,t,n.custom):t;r=Promise.all(AT(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const cL=Sv.length;function PT(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?PT(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cL;n++){const r=Sv[n],i=e.props[r];(il(i)||i===!1)&&(t[r]=i)}return t}const uL=[..._v].reverse(),dL=_v.length;function fL(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lL(e,n,r)))}function pL(e){let t=fL(e),n=Mw(),r=!0;const i=l=>(c,u)=>{var d;const p=Wd(e,u,l==="exit"?(d=e.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(p){const{transition:h,transitionEnd:m,...v}=p;c={...c,...v,...m}}return c};function s(l){t=l(e)}function o(l){const{props:c}=e,u=PT(e.parent)||{},d=[],p=new Set;let h={},m=1/0;for(let S=0;S<dL;S++){const g=uL[S],b=n[g],_=c[g]!==void 0?c[g]:u[g],x=il(_),k=g===l?b.isActive:null;k===!1&&(m=S);let T=_===u[g]&&_!==c[g]&&x;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),b.protectedKeys={...h},!b.isActive&&k===null||!_&&!b.prevProp||qd(_)||typeof _=="boolean")continue;const A=hL(b.prevProp,_);let M=A||g===l&&b.isActive&&!T&&x||S>m&&x,I=!1;const N=Array.isArray(_)?_:[_];let H=N.reduce(i(g),{});k===!1&&(H={});const{prevResolvedValues:z={}}=b,B={...z,...H},ne=ie=>{M=!0,p.has(ie)&&(I=!0,p.delete(ie)),b.needsAnimating[ie]=!0;const j=e.getValue(ie);j&&(j.liveStyle=!1)};for(const ie in B){const j=H[ie],q=z[ie];if(h.hasOwnProperty(ie))continue;let U=!1;Kh(j)&&Kh(q)?U=!Bx(j,q):U=j!==q,U?j!=null?ne(ie):p.add(ie):j!==void 0&&p.has(ie)?ne(ie):b.protectedKeys[ie]=!0}b.prevProp=_,b.prevResolvedValues=H,b.isActive&&(h={...h,...H}),r&&e.blockInitialAnimation&&(M=!1),M&&(!(T&&A)||I)&&d.push(...N.map(ie=>({animation:ie,options:{type:g}})))}if(p.size){const S={};p.forEach(g=>{const b=e.getBaseTarget(g),_=e.getValue(g);_&&(_.liveStyle=!0),S[g]=b??null}),d.push({animation:S})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(d):Promise.resolve()}function a(l,c){var u;if(n[l].isActive===c)return Promise.resolve();(u=e.variantChildren)===null||u===void 0||u.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Mw(),r=!0}}}function hL(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Bx(t,e):!1}function Ii(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mw(){return{animate:Ii(!0),whileInView:Ii(),whileHover:Ii(),whileTap:Ii(),whileDrag:Ii(),whileFocus:Ii(),exit:Ii()}}class Pi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mL extends Pi{constructor(t){super(t),t.animationState||(t.animationState=pL(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let gL=0;class vL extends Pi{constructor(){super(...arguments),this.id=gL++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yL={animation:{Feature:mL},exit:{Feature:vL}},Fn={x:!1,y:!1};function MT(){return Fn.x||Fn.y}function wL(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function OT(e,t){const n=wL(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function Ow(e){return t=>{t.pointerType==="touch"||MT()||e(t)}}function bL(e,t,n={}){const[r,i,s]=OT(e,n),o=Ow(a=>{const{target:l}=a,c=t(a);if(!c||!l)return;const u=Ow(d=>{c(d),l.removeEventListener("pointerleave",u)});l.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const Bv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,va=new WeakSet;function Iw(e){return t=>{t.key==="Enter"&&e(t)}}function lp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _L=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Iw(()=>{if(va.has(n))return;lp(n,"down");const i=Iw(()=>{lp(n,"up")}),s=()=>lp(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)},SL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kL(e){return SL.has(e.tagName)||e.tabIndex!==-1}const IT=(e,t)=>t?e===t?!0:IT(e,t.parentElement):!1;function Rw(e){return Bv(e)&&!MT()}function xL(e,t,n={}){const[r,i,s]=OT(e,n),o=a=>{const l=a.currentTarget;if(!Rw(a)||va.has(l))return;va.add(l);const c=t(a),u=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),!(!Rw(h)||!va.has(l))&&(va.delete(l),c&&c(h,{success:m}))},d=h=>{u(h,n.useGlobalTarget||IT(l,h.target))},p=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{kL(a)||(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>_L(c,i),i)}),s}function TL(e){return e==="x"||e==="y"?Fn[e]?null:(Fn[e]=!0,()=>{Fn[e]=!1}):Fn.x||Fn.y?null:(Fn.x=Fn.y=!0,()=>{Fn.x=Fn.y=!1})}function Yl(e){return{point:{x:e.pageX,y:e.pageY}}}const EL=e=>t=>Bv(t)&&e(t,Yl(t));function ll(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ra(e,t,n,r){return ll(e,t,EL(n),r)}const Nw=(e,t)=>Math.abs(e-t);function CL(e,t){const n=Nw(e.x,t.x),r=Nw(e.y,t.y);return Math.sqrt(n**2+r**2)}class RT{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=up(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=CL(d.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:m}=d,{timestamp:v}=yt;this.history.push({...m,timestamp:v});const{onStart:S,onMove:g}=this.handlers;p||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=cp(p,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=up(d.type==="pointercancel"?this.lastMoveEventInfo:cp(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,S),m&&m(d,S)},!Bv(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Yl(t),a=cp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=yt;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,up(a,this.history)),this.removeListeners=Zl(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function cp(e,t){return t?{point:t(e.point)}:e}function jw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function up({point:e},t){return{point:e,delta:jw(e,NT(t)),offset:jw(e,AL(t)),velocity:PL(t,.1)}}function AL(e){return e[0]}function NT(e){return e[e.length-1]}function PL(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=NT(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ir(t)));)n--;if(!r)return{x:0,y:0};const s=Rr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Hs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const jT=1e-4,ML=1-jT,OL=1+jT,LT=.01,IL=0-LT,RL=0+LT;function fn(e){return e.max-e.min}function NL(e,t,n){return Math.abs(e-t)<=n}function Lw(e,t,n,r=.5){e.origin=r,e.originPoint=Ye(t.min,t.max,e.origin),e.scale=fn(n)/fn(t),e.translate=Ye(n.min,n.max,e.origin)-e.originPoint,(e.scale>=ML&&e.scale<=OL||isNaN(e.scale))&&(e.scale=1),(e.translate>=IL&&e.translate<=RL||isNaN(e.translate))&&(e.translate=0)}function Na(e,t,n,r){Lw(e.x,t.x,n.x,r?r.originX:void 0),Lw(e.y,t.y,n.y,r?r.originY:void 0)}function Dw(e,t,n){e.min=n.min+t.min,e.max=e.min+fn(t)}function jL(e,t,n){Dw(e.x,t.x,n.x),Dw(e.y,t.y,n.y)}function $w(e,t,n){e.min=t.min-n.min,e.max=e.min+fn(t)}function ja(e,t,n){$w(e.x,t.x,n.x),$w(e.y,t.y,n.y)}function LL(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ye(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ye(n,e,r.max):Math.min(e,n)),e}function Fw(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function DL(e,{top:t,left:n,bottom:r,right:i}){return{x:Fw(e.x,n,i),y:Fw(e.y,t,r)}}function Vw(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function $L(e,t){return{x:Vw(e.x,t.x),y:Vw(e.y,t.y)}}function FL(e,t){let n=.5;const r=fn(e),i=fn(t);return i>r?n=yo(t.min,t.max-r,e.min):r>i&&(n=yo(e.min,e.max-i,t.min)),Fr(0,1,n)}function VL(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const sm=.35;function zL(e=sm){return e===!1?e=0:e===!0&&(e=sm),{x:zw(e,"left","right"),y:zw(e,"top","bottom")}}function zw(e,t,n){return{min:Bw(e,t),max:Bw(e,n)}}function Bw(e,t){return typeof e=="number"?e:e[t]||0}const Uw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ks=()=>({x:Uw(),y:Uw()}),qw=()=>({min:0,max:0}),rt=()=>({x:qw(),y:qw()});function _n(e){return[e("x"),e("y")]}function DT({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function BL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function UL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dp(e){return e===void 0||e===1}function om({scale:e,scaleX:t,scaleY:n}){return!dp(e)||!dp(t)||!dp(n)}function Fi(e){return om(e)||$T(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $T(e){return Ww(e.x)||Ww(e.y)}function Ww(e){return e&&e!=="0%"}function Ju(e,t,n){const r=e-n,i=t*r;return n+i}function Hw(e,t,n,r,i){return i!==void 0&&(e=Ju(e,i,r)),Ju(e,n,r)+t}function am(e,t=0,n=1,r,i){e.min=Hw(e.min,t,n,r,i),e.max=Hw(e.max,t,n,r,i)}function FT(e,{x:t,y:n}){am(e.x,t.translate,t.scale,t.originPoint),am(e.y,n.translate,n.scale,n.originPoint)}const Kw=.999999999999,Jw=1.0000000000001;function qL(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gs(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,FT(e,o)),r&&Fi(s.latestValues)&&Gs(e,s.latestValues))}t.x<Jw&&t.x>Kw&&(t.x=1),t.y<Jw&&t.y>Kw&&(t.y=1)}function Js(e,t){e.min=e.min+t,e.max=e.max+t}function Gw(e,t,n,r,i=.5){const s=Ye(e.min,e.max,i);am(e,t,n,s,r)}function Gs(e,t){Gw(e.x,t.x,t.scaleX,t.scale,t.originX),Gw(e.y,t.y,t.scaleY,t.scale,t.originY)}function VT(e,t){return DT(UL(e.getBoundingClientRect(),t))}function WL(e,t,n){const r=VT(e,n),{scroll:i}=t;return i&&(Js(r.x,i.offset.x),Js(r.y,i.offset.y)),r}const zT=({current:e})=>e?e.ownerDocument.defaultView:null,HL=new WeakMap;class KL{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yl(u).point)},s=(u,d)=>{const{drag:p,dragPropagation:h,onDragStart:m}=this.getProps();if(p&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TL(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_n(S=>{let g=this.getAxisMotionValue(S).get()||0;if(hr.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[S];_&&(g=fn(_)*(parseFloat(g)/100))}}this.originPoint[S]=g}),m&&We.postRender(()=>m(u,d)),rm(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:m,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=d;if(h&&this.currentDirection===null){this.currentDirection=JL(S),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),v&&v(u,d)},a=(u,d)=>this.stop(u,d),l=()=>_n(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new RT(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:zT(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&We.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Ac(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=LL(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Hs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=DL(i.layoutBox,n):this.constraints=!1,this.elastic=zL(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_n(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=VL(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hs(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=WL(r,i.root,this.visualElement.getTransformPagePoint());let o=$L(i.layout.layoutBox,s);if(n){const a=n(BL(o));this.hasMutatedConstraints=!!a,a&&(o=DT(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=_n(u=>{if(!Ac(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const p=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?t[u]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return rm(this.visualElement,t),r.start(Dv(t,r,0,n,this.visualElement,!1))}stopAnimation(){_n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_n(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){_n(n=>{const{drag:r}=this.getProps();if(!Ac(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(t[n]-Ye(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_n(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=FL({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_n(o=>{if(!Ac(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ye(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;HL.set(this.visualElement,this);const t=this.visualElement.current,n=Ra(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Hs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),We.read(r);const o=ll(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(_n(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=sm,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ac(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function JL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class GL extends Pi{constructor(t){super(t),this.removeGroupControls=un,this.removeListeners=un,this.controls=new KL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zw=e=>(t,n)=>{e&&We.postRender(()=>e(t,n))};class ZL extends Pi{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(t){this.session=new RT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Zw(t),onStart:Zw(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&We.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uv=P.createContext(null);function YL(){const e=P.useContext(Uv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=P.useId();P.useEffect(()=>r(i),[]);const s=P.useCallback(()=>n&&n(i),[i,n]);return!t&&n?[!1,s]:[!0]}const BT=P.createContext({}),UT=P.createContext({}),su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ia={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(re.test(e))e=parseFloat(e);else return e;const n=Yw(e,t.target.x),r=Yw(e,t.target.y);return`${n}% ${r}%`}},QL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=bi.parse(e);if(i.length>5)return r;const s=bi.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Ye(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Gu={};function XL(e){Object.assign(Gu,e)}const{schedule:qv,cancel:v6}=Ux(queueMicrotask,!1);class eD extends P.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;XL(tD),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),su.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qT(e){const[t,n]=YL(),r=P.useContext(BT);return C.jsx(eD,{...e,layoutGroup:r,switchLayoutGroup:P.useContext(UT),isPresent:t,safeToRemove:n})}const tD={borderRadius:{...ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ia,borderTopRightRadius:ia,borderBottomLeftRadius:ia,borderBottomRightRadius:ia,boxShadow:QL},WT=["TopLeft","TopRight","BottomLeft","BottomRight"],nD=WT.length,Qw=e=>typeof e=="string"?parseFloat(e):e,Xw=e=>typeof e=="number"||re.test(e);function rD(e,t,n,r,i,s){i?(e.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,iD(r)),e.opacityExit=Ye(t.opacity!==void 0?t.opacity:1,0,sD(r))):s&&(e.opacity=Ye(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<nD;o++){const a=`border${WT[o]}Radius`;let l=eb(t,a),c=eb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Xw(l)===Xw(c)?(e[a]=Math.max(Ye(Qw(l),Qw(c),r),0),(hr.test(c)||hr.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Ye(t.rotate||0,n.rotate||0,r))}function eb(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iD=HT(0,.5,Zx),sD=HT(.5,.95,un);function HT(e,t,n){return r=>r<e?0:r>t?1:n(yo(e,t,r))}function tb(e,t){e.min=t.min,e.max=t.max}function bn(e,t){tb(e.x,t.x),tb(e.y,t.y)}function nb(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function rb(e,t,n,r,i){return e-=t,e=Ju(e,1/n,r),i!==void 0&&(e=Ju(e,1/i,r)),e}function oD(e,t=0,n=1,r=.5,i,s=e,o=e){if(hr.test(t)&&(t=parseFloat(t),t=Ye(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Ye(s.min,s.max,r);e===s&&(a-=t),e.min=rb(e.min,t,n,a,i),e.max=rb(e.max,t,n,a,i)}function ib(e,t,[n,r,i],s,o){oD(e,t[n],t[r],t[i],t.scale,s,o)}const aD=["x","scaleX","originX"],lD=["y","scaleY","originY"];function sb(e,t,n,r){ib(e.x,t,aD,n?n.x:void 0,r?r.x:void 0),ib(e.y,t,lD,n?n.y:void 0,r?r.y:void 0)}function ob(e){return e.translate===0&&e.scale===1}function KT(e){return ob(e.x)&&ob(e.y)}function ab(e,t){return e.min===t.min&&e.max===t.max}function cD(e,t){return ab(e.x,t.x)&&ab(e.y,t.y)}function lb(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function JT(e,t){return lb(e.x,t.x)&&lb(e.y,t.y)}function cb(e){return fn(e.x)/fn(e.y)}function ub(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class uD{constructor(){this.members=[]}add(t){$v(this.members,t),t.scheduleRender()}remove(t){if(Fv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dD(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:p,skewX:h,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const fD=(e,t)=>e.depth-t.depth;class pD{constructor(){this.children=[],this.isDirty=!1}add(t){$v(this.children,t),this.isDirty=!0}remove(t){Fv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(fD),this.isDirty=!1,this.children.forEach(t)}}function ou(e){const t=Rt(e)?e.get():e;return Yj(t)?t.toValue():t}function hD(e,t){const n=mr.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(wi(r),e(s-t))};return We.read(r,!0),()=>wi(r)}function mD(e){return e instanceof SVGElement&&e.tagName!=="svg"}function gD(e,t,n){const r=Rt(e)?e:al(e);return r.start(Dv("",r,t,n)),r.animation}const Vi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ya=typeof window<"u"&&window.MotionDebug!==void 0,fp=["","X","Y","Z"],vD={visibility:"hidden"},db=1e3;let yD=0;function pp(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function GT(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=CT(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",We,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&GT(r)}function ZT({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=yD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ya&&(Vi.totalNodes=Vi.resolvedTargetDeltas=Vi.recalculatedProjection=0),this.nodes.forEach(_D),this.nodes.forEach(ED),this.nodes.forEach(CD),this.nodes.forEach(SD),ya&&window.MotionDebug.record(Vi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pD)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Vv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mD(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const p=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=hD(p,250),su.hasAnimatedSinceResize&&(su.hasAnimatedSinceResize=!1,this.nodes.forEach(pb))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||ID,{onLayoutAnimationStart:S,onLayoutAnimationComplete:g}=u.getProps(),b=!this.targetLayout||!JT(this.targetLayout,m)||h,_=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const x={...kv(v,"layout"),onPlay:S,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else p||pb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AD),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fb);return}this.isUpdating||this.nodes.forEach(xD),this.isUpdating=!1,this.nodes.forEach(TD),this.nodes.forEach(wD),this.nodes.forEach(bD),this.clearAllSnapshots();const a=mr.now();yt.delta=Fr(0,1e3/60,a-yt.timestamp),yt.timestamp=a,yt.isProcessing=!0,rp.update.process(yt),rp.preRender.process(yt),rp.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kD),this.sharedNodes.forEach(PD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!KT(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Fi(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),RD(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(ND))){const{scroll:u}=this.root;u&&(Js(l.x,u.offset.x),Js(l.y,u.offset.y))}return l}removeElementScroll(o){var a;const l=rt();if(bn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:p}=u;u!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&bn(l,o),Js(l.x,d.offset.x),Js(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=rt();bn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Gs(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Fi(u.latestValues)&&Gs(l,u.latestValues)}return Fi(this.latestValues)&&Gs(l,this.latestValues),l}removeTransform(o){const a=rt();bn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Fi(c.latestValues))continue;om(c.latestValues)&&c.updateSnapshot();const u=rt(),d=c.measurePageBox();bn(u,d),sb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Fi(this.latestValues)&&sb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!(!this.layout||!(d||p))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ja(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),FT(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ja(this.relativeTargetOrigin,this.target,h.target),bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ya&&Vi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||om(this.parent.latestValues)||$T(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;bn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;qL(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nb(this.prevProjectionDelta.x,this.projectionDelta.x),nb(this.prevProjectionDelta.y,this.projectionDelta.y)),Na(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!ub(this.projectionDelta.x,this.prevProjectionDelta.x)||!ub(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ya&&Vi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ks(),this.projectionDelta=Ks(),this.projectionDeltaWithTransform=Ks()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Ks();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=rt(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=h!==m,S=this.getStack(),g=!S||S.members.length<=1,b=!!(v&&!g&&this.options.crossfade===!0&&!this.path.some(OD));this.animationProgress=0;let _;this.mixTargetDelta=x=>{const k=x/1e3;hb(d.x,o.x,k),hb(d.y,o.y,k),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ja(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MD(this.relativeTarget,this.relativeTargetOrigin,p,k),_&&cD(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=rt()),bn(_,this.relativeTarget)),v&&(this.animationValues=u,rD(u,c,this.latestValues,k,b,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{su.hasAnimatedSinceResize=!0,this.currentAnimation=gD(0,db,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(db),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&YT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rt();const d=fn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const p=fn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}bn(a,l),Gs(a,u),Na(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uD),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&pp("z",o,c,this.animationValues);for(let u=0;u<fp.length;u++)pp(`rotate${fp[u]}`,o,c,this.animationValues),pp(`skew${fp[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vD;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ou(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ou(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Fi(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=dD(this.projectionDeltaWithTransform,this.treeScale,p),u&&(c.transform=u(p,c.transform));const{x:h,y:m}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const v in Gu){if(p[v]===void 0)continue;const{correct:S,applyTo:g}=Gu[v],b=c.transform==="none"?p[v]:S(p[v],d);if(g){const _=g.length;for(let x=0;x<_;x++)c[g[x]]=b}else c[v]=b}return this.options.layoutId&&(c.pointerEvents=d===this?ou(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(fb),this.root.sharedNodes.clear()}}}function wD(e){e.updateLayout()}function bD(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?_n(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],h=fn(p);p.min=r[d].min,p.max=p.min+h}):YT(s,n.layoutBox,r)&&_n(d=>{const p=o?n.measuredBox[d]:n.layoutBox[d],h=fn(r[d]);p.max=p.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+h)});const a=Ks();Na(a,r,n.layoutBox);const l=Ks();o?Na(l,e.applyTransform(i,!0),n.measuredBox):Na(l,r,n.layoutBox);const c=!KT(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:h}=d;if(p&&h){const m=rt();ja(m,n.layoutBox,p.layoutBox);const v=rt();ja(v,r,h.layoutBox),JT(m,v)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _D(e){ya&&Vi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function SD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kD(e){e.clearSnapshot()}function fb(e){e.clearMeasurements()}function xD(e){e.isLayoutDirty=!1}function TD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function pb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ED(e){e.resolveTargetDelta()}function CD(e){e.calcProjection()}function AD(e){e.resetSkewAndRotation()}function PD(e){e.removeLeadSnapshot()}function hb(e,t,n){e.translate=Ye(t.translate,0,n),e.scale=Ye(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function mb(e,t,n,r){e.min=Ye(t.min,n.min,r),e.max=Ye(t.max,n.max,r)}function MD(e,t,n,r){mb(e.x,t.x,n.x,r),mb(e.y,t.y,n.y,r)}function OD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ID={duration:.45,ease:[.4,0,.1,1]},gb=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),vb=gb("applewebkit/")&&!gb("chrome/")?Math.round:un;function yb(e){e.min=vb(e.min),e.max=vb(e.max)}function RD(e){yb(e.x),yb(e.y)}function YT(e,t,n){return e==="position"||e==="preserve-aspect"&&!NL(cb(t),cb(n),.2)}function ND(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const jD=ZT({attachResizeListener:(e,t)=>ll(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hp={current:void 0},QT=ZT({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hp.current){const e=new jD({});e.mount(window),e.setOptions({layoutScroll:!0}),hp.current=e}return hp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LD={pan:{Feature:ZL},drag:{Feature:GL,ProjectionNode:QT,MeasureLayout:qT}};function wb(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&We.postRender(()=>s(t,Yl(t)))}class DD extends Pi{mount(){const{current:t}=this.node;t&&(this.unmount=bL(t,n=>(wb(this.node,n,"Start"),r=>wb(this.node,r,"End"))))}unmount(){}}class $D extends Pi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zl(ll(this.node.current,"focus",()=>this.onFocus()),ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bb(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&We.postRender(()=>s(t,Yl(t)))}class FD extends Pi{mount(){const{current:t}=this.node;t&&(this.unmount=xL(t,n=>(bb(this.node,n,"Start"),(r,{success:i})=>bb(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lm=new WeakMap,mp=new WeakMap,VD=e=>{const t=lm.get(e.target);t&&t(e)},zD=e=>{e.forEach(VD)};function BD({root:e,...t}){const n=e||document;mp.has(n)||mp.set(n,{});const r=mp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(zD,{root:e,...t})),r[i]}function UD(e,t,n){const r=BD(t);return lm.set(e,n),r.observe(e),()=>{lm.delete(e),r.unobserve(e)}}const qD={some:0,all:1};class WD extends Pi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:qD[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),p=c?u:d;p&&p(l)};return UD(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(HD(t,n))&&this.startObserver()}unmount(){}}function HD({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const KD={inView:{Feature:WD},tap:{Feature:FD},focus:{Feature:$D},hover:{Feature:DD}},JD={layout:{ProjectionNode:QT,MeasureLayout:qT}},XT=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Kd=P.createContext({}),Wv=typeof window<"u",GD=Wv?P.useLayoutEffect:P.useEffect,eE=P.createContext({strict:!1});function ZD(e,t,n,r,i){var s,o;const{visualElement:a}=P.useContext(Kd),l=P.useContext(eE),c=P.useContext(Uv),u=P.useContext(XT).reducedMotion,d=P.useRef(null);r=r||l.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const p=d.current,h=P.useContext(UT);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&YD(d.current,n,i,h);const m=P.useRef(!1);P.useInsertionEffect(()=>{p&&m.current&&p.update(n,c)});const v=n[ET],S=P.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return GD(()=>{p&&(m.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),qv.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,v)}),S.current=!1))}),p}function YD(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Hs(a),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function tE(e){if(e)return e.options.allowProjection!==!1?e.projection:tE(e.parent)}function QD(e,t,n){return P.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hs(n)&&(n.current=r))},[t])}function Jd(e){return qd(e.animate)||Sv.some(t=>il(e[t]))}function nE(e){return!!(Jd(e)||e.variants)}function XD(e,t){if(Jd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||il(n)?n:void 0,animate:il(r)?r:void 0}}return e.inherit!==!1?t:{}}function e2(e){const{initial:t,animate:n}=XD(e,P.useContext(Kd));return P.useMemo(()=>({initial:t,animate:n}),[_b(t),_b(n)])}function _b(e){return Array.isArray(e)?e.join(" "):e}const Sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wo={};for(const e in Sb)wo[e]={isEnabled:t=>Sb[e].some(n=>!!t[n])};function t2(e){for(const t in e)wo[t]={...wo[t],...e[t]}}const n2=Symbol.for("motionComponentSymbol");function r2({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&t2(e);function s(a,l){let c;const u={...P.useContext(XT),...a,layoutId:i2(a)},{isStatic:d}=u,p=e2(a),h=r(a,d);if(!d&&Wv){s2();const m=o2(u);c=m.MeasureLayout,p.visualElement=ZD(i,h,u,t,m.ProjectionNode)}return C.jsxs(Kd.Provider,{value:p,children:[c&&p.visualElement?C.jsx(c,{visualElement:p.visualElement,...u}):null,n(i,a,QD(h,p.visualElement,l),h,d,p.visualElement)]})}const o=P.forwardRef(s);return o[n2]=i,o}function i2({layoutId:e}){const t=P.useContext(BT).id;return t&&e!==void 0?t+"-"+e:e}function s2(e,t){P.useContext(eE).strict}function o2(e){const{drag:t,layout:n}=wo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const a2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Hv(e){return typeof e!="string"||e.includes("-")?!1:!!(a2.indexOf(e)>-1||/[A-Z]/u.test(e))}function rE(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const iE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sE(e,t,n,r){rE(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(iE.has(i)?i:zv(i),t.attrs[i])}function oE(e,{layout:t,layoutId:n}){return xs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Gu[e]||e==="opacity")}function Kv(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(Rt(i[o])||t.style&&Rt(t.style[o])||oE(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function aE(e,t,n){const r=Kv(e,t,n);for(const i in e)if(Rt(e[i])||Rt(t[i])){const s=Kl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function l2(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}function c2({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:u2(r,i,s,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const lE=e=>(t,n)=>{const r=P.useContext(Kd),i=P.useContext(Uv),s=()=>c2(e,t,r,i);return n?s():l2(s)};function u2(e,t,n,r){const i={},s=r(e,{});for(const p in s)i[p]=ou(s[p]);let{initial:o,animate:a}=e;const l=Jd(e),c=nE(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!qd(d)){const p=Array.isArray(d)?d:[d];for(let h=0;h<p.length;h++){const m=bv(e,p[h]);if(m){const{transitionEnd:v,transition:S,...g}=m;for(const b in g){let _=g[b];if(Array.isArray(_)){const x=u?_.length-1:0;_=_[x]}_!==null&&(i[b]=_)}for(const b in v)i[b]=v[b]}}}return i}const Jv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),cE=()=>({...Jv(),attrs:{}}),uE=(e,t)=>t&&typeof e=="number"?t.transform(e):e,d2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f2=Kl.length;function p2(e,t,n){let r="",i=!0;for(let s=0;s<f2;s++){const o=Kl[s],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=uE(a,Mv[o]);if(!l){i=!1;const u=d2[o]||o;r+=`${u}(${c}) `}n&&(t[o]=c)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function Gv(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(xs.has(l)){o=!0;continue}else if(tT(l)){i[l]=c;continue}else{const u=uE(c,Mv[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=p2(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function kb(e,t,n){return typeof e=="string"?e:re.transform(t+n*e)}function h2(e,t,n){const r=kb(t,e.x,e.width),i=kb(n,e.y,e.height);return`${r} ${i}`}const m2={offset:"stroke-dashoffset",array:"stroke-dasharray"},g2={offset:"strokeDashoffset",array:"strokeDasharray"};function v2(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?m2:g2;e[s.offset]=re.transform(-r);const o=re.transform(t),a=re.transform(n);e[s.array]=`${o} ${a}`}function Zv(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d){if(Gv(e,c,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:h,dimensions:m}=e;p.transform&&(m&&(h.transform=p.transform),delete p.transform),m&&(i!==void 0||s!==void 0||h.transform)&&(h.transformOrigin=h2(m,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&v2(p,o,a,l,!1)}const Yv=e=>typeof e=="string"&&e.toLowerCase()==="svg",y2={useVisualState:lE({scrapeMotionValuesFromProps:aE,createRenderState:cE,onMount:(e,t,{renderState:n,latestValues:r})=>{We.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),We.render(()=>{Zv(n,r,Yv(t.tagName),e.transformTemplate),sE(t,n)})}})},w2={useVisualState:lE({scrapeMotionValuesFromProps:Kv,createRenderState:Jv})};function dE(e,t,n){for(const r in t)!Rt(t[r])&&!oE(r,n)&&(e[r]=t[r])}function b2({transformTemplate:e},t){return P.useMemo(()=>{const n=Jv();return Gv(n,t,e),Object.assign({},n.vars,n.style)},[t])}function _2(e,t){const n=e.style||{},r={};return dE(r,n,e),Object.assign(r,b2(e,t)),r}function S2(e,t){const n={},r=_2(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const k2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||k2.has(e)}let fE=e=>!Zu(e);function x2(e){e&&(fE=t=>t.startsWith("on")?!Zu(t):e(t))}try{x2(require("@emotion/is-prop-valid").default)}catch{}function T2(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(fE(i)||n===!0&&Zu(i)||!t&&!Zu(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function E2(e,t,n,r){const i=P.useMemo(()=>{const s=cE();return Zv(s,t,Yv(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};dE(s,e.style,e),i.style={...s,...i.style}}return i}function C2(e=!1){return(n,r,i,{latestValues:s},o)=>{const l=(Hv(n)?E2:S2)(r,s,o,n),c=T2(r,typeof n=="string",e),u=n!==P.Fragment?{...c,...l,ref:i}:{},{children:d}=r,p=P.useMemo(()=>Rt(d)?d.get():d,[d]);return P.createElement(n,{...u,children:p})}}function A2(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Hv(r)?y2:w2,preloadedFeatures:e,useRender:C2(i),createVisualElement:t,Component:r};return r2(o)}}const cm={current:null},pE={current:!1};function P2(){if(pE.current=!0,!!Wv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cm.current=e.matches;e.addListener(t),t()}else cm.current=!1}function M2(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Rt(i))e.addValue(r,i);else if(Rt(s))e.addValue(r,al(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,al(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const xb=new WeakMap,O2=[...iT,Ct,bi],I2=e=>O2.find(rT(e)),Tb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class R2{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=mr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,We.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Jd(n),this.isVariantNode=nE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const h=d[p];l[p]!==void 0&&Rt(h)&&h.set(l[p],!1)}}mount(t){this.current=t,xb.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pE.current||P2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){xb.delete(this.current),this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=xs.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&We.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wo){const n=wo[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Tb.length;r++){const i=Tb[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=M2(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=al(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(Xx(i)||Qx(i))?i=parseFloat(i):!I2(i)&&bi.test(n)&&(i=fT(t,n)),this.setBaseTarget(t,Rt(i)?i.get():i)),Rt(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=bv(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Rt(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Vv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class hE extends R2{constructor(){super(...arguments),this.KeyframeResolver=pT}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Rt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function N2(e){return window.getComputedStyle(e)}class j2 extends hE{constructor(){super(...arguments),this.type="html",this.renderInstance=rE}readValueFromInstance(t,n){if(xs.has(n)){const r=Ov(n);return r&&r.default||0}else{const r=N2(t),i=(tT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return VT(t,n)}build(t,n,r){Gv(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Kv(t,n,r)}}class L2 extends hE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(xs.has(n)){const r=Ov(n);return r&&r.default||0}return n=iE.has(n)?n:zv(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return aE(t,n,r)}build(t,n,r){Zv(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){sE(t,n,r,i)}mount(t){this.isSVGTag=Yv(t.tagName),super.mount(t)}}const D2=(e,t)=>Hv(e)?new L2(t):new j2(t,{allowProjection:e!==P.Fragment}),$2=A2({...yL,...KD,...LD,...JD},D2),mE=gN($2);Hl.register();const gE="lg:aspect-video lg:max-h-none lg:h-auto",vE="sm:max-h-[680px]",yE="w-full h-full max-h-[500px] max-w-5xl",Gd=({children:e})=>C.jsxs("div",{className:Uu("relative overflow-hidden rounded-xl border border-border bg-card/95 backdrop-blur-sm",gE,vE,yE),children:[C.jsx("img",{src:"/images/dialogBlur.svg",alt:"background",className:"absolute inset-0 h-full w-full object-cover opacity-10"}),e||C.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4",children:[C.jsx("l-quantum",{size:"45",speed:"1.75",color:"hsl(var(--primary))"}),C.jsx("p",{className:"text-foreground text-lg",children:"Loading..."})]})]}),Eb=({children:e})=>C.jsxs(mE.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1],scale:{duration:.5,ease:[.34,1.56,.64,1]}},className:Uu("relative overflow-hidden rounded-xl border border-border bg-card/95 backdrop-blur-sm",gE,vE,yE),children:[C.jsx("img",{src:"/images/dialogBlur.svg",alt:"background",className:"absolute inset-0 h-full w-full object-cover opacity-10"}),e]}),Qv=({children:e})=>C.jsx(mE.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,ease:[.22,1,.36,1],scale:{duration:.5,ease:[.34,1.56,.64,1]}},className:"relative flex size-full flex-col items-center justify-center px-2.5 py-6 sm:p-8",children:e}),wE=({imgSrc:e,title:t,titleClassName:n,description:r,descriptionClassName:i,children:s})=>C.jsxs("div",{className:"flex flex-col items-center justify-center",children:[C.jsx("img",{src:e,alt:"icon",className:"mb-4 size-20 sm:mb-8 lg:size-30"}),C.jsx("h2",{className:Uu("mb-4 bg-text-primary bg-clip-text pt-1 text-center text-4.5xl text-transparent sm:max-w-[650px] sm:text-6.5xl lg:text-7xl",n),children:t}),C.jsx("p",{className:Uu("max-w-[650px] text-center text-base sm:text-lg text-muted-foreground",i),children:r}),s]}),F2=()=>C.jsx(Gd,{children:C.jsx(Qv,{children:C.jsx(wE,{imgSrc:"/images/error.png",title:"System Currently Unavailable",titleClassName:"sm:max-w-full",description:"Our service is temporarily unavailable. Please try again later."})})}),V2=()=>C.jsx(Gd,{children:C.jsx(Qv,{children:C.jsx(wE,{imgSrc:"/images/clock.png",title:"You've reached your daily limit",description:"Come back tomorrow to continue chatting. We'll be here!"})})}),z2=null,bE=ee(z2),B2=()=>"40ce96379c944b609b9671259afae13d",Ql=ee(B2());ee(!1);ee(e=>e(Ql)!==null);ee(null,(e,t,n)=>{localStorage.setItem("tavus-token",n),t(Ql,n)});ee(null,(e,t)=>{localStorage.removeItem("tavus-token"),t(Ql,null)});const U2={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ELEVENLABS_API_KEY:"sk_86ff15b3ad8b9da08ffe8ae0c1397dc7828eb00e708b5852",VITE_PICA_SECRET_KEY:"sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",VITE_TAVUS_API_KEY:"40ce96379c944b609b9671259afae13d"};function Zd(e,t){let n=null;const r=new Map,i=new Set,s=a=>{let l;if(l=r.get(a),l!==void 0)if(n!=null&&n(l[1],a))s.remove(a);else return l[0];const c=e(a);return r.set(a,[c,Date.now()]),o("CREATE",a,c),c};function o(a,l,c){for(const u of i)u({type:a,param:l,atom:c})}return s.unstable_listen=a=>(i.add(a),()=>{i.delete(a)}),s.getParams=()=>r.keys(),s.remove=a=>{{if(!r.has(a))return;const[l]=r.get(a);r.delete(a),o("REMOVE",a,l)}},s.setShouldRemove=a=>{if(n=a,!!n)for(const[l,[c,u]]of r)n(u,l)&&(r.delete(l),o("REMOVE",l,c))},s}const q2=e=>typeof(e==null?void 0:e.then)=="function";function W2(e=()=>{try{return window.localStorage}catch(n){(U2?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,i;const s={getItem:(l,c)=>{var u,d;const p=m=>{if(m=m||"",r!==m){try{i=JSON.parse(m,t==null?void 0:t.reviver)}catch{return c}r=m}return i},h=(d=(u=e())==null?void 0:u.getItem(l))!=null?d:null;return q2(h)?h.then(p):p(h)},setItem:(l,c)=>{var u;return(u=e())==null?void 0:u.setItem(l,JSON.stringify(c,void 0))},removeItem:l=>{var c;return(c=e())==null?void 0:c.removeItem(l)}},o=l=>(c,u,d)=>l(c,p=>{let h;try{h=JSON.parse(p||"")}catch{h=d}u(h)});let a;try{a=(n=e())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(l,c)=>{if(!(e()instanceof window.Storage))return()=>{};const u=d=>{d.storageArea===e()&&d.key===l&&c(d.newValue)};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),a&&(s.subscribe=o(a)),s}W2();function ge(e,t){const n=P.useMemo(()=>ee(null,(r,i,...s)=>e(r,i,...s)),[e]);return Px(n)}var _E="Expected a function",Cb=NaN,H2="[object Symbol]",K2=/^\s+|\s+$/g,J2=/^[-+]0x[0-9a-f]+$/i,G2=/^0b[01]+$/i,Z2=/^0o[0-7]+$/i,Y2=parseInt,Q2=typeof Vt=="object"&&Vt&&Vt.Object===Object&&Vt,X2=typeof self=="object"&&self&&self.Object===Object&&self,e$=Q2||X2||Function("return this")(),t$=Object.prototype,n$=t$.toString,r$=Math.max,i$=Math.min,gp=function(){return e$.Date.now()};function s$(e,t,n){var r,i,s,o,a,l,c=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(_E);t=Ab(t)||0,Yu(n)&&(u=!!n.leading,d="maxWait"in n,s=d?r$(Ab(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p);function h(T){var A=r,M=i;return r=i=void 0,c=T,o=e.apply(M,A),o}function m(T){return c=T,a=setTimeout(g,t),u?h(T):o}function v(T){var A=T-l,M=T-c,I=t-A;return d?i$(I,s-M):I}function S(T){var A=T-l,M=T-c;return l===void 0||A>=t||A<0||d&&M>=s}function g(){var T=gp();if(S(T))return b(T);a=setTimeout(g,v(T))}function b(T){return a=void 0,p&&r?h(T):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function x(){return a===void 0?o:b(gp())}function k(){var T=gp(),A=S(T);if(r=arguments,i=this,l=T,A){if(a===void 0)return m(l);if(d)return a=setTimeout(g,t),h(l)}return a===void 0&&(a=setTimeout(g,t)),o}return k.cancel=_,k.flush=x,k}function o$(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(_E);return Yu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),s$(e,t,{leading:r,maxWait:t,trailing:i})}function Yu(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function a$(e){return!!e&&typeof e=="object"}function l$(e){return typeof e=="symbol"||a$(e)&&n$.call(e)==H2}function Ab(e){if(typeof e=="number")return e;if(l$(e))return Cb;if(Yu(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yu(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(K2,"");var n=G2.test(e);return n||Z2.test(e)?Y2(e.slice(2),n?2:8):J2.test(e)?Cb:+e}var c$=o$;const u$=kg(c$);function Pb(e,t){if(e==null)return{};var n,r,i=function(o,a){if(o==null)return{};var l,c,u={},d=Object.keys(o);for(c=0;c<d.length;c++)l=d[c],a.indexOf(l)>=0||(u[l]=o[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ne(e){return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ne(e)}function SE(e){var t=function(n,r){if(Ne(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r||"default");if(Ne(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return Ne(t)==="symbol"?t:String(t)}function Mb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SE(r.key),r)}}function tr(e,t,n){return t&&Mb(e.prototype,t),n&&Mb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function br(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cl(e,t){return cl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},cl(e,t)}function Yd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cl(e,t)}function Qd(e,t){if(t&&(Ne(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return br(e)}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(e)}function Tr(e,t,n){return(t=SE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ob(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function se(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){Ob(s,r,i,o,a,"next",l)}function a(l){Ob(s,r,i,o,a,"throw",l)}o(void 0)})}}function Ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fs(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var s,o,a,l,c=[],u=!0,d=!1;try{if(a=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(s=a.call(i)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(p){d=!0,o=p}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(d)throw o}}return c}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ib(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ib(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var kE,Pr={},d$={get exports(){return Pr},set exports(e){Pr=e}},oo=typeof Reflect=="object"?Reflect:null,Rb=oo&&typeof oo.apply=="function"?oo.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};kE=oo&&typeof oo.ownKeys=="function"?oo.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Nb=Number.isNaN||function(e){return e!=e};function Re(){Re.init.call(this)}d$.exports=Re,Pr.once=function(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}Vb(e,t,s,{once:!0}),t!=="error"&&function(o,a,l){typeof o.on=="function"&&Vb(o,"error",a,l)}(e,i,{once:!0})})},Re.EventEmitter=Re,Re.prototype._events=void 0,Re.prototype._eventsCount=0,Re.prototype._maxListeners=void 0;var jb=10;function au(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function xE(e){return e._maxListeners===void 0?Re.defaultMaxListeners:e._maxListeners}function Lb(e,t,n,r){var i,s,o,a;if(au(n),(s=e._events)===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=xE(e))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return e}function f$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Db(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f$.bind(r);return i.listener=n,r.wrapFn=i,i}function $b(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?function(s){for(var o=new Array(s.length),a=0;a<o.length;++a)o[a]=s[a].listener||s[a];return o}(i):TE(i,i.length)}function Fb(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}function TE(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Vb(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else{if(typeof e.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)})}}Object.defineProperty(Re,"defaultMaxListeners",{enumerable:!0,get:function(){return jb},set:function(e){if(typeof e!="number"||e<0||Nb(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");jb=e}}),Re.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Re.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Nb(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Re.prototype.getMaxListeners=function(){return xE(this)},Re.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")Rb(a,this,t);else{var l=a.length,c=TE(a,l);for(n=0;n<l;++n)Rb(c[n],this,t)}return!0},Re.prototype.addListener=function(e,t){return Lb(this,e,t,!1)},Re.prototype.on=Re.prototype.addListener,Re.prototype.prependListener=function(e,t){return Lb(this,e,t,!0)},Re.prototype.once=function(e,t){return au(t),this.on(e,Db(this,e,t)),this},Re.prototype.prependOnceListener=function(e,t){return au(t),this.prependListener(e,Db(this,e,t)),this},Re.prototype.removeListener=function(e,t){var n,r,i,s,o;if(au(t),(r=this._events)===void 0)return this;if((n=r[e])===void 0)return this;if(n===t||n.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;i===0?n.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(n,i),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this},Re.prototype.off=Re.prototype.removeListener,Re.prototype.removeAllListeners=function(e){var t,n,r;if((n=this._events)===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i,s=Object.keys(n);for(r=0;r<s.length;++r)(i=s[r])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=n[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Re.prototype.listeners=function(e){return $b(this,e,!0)},Re.prototype.rawListeners=function(e){return $b(this,e,!1)},Re.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Fb.call(e,t)},Re.prototype.listenerCount=Fb,Re.prototype.eventNames=function(){return this._eventsCount>0?kE(this._events):[]};var zb=Object.prototype.hasOwnProperty;function Bb(e,t,n){for(n of e.keys())if(Ht(n,t))return n}function Ht(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Ht(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if((i=r)&&typeof i=="object"&&!(i=Bb(t,i))||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if((i=r[0])&&typeof i=="object"&&!(i=Bb(t,i))||!Ht(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){for(n in r=0,e)if(zb.call(e,n)&&++r&&!zb.call(t,n)||!(n in t)||!Ht(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}const p$={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},EE={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},nt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},$t={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Qr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class D{static getFirstMatch(t,n){const r=n.match(t);return r&&r.length>0&&r[1]||""}static getSecondMatch(t,n){const r=n.match(t);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(t,n,r){if(t.test(n))return r}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),n[0]===10)switch(n[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const n=t.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(n.push(0),!(n[0]===1&&n[1]<5))return n[0]===1&&n[1]<6?"Cupcake":n[0]===1&&n[1]>=6?"Donut":n[0]===2&&n[1]<2?"Eclair":n[0]===2&&n[1]===2?"Froyo":n[0]===2&&n[1]>2?"Gingerbread":n[0]===3?"Honeycomb":n[0]===4&&n[1]<1?"Ice Cream Sandwich":n[0]===4&&n[1]<4?"Jelly Bean":n[0]===4&&n[1]>=4?"KitKat":n[0]===5?"Lollipop":n[0]===6?"Marshmallow":n[0]===7?"Nougat":n[0]===8?"Oreo":n[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,n,r=!1){const i=D.getVersionPrecision(t),s=D.getVersionPrecision(n);let o=Math.max(i,s),a=0;const l=D.map([t,n],c=>{const u=o-D.getVersionPrecision(c),d=c+new Array(u+1).join(".0");return D.map(d.split("."),p=>new Array(20-p.length).join("0")+p).reverse()});for(r&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(l[0][o]>l[1][o])return 1;if(l[0][o]===l[1][o]){if(o===a)return 0;o-=1}else if(l[0][o]<l[1][o])return-1}}static map(t,n){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,n);for(i=0;i<t.length;i+=1)r.push(n(t[i]));return r}static find(t,n){let r,i;if(Array.prototype.find)return Array.prototype.find.call(t,n);for(r=0,i=t.length;r<i;r+=1){const s=t[r];if(n(s,r))return s}}static assign(t,...n){const r=t;let i,s;if(Object.assign)return Object.assign(t,...n);for(i=0,s=n.length;i<s;i+=1){const o=n[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(a=>{r[a]=o[a]})}return t}static getBrowserAlias(t){return p$[t]}static getBrowserTypeByAlias(t){return EE[t]||""}}const je=/version\/(\d+(\.?_?\d+)+)/i,h$=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},n=D.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},n=D.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},n=D.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},n=D.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},n=D.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},n=D.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},n=D.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},n=D.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=D.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},n=D.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},n=D.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},n=D.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},n=D.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},n=D.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},n=D.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},n=D.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},n=D.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},n=D.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},n=D.getFirstMatch(je,e)||D.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},n=D.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},n=D.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},n=D.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},n=D.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},n=D.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},n=D.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},n=D.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},n=D.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},n=D.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t={name:"Android Browser"},n=D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},n=D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},n=D.getFirstMatch(je,e);return n&&(t.version=n),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:D.getFirstMatch(t,e),version:D.getSecondMatch(t,e)}}}];var m$=[{test:[/Roku\/DVP/],describe(e){const t=D.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:$t.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=D.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:$t.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=D.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=D.getWindowsVersionName(t);return{name:$t.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:$t.iOS},n=D.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe(e){const t=D.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=D.getMacOSVersionName(t),r={name:$t.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=D.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:$t.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe(e){const t=D.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=D.getAndroidVersionName(t),r={name:$t.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=D.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:$t.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=D.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||D.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||D.getFirstMatch(/\bbb(\d+)/i,e);return{name:$t.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=D.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:$t.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=D.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:$t.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:$t.Linux})},{test:[/CrOS/],describe:()=>({name:$t.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=D.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:$t.PlayStation4,version:t}}}],g$=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=D.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:nt.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:nt.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:nt.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:nt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:nt.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:nt.tablet})},{test(e){const t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe(e){const t=D.getFirstMatch(/(ipod|iphone)/i,e);return{type:nt.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:nt.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:nt.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:nt.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:nt.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:nt.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:nt.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:nt.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:nt.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:nt.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:nt.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:nt.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:nt.tv})}],v$=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Qr.Blink};const t=D.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Qr.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Qr.Trident},n=D.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Qr.Presto},n=D.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test(e){const t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe(e){const t={name:Qr.Gecko},n=D.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Qr.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Qr.WebKit},n=D.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];class Ub{constructor(t,n=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},n!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=D.find(h$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=D.find(m$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:n}=this.getOS();return t?String(n).toLowerCase()||"":n||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:n}=this.getPlatform();return t?String(n).toLowerCase()||"":n||""}parsePlatform(){this.parsedResult.platform={};const t=D.find(g$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=D.find(v$,n=>{if(typeof n.test=="function")return n.test(this);if(n.test instanceof Array)return n.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return D.assign({},this.parsedResult)}satisfies(t){const n={};let r=0;const i={};let s=0;if(Object.keys(t).forEach(o=>{const a=t[o];typeof a=="string"?(i[o]=a,s+=1):typeof a=="object"&&(n[o]=a,r+=1)}),r>0){const o=Object.keys(n),a=D.find(o,c=>this.isOS(c));if(a){const c=this.satisfies(n[a]);if(c!==void 0)return c}const l=D.find(o,c=>this.isPlatform(c));if(l){const c=this.satisfies(n[l]);if(c!==void 0)return c}}if(s>0){const o=Object.keys(i),a=D.find(o,l=>this.isBrowser(l,!0));if(a!==void 0)return this.compareVersion(i[a])}}isBrowser(t,n=!1){const r=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const s=D.getBrowserTypeByAlias(i);return n&&s&&(i=s.toLowerCase()),i===r}compareVersion(t){let n=[0],r=t,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return t[0]===">"||t[0]==="<"?(r=t.substr(1),t[1]==="="?(i=!0,r=t.substr(2)):n=[],t[0]===">"?n.push(1):n.push(-1)):t[0]==="="?r=t.substr(1):t[0]==="~"&&(i=!0,r=t.substr(1)),n.indexOf(D.compareVersions(s,r,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,n=!1){return this.isBrowser(t,n)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(n=>this.is(n))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class y${static getParser(t,n=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new Ub(t,n)}static parse(t){return new Ub(t).getResult()}static get BROWSER_MAP(){return EE}static get ENGINE_MAP(){return Qr}static get OS_MAP(){return $t}static get PLATFORMS_MAP(){return nt}}function Xd(){return Date.now()+Math.random().toString()}function sa(){throw new Error("Method must be implemented in subclass")}function CE(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Qu(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:CE("https://c.daily.co/call-machine/versioned/".concat("0.73.0","/static/call-machine-object-bundle.js"),e)}function Xu(e){try{new URL(e)}catch{return!1}return!0}const AE=Object.prototype.toString;function Xv(e){switch(AE.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return ps(e,Error)}}function Bo(e,t){return AE.call(e)===`[object ${t}]`}function PE(e){return Bo(e,"ErrorEvent")}function qb(e){return Bo(e,"DOMError")}function Mr(e){return Bo(e,"String")}function ey(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function um(e){return e===null||ey(e)||typeof e!="object"&&typeof e!="function"}function bo(e){return Bo(e,"Object")}function ef(e){return typeof Event<"u"&&ps(e,Event)}function tf(e){return!!(e&&e.then&&typeof e.then=="function")}function ps(e,t){try{return e instanceof t}catch{return!1}}function ME(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}function ao(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Wb(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{ME(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function w$(e,t,n=!1){return!!Mr(e)&&(Bo(t,"RegExp")?t.test(e):!!Mr(t)&&(n?e===t:e.includes(t)))}function Pc(e,t=[],n=!1){return t.some(r=>w$(e,r,n))}function b$(e,t,n=250,r,i,s,o){if(!(s.exception&&s.exception.values&&o&&ps(o.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var l,c;a&&(s.exception.values=(l=dm(e,t,i,o.originalException,r,s.exception.values,a,0),c=n,l.map(u=>(u.value&&(u.value=ao(u.value,c)),u))))}function dm(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(ps(r[i],Error)){Hb(o,a);const c=e(t,r[i]),u=l.length;Kb(c,i,u,a),l=dm(e,t,n,r[i],i,[c,...l],c,u)}return Array.isArray(r.errors)&&r.errors.forEach((c,u)=>{if(ps(c,Error)){Hb(o,a);const d=e(t,c),p=l.length;Kb(d,`errors[${u}]`,p,a),l=dm(e,t,n,c,i,[d,...l],d,p)}}),l}function Hb(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Kb(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Jb(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const is="8.33.1",Ae=globalThis;function ed(e,t,n){const r=Ae,i=r.__SENTRY__=r.__SENTRY__||{},s=i[is]=i[is]||{};return s[e]||(s[e]=t())}const ty=Ae;function OE(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<r&&(c=_$(n,u),!(c==="html"||s>1&&o+i.length*l+c.length>=d));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function _$(e,t){const n=e,r=[];if(!n||!n.tagName)return"";if(ty.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Mr(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}const Xl=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,fm=["debug","info","warn","error","log","assert","trace"],td={};function ny(e){if(!("console"in Ae))return e();const t=Ae.console,n={},r=Object.keys(td);r.forEach(i=>{const s=td[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}const he=ed("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Xl?fm.forEach(n=>{t[n]=(...r)=>{e&&ny(()=>{Ae.console[n](`Sentry Logger [${n}]:`,...r)})}}):fm.forEach(n=>{t[n]=()=>{}}),t}),S$=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function nd(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Gb(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function k$(e){const t=typeof e=="string"?function(n){const r=S$.exec(n);if(!r)return void ny(()=>{console.error(`Invalid Sentry Dsn: ${n}`)});const[i,s,o="",a="",l="",c=""]=r.slice(1);let u="",d=c;const p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){const h=d.match(/^\d+/);h&&(d=h[0])}return Gb({host:a,pass:o,path:u,projectId:d,port:l,protocol:i,publicKey:s})}(e):Gb(e);if(t&&function(n){if(!Xl)return!0;const{port:r,projectId:i,protocol:s}=n;return!(["protocol","publicKey","host","projectId"].find(o=>!n[o]&&(he.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(i.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(s)?r&&isNaN(parseInt(r,10))&&(he.error(`Invalid Sentry Dsn: Invalid port ${r}`),1):(he.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),1):(he.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))}(t))return t}class ar extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function ln(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&IE(i,r),e[t]=i}function hs(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Xl&&he.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function IE(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,hs(e,"__sentry_original__",t)}catch{}}function ry(e){return e.__sentry_original__}function RE(e){if(Xv(e))return{message:e.message,name:e.name,stack:e.stack,...Yb(e)};if(ef(e)){const t={type:e.type,target:Zb(e.target),currentTarget:Zb(e.currentTarget),...Yb(e)};return typeof CustomEvent<"u"&&ps(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Zb(e){try{return t=e,typeof Element<"u"&&ps(t,Element)?OE(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function Yb(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function qn(e){return pm(e,new Map)}function pm(e,t){if(function(n){if(!bo(n))return!1;try{const r=Object.getPrototypeOf(n).constructor.name;return!r||r==="Object"}catch{return!0}}(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.getOwnPropertyNames(e))e[i]!==void 0&&(r[i]=pm(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(pm(i,t))}),r}return e}const Gi="?",Qb=/\(error: (.*)\)/,Xb=/captureMessage|captureException/;function Mc(e){return e[e.length-1]||{}}const e_="<anonymous>";function _i(e){try{return e&&typeof e=="function"&&e.name||e_}catch{return e_}}function t_(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const lu={},n_={};function Zi(e,t){lu[e]=lu[e]||[],lu[e].push(t)}function Yi(e,t){n_[e]||(t(),n_[e]=!0)}function Kn(e,t){const n=e&&lu[e];if(n)for(const r of n)try{r(t)}catch(i){Xl&&he.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${_i(r)}
Error:`,i)}}function x$(){"console"in Ae&&fm.forEach(function(e){e in Ae.console&&ln(Ae.console,e,function(t){return td[e]=t,function(...n){Kn("console",{args:n,level:e});const r=td[e];r&&r.apply(Ae.console,n)}})})}const vp=Ae;function hm(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function T$(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in vp))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(hm(vp.fetch))return!0;let e=!1;const t=vp.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=hm(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Xl&&he.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function ec(){return Date.now()/1e3}const mi=function(){const{performance:e}=Ae;if(!e||!e.now)return ec;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function E$(e,t){const n="fetch";Zi(n,e),Yi(n,()=>function(r,i=!1){i&&!T$()||ln(Ae,"fetch",function(s){return function(...o){const{method:a,url:l}=function(d){if(d.length===0)return{method:"GET",url:""};if(d.length===2){const[h,m]=d;return{url:r_(h),method:mm(m,"method")?String(m.method).toUpperCase():"GET"}}const p=d[0];return{url:r_(p),method:mm(p,"method")?String(p.method).toUpperCase():"GET"}}(o),c={args:o,fetchData:{method:a,url:l},startTimestamp:1e3*mi()};Kn("fetch",{...c});const u=new Error().stack;return s.apply(Ae,o).then(async d=>(Kn("fetch",{...c,endTimestamp:1e3*mi(),response:d}),d),d=>{throw Kn("fetch",{...c,endTimestamp:1e3*mi(),error:d}),Xv(d)&&d.stack===void 0&&(d.stack=u,hs(d,"framesToPop",1)),d})}})}(void 0,t))}function mm(e,t){return!!e&&typeof e=="object"&&!!e[t]}function r_(e){return typeof e=="string"?e:e?mm(e,"url")?e.url:e.toString?e.toString():"":""}(()=>{const{performance:e}=Ae;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,a=typeof o=="number"?Math.abs(o+n-r):t;(s||a<t)&&i<=a&&e.timeOrigin})();let Oc=null;function C$(){Oc=Ae.onerror,Ae.onerror=function(e,t,n,r,i){return Kn("error",{column:r,error:i,line:n,msg:e,url:t}),!(!Oc||Oc.__SENTRY_LOADER__)&&Oc.apply(this,arguments)},Ae.onerror.__SENTRY_INSTRUMENTED__=!0}let Ic=null;function A$(){Ic=Ae.onunhandledrejection,Ae.onunhandledrejection=function(e){return Kn("unhandledrejection",e),!(Ic&&!Ic.__SENTRY_LOADER__)||Ic.apply(this,arguments)},Ae.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Jn(){const e=Ae,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(15&n())>>r/4).toString(16))}function NE(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function ti(e){const{message:t,event_id:n}=e;if(t)return t;const r=NE(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function gm(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function ul(e,t){const n=NE(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const i={...r&&r.data,...t.data};n.mechanism.data=i}}function i_(e){if(e&&e.__sentry_captured__)return!0;try{hs(e,"__sentry_captured__",!0)}catch{}return!1}function ni(e,t=100,n=1/0){try{return vm("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function jE(e,t=3,n=102400){const r=ni(e,t);return i=r,function(s){return~-encodeURI(s).split(/%..|./).length}(JSON.stringify(i))>n?jE(e,t-1,n):r;var i}function vm(e,t,n=1/0,r=1/0,i=function(){const s=typeof WeakSet=="function",o=s?new WeakSet:[];return[function(a){if(s)return!!o.has(a)||(o.add(a),!1);for(let l=0;l<o.length;l++)if(o[l]===a)return!0;return o.push(a),!1},function(a){if(s)o.delete(a);else for(let l=0;l<o.length;l++)if(o[l]===a){o.splice(l,1);break}}]}()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=function(h,m){try{if(h==="domain"&&m&&typeof m=="object"&&m._events)return"[Domain]";if(h==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&m===global)return"[Global]";if(typeof window<"u"&&m===window)return"[Window]";if(typeof document<"u"&&m===document)return"[Document]";if(ME(m))return"[VueViewModel]";if(bo(v=m)&&"nativeEvent"in v&&"preventDefault"in v&&"stopPropagation"in v)return"[SyntheticEvent]";if(typeof m=="number"&&!Number.isFinite(m))return`[${m}]`;if(typeof m=="function")return`[Function: ${_i(m)}]`;if(typeof m=="symbol")return`[${String(m)}]`;if(typeof m=="bigint")return`[BigInt: ${String(m)}]`;const S=function(g){const b=Object.getPrototypeOf(g);return b?b.constructor.name:"null prototype"}(m);return/^HTML(\w*)Element$/.test(S)?`[HTMLElement: ${S}]`:`[object ${S}]`}catch(S){return`**non-serializable** (${S})`}var v}(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{return vm("",c.toJSON(),l-1,r,i)}catch{}const u=Array.isArray(t)?[]:{};let d=0;const p=RE(t);for(const h in p){if(!Object.prototype.hasOwnProperty.call(p,h))continue;if(d>=r){u[h]="[MaxProperties ~]";break}const m=p[h];u[h]=vm(h,m,l-1,r,i),d++}return o(t),u}var kr;function ms(e){return new Tn(t=>{t(e)})}function rd(e){return new Tn((t,n)=>{n(e)})}(function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"})(kr||(kr={}));class Tn{constructor(t){Tn.prototype.__init.call(this),Tn.prototype.__init2.call(this),Tn.prototype.__init3.call(this),Tn.prototype.__init4.call(this),this._state=kr.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Tn((r,i)=>{this._handlers.push([!1,s=>{if(t)try{r(t(s))}catch(o){i(o)}else r(s)},s=>{if(n)try{r(n(s))}catch(o){i(o)}else i(s)}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Tn((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{s?r(i):n(i)})})}__init(){this._resolve=t=>{this._setResult(kr.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(kr.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{this._state===kr.PENDING&&(tf(n)?n.then(this._resolve,this._reject):(this._state=t,this._value=n,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===kr.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===kr.RESOLVED&&n[1](this._value),this._state===kr.REJECTED&&n[2](this._value),n[0]=!0)})}}}function P$(e){const t=[];function n(r){return t.splice(t.indexOf(r),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(e===void 0||t.length<e))return rd(new ar("Not adding Promise because buffer limit was reached."));const i=r();return t.indexOf(i)===-1&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(r){return new Tn((i,s)=>{let o=t.length;if(!o)return i(!0);const a=setTimeout(()=>{r&&r>0&&i(!1)},r);t.forEach(l=>{ms(l).then(()=>{--o||(clearTimeout(a),i(!0))},s)})})}}}function yp(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const M$=["fatal","error","warning","log","info","debug"];function O$(e){return e==="warn"?"warning":M$.includes(e)?e:"log"}const I$=/^sentry-/;function R$(e){const t=function(r){if(!(!r||!Mr(r)&&!Array.isArray(r)))return Array.isArray(r)?r.reduce((i,s)=>{const o=s_(s);return Object.entries(o).forEach(([a,l])=>{i[a]=l}),i},{}):s_(r)}(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>(i.match(I$)&&(r[i.slice(7)]=s),r),{});return Object.keys(n).length>0?n:void 0}function s_(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function dl(e,t=[]){return[e,t]}function N$(e,t){const[n,r]=e;return[n,[...r,t]]}function o_(e,t){const n=e[1];for(const r of n)if(t(r,r[0].type))return!0;return!1}function ym(e){return Ae.__SENTRY__&&Ae.__SENTRY__.encodePolyfill?Ae.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function j$(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[ym(r),s]:r.push(typeof s=="string"?ym(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ni(a))}i(l)}}return typeof r=="string"?r:function(s){const o=s.reduce((c,u)=>c+u.length,0),a=new Uint8Array(o);let l=0;for(const c of s)a.set(c,l),l+=c.length;return a}(r)}function L$(e){const t=typeof e.data=="string"?ym(e.data):e.data;return[qn({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const D$={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function a_(e){return D$[e]}function LE(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function $$(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,u]=a.split(":",5),d=parseInt(l,10),p=1e3*(isNaN(d)?60:d);if(c)for(const h of c.split(";"))h==="metric_bucket"&&u&&!u.split(";").includes("custom")||(i[h]=r+p);else i.all=r+p}else o?i.all=r+function(a,l=Date.now()){const c=parseInt(`${a}`,10);if(!isNaN(c))return 1e3*c;const u=Date.parse(`${a}`);return isNaN(u)?6e4:u-l}(o,r):t===429&&(i.all=r+6e4);return i}function l_(){return{traceId:Jn(),spanId:Jn().substring(16)}}const Rc=Ae,De=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function nf(){return iy(Ae),Ae}function iy(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||is,t[is]=t[is]||{}}function wm(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||mi(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Jn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}const bm="_sentrySpan";function c_(e,t){t?hs(e,bm,t):delete e[bm]}function u_(e){return e[bm]}class sy{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=l_()}clone(){const t=new sy;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,c_(t,u_(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&wm(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,[r,i]=n instanceof Si?[n.getScopeData(),n.getRequestSession()]:bo(n)?[t,t.requestSession]:[],{tags:s,extra:o,user:a,contexts:l,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,c_(this,void 0),this._attachments=[],this._propagationContext=l_(),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:100;if(r<=0)return this;const i={timestamp:ec(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:u_(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:Jn();if(!this._client)return he.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:Jn();if(!this._client)return he.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:Jn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(he.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Si=sy;class F${constructor(t,n){let r,i;r=t||new Si,i=n||new Si,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return tf(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function _o(){const e=iy(nf());return e.stack=e.stack||new F$(ed("defaultCurrentScope",()=>new Si),ed("defaultIsolationScope",()=>new Si))}function V$(e){return _o().withScope(e)}function z$(e,t){const n=_o();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function d_(e){return _o().withScope(()=>e(_o().getIsolationScope()))}function oy(e){const t=iy(e);return t.acs?t.acs:{withIsolationScope:d_,withScope:V$,withSetScope:z$,withSetIsolationScope:(n,r)=>d_(r),getCurrentScope:()=>_o().getScope(),getIsolationScope:()=>_o().getIsolationScope()}}function ay(){return oy(nf()).getCurrentScope()}function DE(){return oy(nf()).getIsolationScope()}function Jt(){return ay().getClient()}function B$(e){const t=e._sentryMetrics;if(!t)return;const n={};for(const[,[r,i]]of t)(n[r]||(n[r]=[])).push(qn(i));return n}function U$(e){const{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=id(e);return qn({parent_span_id:r,span_id:t,trace_id:n})}function f_(e){return typeof e=="number"?p_(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?p_(e.getTime()):mi()}function p_(e){return e>9999999999?e/1e3:e}function id(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:n}=e.spanContext();if(function(r){const i=r;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)}(e)){const{attributes:r,startTime:i,name:s,endTime:o,parentSpanId:a,status:l}=e;return qn({span_id:t,trace_id:n,data:r,description:s,parent_span_id:a,start_timestamp:f_(i),timestamp:f_(o)||void 0,status:q$(l),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:B$(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function q$(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function $E(e){return e._sentryRootSpan||e}const FE="production";function VE(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=qn({environment:n.environment||FE,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i}function W$(e){const t=Jt();if(!t)return{};const n=VE(id(e).trace_id||"",t),r=$E(e),i=r._frozenDsc;if(i)return i;const s=r.spanContext().traceState,o=s&&s.get("sentry.dsc"),a=o&&R$(o);if(a)return a;const l=id(r),c=l.data||{},u=c["sentry.sample_rate"];u!=null&&(n.sample_rate=`${u}`);const d=c["sentry.source"],p=l.description;return d!=="url"&&p&&(n.transaction=p),function(h){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const m=Jt(),v=m&&m.getOptions();return!!v&&(v.enableTracing||"tracesSampleRate"in v||"tracesSampler"in v)}()&&(n.sampled=String(function(h){const{traceFlags:m}=h.spanContext();return m===1}(r))),t.emit("createDsc",n,r),n}function H$(e,t,n,r){const i=LE(n),s=e.type&&e.type!=="replay_event"?e.type:"event";(function(a,l){l&&(a.sdk=a.sdk||{},a.sdk.name=a.sdk.name||l.name,a.sdk.version=a.sdk.version||l.version,a.sdk.integrations=[...a.sdk.integrations||[],...l.integrations||[]],a.sdk.packages=[...a.sdk.packages||[],...l.packages||[]])})(e,n&&n.sdk);const o=function(a,l,c,u){const d=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:a.event_id,sent_at:new Date().toISOString(),...l&&{sdk:l},...!!c&&u&&{dsn:nd(u)},...d&&{trace:qn({...d})}}}(e,i,r,t);return delete e.sdkProcessingMetadata,dl(o,[[{type:s},e]])}function _m(e,t,n,r=0){return new Tn((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);De&&o.id&&a===null&&he.log(`Event processor "${o.id}" dropped event`),tf(a)?a.then(l=>_m(e,l,n,r+1).then(i)).then(null,s):_m(e,a,n,r+1).then(i).then(null,s)}})}function K$(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;(function(o,a){const{extra:l,tags:c,user:u,contexts:d,level:p,transactionName:h}=a,m=qn(l);m&&Object.keys(m).length&&(o.extra={...m,...o.extra});const v=qn(c);v&&Object.keys(v).length&&(o.tags={...v,...o.tags});const S=qn(u);S&&Object.keys(S).length&&(o.user={...S,...o.user});const g=qn(d);g&&Object.keys(g).length&&(o.contexts={...g,...o.contexts}),p&&(o.level=p),h&&o.type!=="transaction"&&(o.transaction=h)})(e,t),r&&function(o,a){o.contexts={trace:U$(a),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:W$(a),...o.sdkProcessingMetadata};const l=$E(a),c=id(l).description;c&&!o.transaction&&o.type==="transaction"&&(o.transaction=c)}(e,r),function(o,a){o.fingerprint=o.fingerprint?function(l){return Array.isArray(l)?l:[l]}(o.fingerprint):[],a&&(o.fingerprint=o.fingerprint.concat(a)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,n),function(o,a){const l=[...o.breadcrumbs||[],...a];o.breadcrumbs=l.length?l:void 0}(e,i),function(o,a){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...a}}(e,s)}function h_(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:m}=t;oa(e,"extra",n),oa(e,"tags",r),oa(e,"user",i),oa(e,"contexts",s),oa(e,"sdkProcessingMetadata",a),o&&(e.level=o),h&&(e.transactionName=h),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function oa(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function J$(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Jn(),timestamp:t.timestamp||ec()},c=n.integrations||e.integrations.map(m=>m.name);(function(m,v){const{environment:S,release:g,dist:b,maxValueLength:_=250}=v;"environment"in m||(m.environment="environment"in v?S:FE),m.release===void 0&&g!==void 0&&(m.release=g),m.dist===void 0&&b!==void 0&&(m.dist=b),m.message&&(m.message=ao(m.message,_));const x=m.exception&&m.exception.values&&m.exception.values[0];x&&x.value&&(x.value=ao(x.value,_));const k=m.request;k&&k.url&&(k.url=ao(k.url,_))})(l,e),function(m,v){v.length>0&&(m.sdk=m.sdk||{},m.sdk.integrations=[...m.sdk.integrations||[],...v])}(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&function(m,v){const S=Ae._sentryDebugIds;if(!S)return;let g;const b=m_.get(v);b?g=b:(g=new Map,m_.set(v,g));const _=Object.entries(S).reduce((x,[k,T])=>{let A;const M=g.get(k);M?A=M:(A=v(k),g.set(k,A));for(let I=A.length-1;I>=0;I--){const N=A[I];if(N.filename){x[N.filename]=T;break}}return x},{});try{m.exception.values.forEach(x=>{x.stacktrace.frames.forEach(k=>{k.filename&&(k.debug_id=_[k.filename])})})}catch{}}(l,e.stackParser);const u=function(m,v){if(!v)return m;const S=m?m.clone():new Si;return S.update(v),S}(r,n.captureContext);n.mechanism&&ul(l,n.mechanism);const d=i?i.getEventProcessors():[],p=ed("globalScope",()=>new Si).getScopeData();s&&h_(p,s.getScopeData()),u&&h_(p,u.getScopeData());const h=[...n.attachments||[],...p.attachments];return h.length&&(n.attachments=h),K$(l,p),_m([...d,...p.eventProcessors],l,n).then(m=>(m&&function(v){const S={};try{v.exception.values.forEach(b=>{b.stacktrace.frames.forEach(_=>{_.debug_id&&(_.abs_path?S[_.abs_path]=_.debug_id:_.filename&&(S[_.filename]=_.debug_id),delete _.debug_id)})})}catch{}if(Object.keys(S).length===0)return;v.debug_meta=v.debug_meta||{},v.debug_meta.images=v.debug_meta.images||[];const g=v.debug_meta.images;Object.entries(S).forEach(([b,_])=>{g.push({type:"sourcemap",code_file:b,debug_id:_})})}(m),typeof o=="number"&&o>0?function(v,S,g){if(!v)return null;const b={...v,...v.breadcrumbs&&{breadcrumbs:v.breadcrumbs.map(_=>({..._,..._.data&&{data:ni(_.data,S,g)}}))},...v.user&&{user:ni(v.user,S,g)},...v.contexts&&{contexts:ni(v.contexts,S,g)},...v.extra&&{extra:ni(v.extra,S,g)}};return v.contexts&&v.contexts.trace&&b.contexts&&(b.contexts.trace=v.contexts.trace,v.contexts.trace.data&&(b.contexts.trace.data=ni(v.contexts.trace.data,S,g))),v.spans&&(b.spans=v.spans.map(_=>({..._,..._.data&&{data:ni(_.data,S,g)}}))),b}(m,o,a):m))}const m_=new WeakMap;function g_(e,t){return ay().captureEvent(e,t)}function G$(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&");var n}const v_=[];function y_(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function w_(e,t,n){if(n[t.name])De&&he.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,v_.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),v_.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}De&&he.log(`Integration installed: ${t.name}`)}}const b_="Not capturing exception because it's already been captured.";class Z${constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=k$(t.dsn):De&&he.warn("No DSN provided, client will not send events."),this._dsn){const s=(n=this._dsn,r=t.tunnel,i=t._metadata?t._metadata.sdk:void 0,r||`${function(o){return`${function(a){const l=a.protocol?`${a.protocol}:`:"",c=a.port?`:${a.port}`:"";return`${l}//${a.host}${c}${a.path?`/${a.path}`:""}/api/`}(o)}${o.projectId}/envelope/`}(n)}?${G$(n,i)}`);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}var n,r,i}captureException(t,n,r){const i=Jn();if(i_(t))return De&&he.log(b_),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:Jn(),...r},o=ey(t)?t:String(t),a=um(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=Jn();if(n&&n.originalException&&i_(n.originalException))return De&&he.log(b_),i;const s={event_id:i,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,s,o||r)),s.event_id}captureSession(t){typeof t.release!="string"?De&&he.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),wm(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):ms(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];w_(this,t,this._integrations),n||y_(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=H$(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=N$(r,L$(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=function(r,i,s,o){const a=LE(s);return dl({sent_at:new Date().toISOString(),...a&&{sdk:a},...!!o&&i&&{dsn:nd(i)}},["aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=typeof r=="number"?r:1,s=`${t}:${n}`;De&&he.log(`Recording outcome: "${s}"${i>1?` (${i} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+i}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(De&&he.error("Error while sending event:",n),n)):(De&&he.error("Transport disabled"),ms({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(n,r){const i={};return r.forEach(s=>{s&&w_(n,s,i)}),i}(this,t),y_(this,t)}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const a of s){const l=a.mechanism;if(l&&l.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(wm(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Tn(n=>{let r=0;const i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=DE()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),J$(s,t,n,r,this,i).then(a=>{if(a===null)return a;const l={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&l){const{traceId:c,spanId:u,parentSpanId:d,dsc:p}=l;a.contexts={trace:qn({trace_id:c,span_id:u,parent_span_id:d}),...a.contexts};const h=p||VE(c,this);a.sdkProcessingMetadata={dynamicSamplingContext:h,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(De){const s=i;s.logLevel==="log"?he.log(s.message):he.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=S_(t),a=__(t),l=t.type||"error",c=`before send for type \`${l}\``,u=s===void 0?void 0:function(h){if(typeof h=="boolean")return Number(h);const m=typeof h=="string"?parseFloat(h):h;if(!(typeof m!="number"||isNaN(m)||m<0||m>1))return m;De&&he.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(h)} of type ${JSON.stringify(typeof h)}.`)}(s);if(a&&typeof u=="number"&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),rd(new ar(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=l==="replay_event"?"replay":l,p=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,p).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",d,t),new ar("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return h;const m=function(v,S,g,b){const{beforeSend:_,beforeSendTransaction:x,beforeSendSpan:k}=S;if(__(g)&&_)return _(g,b);if(S_(g)){if(g.spans&&k){const T=[];for(const A of g.spans){const M=k(A);M?T.push(M):v.recordDroppedEvent("before_send","span")}g.spans=T}if(x){if(g.spans){const T=g.spans.length;g.sdkProcessingMetadata={...g.sdkProcessingMetadata,spanCountBeforeProcessing:T}}return x(g,b)}}return g}(this,i,h,n);return function(v,S){const g=`${S} must return \`null\` or a valid event.`;if(tf(v))return v.then(b=>{if(!bo(b)&&b!==null)throw new ar(g);return b},b=>{throw new ar(`${S} rejected with ${b}`)});if(!bo(v)&&v!==null)throw new ar(g);return v}(m,c)}).then(h=>{if(h===null){if(this.recordDroppedEvent("before_send",d,t),o){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw new ar(`${c} returned \`null\`, will not send event.`,"log")}const m=r&&r.getSession();if(!o&&m&&this._updateSessionFromEvent(m,h),o){const S=(h.sdkProcessingMetadata&&h.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(h.spans?h.spans.length:0);S>0&&this.recordDroppedEvent("before_send","span",S)}const v=h.transaction_info;if(o&&v&&h.transaction!==t.transaction){const S="custom";h.transaction_info={...v,source:S}}return this.sendEvent(h,n),h}).then(null,h=>{throw h instanceof ar?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new ar(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){De&&he.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(De&&he.log("No outcomes to send"));if(!this._dsn)return void(De&&he.log("No dsn provided, will not send outcomes"));De&&he.log("Sending outcomes:",t);const n=(r=t,dl((i=this._options.tunnel&&nd(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:s||ec(),discarded_events:r}]]));var r,i,s;this.sendEnvelope(n)}}function __(e){return e.type===void 0}function S_(e){return e.type==="transaction"}function Y$(e,t,n=P$(e.bufferSize||64)){let r={};return{send:function(i){const s=[];if(o_(i,(l,c)=>{const u=a_(c);if(function(d,p,h=Date.now()){return function(m,v){return m[v]||m.all||0}(d,p)>h}(r,u)){const d=k_(l,c);e.recordDroppedEvent("ratelimit_backoff",u,d)}else s.push(l)}),s.length===0)return ms({});const o=dl(i[0],s),a=l=>{o_(o,(c,u)=>{const d=k_(c,u);e.recordDroppedEvent(l,a_(u),d)})};return n.add(()=>t({body:j$(o)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&De&&he.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=$$(r,l),l),l=>{throw a("network_error"),l})).then(l=>l,l=>{if(l instanceof ar)return De&&he.error("Skipped sending event because buffer is full."),a("queue_overflow"),ms({});throw l})},flush:i=>n.drain(i)}}function k_(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const Q$=100;function Ri(e,t){const n=Jt(),r=DE();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Q$}=n.getOptions();if(s<=0)return;const o={timestamp:ec(),...e},a=i?ny(()=>i(o,t)):o;a!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",a,t),r.addBreadcrumb(a,s))}let x_;const T_=new WeakMap,X$=()=>({name:"FunctionToString",setupOnce(){x_=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ry(this),n=T_.has(Jt())&&t!==void 0?t:this;return x_.apply(n,e)}}catch{}},setup(e){T_.set(e,!0)}}),eF=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],tF=(e={})=>({name:"InboundFilters",processEvent(t,n,r){const i=r.getOptions(),s=function(o={},a={}){return{allowUrls:[...o.allowUrls||[],...a.allowUrls||[]],denyUrls:[...o.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...a.ignoreErrors||[],...o.disableErrorDefaults?[]:eF],ignoreTransactions:[...o.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,i);return function(o,a){return a.ignoreInternal&&function(l){try{return l.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(De&&he.warn(`Event dropped due to being internal Sentry Error.
Event: ${ti(o)}`),!0):function(l,c){return l.type||!c||!c.length?!1:function(u){const d=[];u.message&&d.push(u.message);let p;try{p=u.exception.values[u.exception.values.length-1]}catch{}return p&&p.value&&(d.push(p.value),p.type&&d.push(`${p.type}: ${p.value}`)),d}(l).some(u=>Pc(u,c))}(o,a.ignoreErrors)?(De&&he.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${ti(o)}`),!0):function(l){return l.type||!l.exception||!l.exception.values||l.exception.values.length===0?!1:!l.message&&!l.exception.values.some(c=>c.stacktrace||c.type&&c.type!=="Error"||c.value)}(o)?(De&&he.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${ti(o)}`),!0):function(l,c){if(l.type!=="transaction"||!c||!c.length)return!1;const u=l.transaction;return!!u&&Pc(u,c)}(o,a.ignoreTransactions)?(De&&he.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${ti(o)}`),!0):function(l,c){if(!c||!c.length)return!1;const u=Nc(l);return!!u&&Pc(u,c)}(o,a.denyUrls)?(De&&he.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${ti(o)}.
Url: ${Nc(o)}`),!0):function(l,c){if(!c||!c.length)return!0;const u=Nc(l);return!u||Pc(u,c)}(o,a.allowUrls)?!1:(De&&he.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${ti(o)}.
Url: ${Nc(o)}`),!0)}(t,s)?null:t}});function Nc(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(n=[]){for(let r=n.length-1;r>=0;r--){const i=n[r];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null}(t):null}catch{return De&&he.error(`Cannot extract url for event ${ti(e)}`),null}}const nF=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(n,r){return r?!!(function(i,s){const o=i.message,a=s.message;return!(!o&&!a||o&&!a||!o&&a||o!==a||!C_(i,s)||!E_(i,s))}(n,r)||function(i,s){const o=A_(s),a=A_(i);return!(!o||!a||o.type!==a.type||o.value!==a.value||!C_(i,s)||!E_(i,s))}(n,r)):!1}(t,e))return De&&he.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function E_(e,t){let n=t_(e),r=t_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function C_(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch{return!1}}function A_(e){return e.exception&&e.exception.values&&e.exception.values[0]}const wt=Ae;let Sm=0;function P_(){return Sm>0}function So(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(ry(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>So(o,t));return e.apply(this,s)}catch(s){throw Sm++,setTimeout(()=>{Sm--}),function(...o){const a=oy(nf());if(o.length===2){const[l,c]=o;return l?a.withSetScope(l,c):a.withScope(c)}a.withScope(o[0])}(o=>{var a;o.addEventProcessor(l=>(t.mechanism&&(gm(l,void 0),ul(l,t.mechanism)),l.extra={...l.extra,arguments:i},l)),a=s,ay().captureException(a,void 0)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}IE(r,e),hs(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const ly=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function cy(e,t){const n=uy(e,t),r={type:t&&t.name,value:sF(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function rF(e,t,n,r){const i=Jt(),s=i&&i.getOptions().normalizeDepth,o=function(c){for(const u in c)if(Object.prototype.hasOwnProperty.call(c,u)){const d=c[u];if(d instanceof Error)return d}}(t),a={__serialized__:jE(t,s)};if(o)return{exception:{values:[cy(e,o)]},extra:a};const l={exception:{values:[{type:ef(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:oF(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=uy(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function wp(e,t){return{exception:{values:[cy(e,t)]}}}function uy(e,t){const n=t.stacktrace||t.stack||"",r=function(s){return s&&iF.test(s.message)?1:0}(t),i=function(s){return typeof s.framesToPop=="number"?s.framesToPop:0}(t);try{return e(n,r,i)}catch{}return[]}const iF=/Minified React error #\d+;/i;function sF(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function km(e,t,n,r,i){let s;if(PE(t)&&t.error)return wp(e,t.error);if(qb(t)||Bo(t,"DOMException")){const o=t;if("stack"in t)s=wp(e,t);else{const a=o.name||(qb(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=xm(e,l,n,r),gm(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Xv(t)?wp(e,t):bo(t)||ef(t)?(s=rF(e,t,n,i),ul(s,{synthetic:!0}),s):(s=xm(e,t,n,r),gm(s,`${t}`),ul(s,{synthetic:!0}),s)}function xm(e,t,n,r){const i={};if(r&&n){const s=uy(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(ey(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function oF(e,{isUnhandledRejection:t}){const n=function(i,s=40){const o=Object.keys(RE(i));o.sort();const a=o[0];if(!a)return"[object has no keys]";if(a.length>=s)return ao(a,s);for(let l=o.length;l>0;l--){const c=o.slice(0,l).join(", ");if(!(c.length>s))return l===o.length?c:ao(c,s)}return""}(e),r=t?"promise rejection":"exception";return PE(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ef(e)?`Event \`${function(i){try{const s=Object.getPrototypeOf(i);return s?s.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}class aF extends Z${constructor(t){const n={parentSpanIsAlwaysRootSpan:!0,...t};(function(r,i,s=[i],o="npm"){const a=r._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${i}`,packages:s.map(l=>({name:`${o}:@sentry/${l}`,version:is})),version:is}),r._metadata=a})(n,"browser",["browser"],wt.SENTRY_SDK_SOURCE||"npm"),super(n),n.sendClientReports&&wt.document&&wt.document.addEventListener("visibilitychange",()=>{wt.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return function(r,i,s,o){const a=km(r,i,s&&s.syntheticException||void 0,o);return ul(a),a.level="error",s&&s.event_id&&(a.event_id=s.event_id),ms(a)}(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return function(i,s,o="info",a,l){const c=xm(i,s,a&&a.syntheticException||void 0,l);return c.level=o,a&&a.event_id&&(c.event_id=a.event_id),ms(c)}(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(ly&&he.warn("SDK not enabled, will not capture user feedback."));const n=function(r,{metadata:i,tunnel:s,dsn:o}){const a={event_id:r.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!s&&!!o&&{dsn:nd(o)}};return dl(a,[function(c){return[{type:"user_report"},c]}(r)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}}const lF=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ot=Ae;let M_,bp,_p,jc;function cF(){if(!Ot.document)return;const e=Kn.bind(null,"dom"),t=O_(e,!0);Ot.document.addEventListener("click",t,!1),Ot.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=Ot[n]&&Ot[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(ln(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__=l.__sentry_instrumentation_handlers__||{},u=c[s]=c[s]||{refCount:0};if(!u.handler){const d=O_(e);u.handler=d,i.call(this,s,d,a)}u.refCount++}catch{}return i.call(this,s,o,a)}}),ln(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const l=this,c=l.__sentry_instrumentation_handlers__||{},u=c[s];u&&(u.refCount--,u.refCount<=0&&(i.call(this,s,u.handler,a),u.handler=void 0,delete c[s]),Object.keys(c).length===0&&delete l.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function O_(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(s){try{return s.target}catch{return null}}(n);if(function(s,o){return s==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(n.type,r))return;hs(n,"_sentryCaptured",!0),r&&!r._sentryId&&hs(r,"_sentryId",Jn());const i=n.type==="keypress"?"input":n.type;(function(s){if(s.type!==bp)return!1;try{if(!s.target||s.target._sentryId!==_p)return!1}catch{}return!0})(n)||(e({event:n,name:i,global:t}),bp=n.type,_p=r?r._sentryId:void 0),clearTimeout(M_),M_=Ot.setTimeout(()=>{_p=void 0,bp=void 0},1e3)}}function uF(){if(!function(){const n=Rc.chrome,r=n&&n.app&&n.app.runtime,i="history"in Rc&&!!Rc.history.pushState&&!!Rc.history.replaceState;return!r&&i}())return;const e=Ot.onpopstate;function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=jc,o=String(i);jc=o,Kn("history",{from:s,to:o})}return n.apply(this,r)}}Ot.onpopstate=function(...n){const r=Ot.location.href,i=jc;if(jc=r,Kn("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}},ln(Ot.history,"pushState",t),ln(Ot.history,"replaceState",t)}const cu={};function I_(e){cu[e]=void 0}const wa="__sentry_xhr_v3__";function dF(){if(!Ot.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=1e3*mi(),s=Mr(r[0])?r[0].toUpperCase():void 0,o=function(l){if(Mr(l))return l;try{return l.toString()}catch{}}(r[1]);if(!s||!o)return t.apply(n,r);n[wa]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const a=()=>{const l=n[wa];if(l&&n.readyState===4){try{l.status_code=n.status}catch{}Kn("xhr",{endTimestamp:1e3*mi(),startTimestamp:i,xhr:n})}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply:(l,c,u)=>(a(),l.apply(c,u))}):n.addEventListener("readystatechange",a),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(l,c,u){const[d,p]=u,h=c[wa];return h&&Mr(d)&&Mr(p)&&(h.request_headers[d.toLowerCase()]=p),l.apply(c,u)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[wa];return i?(r[0]!==void 0&&(i.body=r[0]),Kn("xhr",{startTimestamp:1e3*mi(),xhr:n}),t.apply(n,r)):t.apply(n,r)}})}function fF(e,t=function(n){const r=cu[n];if(r)return r;let i=Ot[n];if(hm(i))return cu[n]=i.bind(Ot);const s=Ot.document;if(s&&typeof s.createElement=="function")try{const o=s.createElement("iframe");o.hidden=!0,s.head.appendChild(o);const a=o.contentWindow;a&&a[n]&&(i=a[n]),s.head.removeChild(o)}catch(o){lF&&he.warn(`Could not create sandbox iframe for ${n} check, bailing to window.${n}: `,o)}return i&&(cu[n]=i.bind(Ot))}("fetch")){let n=0,r=0;return Y$(e,function(i){const s=i.body.length;n+=s,r++;const o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return I_("fetch"),rd("No fetch implementation available");try{return t(e.url,o).then(a=>(n-=s,r--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return I_("fetch"),n-=s,r--,rd(a)}})}function Sp(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Gi:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const pF=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,hF=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mF=/\((\S*)(?::(\d+))(?::(\d+))\)/,gF=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,vF=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yF=function(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){const l=o[a];if(l.length>1024)continue;const c=Qb.test(l)?l.replace(Qb,"$1"):l;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){s.push(d);break}}if(s.length>=50+i)break}}return function(a){if(!a.length)return[];const l=Array.from(a);return/sentryWrapped/.test(Mc(l).function||"")&&l.pop(),l.reverse(),Xb.test(Mc(l).function||"")&&(l.pop(),Xb.test(Mc(l).function||"")&&l.pop()),l.slice(0,50).map(c=>({...c,filename:c.filename||Mc(l).filename,function:c.function||Gi}))}(s.slice(i))}}([30,e=>{const t=pF.exec(e);if(t){const[,r,i,s]=t;return Sp(r,Gi,+i,+s)}const n=hF.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const s=mF.exec(n[2]);s&&(n[2]=s[1],n[3]=s[2],n[4]=s[3])}const[r,i]=R_(n[1]||Gi,n[2]);return Sp(i,r,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,e=>{const t=gF.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=vF.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let n=t[3],r=t[1]||Gi;return[r,n]=R_(r,n),Sp(n,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),R_=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Gi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},N_=1024,wF=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(n){var r;t.console&&function(i){const s="console";Zi(s,i),Yi(s,x$)}(function(i){return function(s){if(Jt()!==i)return;const o={category:"console",data:{arguments:s.args,logger:"console"},level:O$(s.level),message:Wb(s.args," ")};if(s.level==="assert"){if(s.args[0]!==!1)return;o.message=`Assertion failed: ${Wb(s.args.slice(1)," ")||"console.assert"}`,o.data.arguments=s.args.slice(1)}Ri(o,{input:s.args,level:s.level})}}(n)),t.dom&&(r=function(i,s){return function(o){if(Jt()!==i)return;let a,l,c=typeof s=="object"?s.serializeAttribute:void 0,u=typeof s=="object"&&typeof s.maxStringLength=="number"?s.maxStringLength:void 0;u&&u>N_&&(ly&&he.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${u} was configured. Sentry will use 1024 instead.`),u=N_),typeof c=="string"&&(c=[c]);try{const p=o.event,h=function(m){return!!m&&!!m.target}(p)?p.target:p;a=OE(h,{keyAttrs:c,maxStringLength:u}),l=function(m){if(!ty.HTMLElement)return null;let v=m;for(let S=0;S<5;S++){if(!v)return null;if(v instanceof HTMLElement){if(v.dataset.sentryComponent)return v.dataset.sentryComponent;if(v.dataset.sentryElement)return v.dataset.sentryElement}v=v.parentNode}return null}(h)}catch{a="<unknown>"}if(a.length===0)return;const d={category:`ui.${o.name}`,message:a};l&&(d.data={"ui.component_name":l}),Ri(d,{event:o.event,name:o.name,global:o.global})}}(n,t.dom),Zi("dom",r),Yi("dom",cF)),t.xhr&&function(i){Zi("xhr",i),Yi("xhr",dF)}(function(i){return function(s){if(Jt()!==i)return;const{startTimestamp:o,endTimestamp:a}=s,l=s.xhr[wa];if(!o||!a||!l)return;const{method:c,url:u,status_code:d,body:p}=l,h={method:c,url:u,status_code:d},m={xhr:s.xhr,input:p,startTimestamp:o,endTimestamp:a};Ri({category:"xhr",data:h,type:"http",level:Jb(d)},m)}}(n)),t.fetch&&E$(function(i){return function(s){if(Jt()!==i)return;const{startTimestamp:o,endTimestamp:a}=s;if(a&&(!s.fetchData.url.match(/sentry_key/)||s.fetchData.method!=="POST"))if(s.error)Ri({category:"fetch",data:s.fetchData,level:"error",type:"http"},{data:s.error,input:s.args,startTimestamp:o,endTimestamp:a});else{const l=s.response,c={...s.fetchData,status_code:l&&l.status},u={input:s.args,response:l,startTimestamp:o,endTimestamp:a};Ri({category:"fetch",data:c,type:"http",level:Jb(c.status_code)},u)}}}(n)),t.history&&function(i){const s="history";Zi(s,i),Yi(s,uF)}(function(i){return function(s){if(Jt()!==i)return;let o=s.from,a=s.to;const l=yp(wt.location.href);let c=o?yp(o):void 0;const u=yp(a);c&&c.path||(c=l),l.protocol===u.protocol&&l.host===u.host&&(a=u.relative),l.protocol===c.protocol&&l.host===c.host&&(o=c.relative),Ri({category:"navigation",data:{from:o,to:a}})}}(n)),t.sentry&&n.on("beforeSendEvent",function(i){return function(s){Jt()===i&&Ri({category:"sentry."+(s.type==="transaction"?"transaction":"event"),event_id:s.event_id,level:s.level,message:ti(s)},{event:s})}}(n))}}},bF=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],_F=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&ln(wt,"setTimeout",j_),t.setInterval&&ln(wt,"setInterval",j_),t.requestAnimationFrame&&ln(wt,"requestAnimationFrame",SF),t.XMLHttpRequest&&"XMLHttpRequest"in wt&&ln(XMLHttpRequest.prototype,"send",kF);const n=t.eventTarget;n&&(Array.isArray(n)?n:bF).forEach(xF)}}};function j_(e){return function(...t){const n=t[0];return t[0]=So(n,{mechanism:{data:{function:_i(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function SF(e){return function(t){return e.apply(this,[So(t,{mechanism:{data:{function:"requestAnimationFrame",handler:_i(e)},handled:!1,type:"instrument"}})])}}function kF(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in n&&typeof n[r]=="function"&&ln(n,r,function(i){const s={mechanism:{data:{function:r,handler:_i(i)},handled:!1,type:"instrument"}},o=ry(i);return o&&(s.mechanism.data.handler=_i(o)),So(i,s)})}),e.apply(this,t)}}function xF(e){const t=wt,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ln(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=So(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:_i(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,So(s,{mechanism:{data:{function:"addEventListener",handler:_i(s),target:e},handled:!1,type:"instrument"}}),o])}}),ln(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const l=a&&a.__sentry_wrapped__;l&&r.call(this,i,l,o)}catch{}return r.call(this,i,a,o)}}))}const TF=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(function(r){(function(i){const s="error";Zi(s,i),Yi(s,C$)})(i=>{const{stackParser:s,attachStacktrace:o}=D_();if(Jt()!==r||P_())return;const{msg:a,url:l,line:c,column:u,error:d}=i,p=function(h,m,v,S){const g=h.exception=h.exception||{},b=g.values=g.values||[],_=b[0]=b[0]||{},x=_.stacktrace=_.stacktrace||{},k=x.frames=x.frames||[],T=isNaN(parseInt(S,10))?void 0:S,A=isNaN(parseInt(v,10))?void 0:v,M=Mr(m)&&m.length>0?m:function(){try{return ty.document.location.href}catch{return""}}();return k.length===0&&k.push({colno:T,filename:M,function:Gi,in_app:!0,lineno:A}),h}(km(s,d||a,void 0,o,!1),l,c,u);p.level="error",g_(p,{originalException:d,mechanism:{handled:!1,type:"onerror"}})})}(n),L_("onerror")),t.onunhandledrejection&&(function(r){(function(i){const s="unhandledrejection";Zi(s,i),Yi(s,A$)})(i=>{const{stackParser:s,attachStacktrace:o}=D_();if(Jt()!==r||P_())return;const a=function(c){if(um(c))return c;try{if("reason"in c)return c.reason;if("detail"in c&&"reason"in c.detail)return c.detail.reason}catch{}return c}(i),l=um(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:km(s,a,void 0,o,!0);l.level="error",g_(l,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(n),L_("onunhandledrejection"))}}};function L_(e){ly&&he.log(`Global Handler attached: ${e}`)}function D_(){const e=Jt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const EF=()=>({name:"HttpContext",preprocessEvent(e){if(!wt.navigator&&!wt.location&&!wt.document)return;const t=e.request&&e.request.url||wt.location&&wt.location.href,{referrer:n}=wt.document||{},{userAgent:r}=wt.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),CF=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(r,i,s){const o=s.getOptions();b$(cy,o.stackParser,o.maxValueLength,n,t,r,i)}}};var $_="new",F_="loading",V_="loaded",Tm="joining-meeting",Ui="joined-meeting",Ni="left-meeting",Zr="error",kp="unknown",AF="full",PF="base",z_="no-room",MF="end-of-life",OF="connection-error",IF="iframe-ready-for-launch-config",RF="iframe-launch-config",NF="theme-updated",jF="loading",LF="load-attempt-failed",B_="loaded",DF="started-camera",$F="camera-error",FF="joining-meeting",VF="joined-meeting",zF="left-meeting",BF="participant-joined",UF="participant-updated",qF="participant-left",WF="participant-counts-updated",HF="access-state-updated",KF="meeting-session-summary-updated",JF="meeting-session-state-updated",GF="waiting-participant-added",ZF="waiting-participant-updated",YF="waiting-participant-removed",QF="track-started",XF="track-stopped",e4="transcription-started",t4="transcription-stopped",n4="transcription-error",U_="recording-started",q_="recording-stopped",r4="recording-stats",i4="recording-error",s4="recording-upload-completed",o4="recording-data",a4="app-message",l4="transcription-message",c4="remote-media-player-started",u4="remote-media-player-updated",d4="remote-media-player-stopped",f4="local-screen-share-started",p4="local-screen-share-stopped",h4="local-screen-share-canceled",m4="active-speaker-change",g4="active-speaker-mode-change",v4="network-quality-change",y4="network-connection",w4="cpu-load-change",b4="face-counts-updated",Lc="fullscreen",Dc="exited-fullscreen",_4="live-streaming-started",S4="live-streaming-updated",k4="live-streaming-stopped",x4="live-streaming-error",T4="lang-updated",E4="receive-settings-updated",C4="input-settings-updated",W_="nonfatal-error",H_="error",xp=4096,K_=102400,Tp="iframe-call-message",J_="local-screen-start",G_="daily-method-update-live-streaming-endpoints",$c="transmit-log",ba="daily-custom-track",uu={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},zE={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Em={PLAY:"play",PAUSE:"pause"},Ep=["jpg","png","jpeg"],A4="add-endpoints",P4="remove-endpoints",Z_="sip-call-transfer";function Rn(){return!Ce()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Ce(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function BE(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function M4(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(gs(),fl())||Ce())}function Y_(){if(Ce()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var O4=function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl2")!=null;return e.remove(),t}catch{return!1}}();function UE(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Ce()&&!!O4&&(e?function(){return X_()?!1:["Chrome","Firefox"].includes(gs())}():function(){if(X_())return!1;var t=gs();if(t==="Safari"){var n=fy();if(n.major<15||n.major===15&&n.minor<4)return!1}return t==="Chrome"?dy().major>=77:t==="Firefox"?py().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function qE(){if(Ce()||WE()||typeof AudioWorkletNode>"u")return!1;switch(gs()){case"Chrome":case"Firefox":return!0;case"Safari":return fl().major>=17&&fl().minor>=4}return!1}function Q_(){return BE()&&!function(){var e,t=gs();if(!Rn())return!0;switch(t){case"Chrome":return(e=dy()).major&&e.major>0&&e.major<75;case"Firefox":return(e=py()).major<91;case"Safari":return(e=fy()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function WE(){return Rn().match(/Linux; Android/)}function X_(){var e,t,n=Rn(),r=n.match(/Mac/)&&(!Ce()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(t=e.navigator)!==null&&t!==void 0&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(n.match(/Mobi/)||n.match(/Android/)||r)||!!Rn().match(/DailyAnd\//)||void 0}function gs(){if(typeof window<"u"){var e=Rn();return HE()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||KE()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function fl(){switch(gs()){case"Chrome":return dy();case"Safari":return fy();case"Firefox":return py();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var n=Rn().match(/Edge\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}()}}function dy(){var e=0,t=0,n=0,r=0,i=!1;if(typeof window<"u"){var s=Rn(),o=s.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),n=parseInt(o[3]),r=parseInt(o[4]),i=s.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:n,patch:r,opera:i}}function HE(){return!!Rn().match(/iPad|iPhone|iPod/i)&&BE()}function KE(){return Rn().indexOf("AppleWebKit/605.1.15")>-1}function fy(){var e=0,t=0,n=0;if(typeof window<"u"){var r=Rn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2]),n=parseInt(r[4])}catch{}else(HE()||KE())&&(e=14,t=0,n=3)}return{major:e,minor:t,point:n}}function py(){var e=0,t=0;if(typeof window<"u"){var n=Rn().match(/Firefox\/(\d+).(\d+)/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2])}catch{}}return{major:e,minor:t}}var JE=function(){function e(){er(this,e)}return tr(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,n,r){sa()}},{key:"addListenerForMessagesFromDailyJs",value:function(t,n,r){sa()}},{key:"sendMessageToCallMachine",value:function(t,n,r,i){sa()}},{key:"sendMessageToDailyJs",value:function(t,n){sa()}},{key:"removeListener",value:function(t){sa()}}]),e}();function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(r){Tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I4(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}var R4=function(){Yd(t,JE);var e=I4(t);function t(){var n;return er(this,t),(n=e.call(this))._wrappedListeners={},n._messageCallbacks={},n}return tr(t,[{key:"addListenerForMessagesFromCallMachine",value:function(n,r,i){var s=this,o=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var l=Cp({},a.data);if(delete l.from,l.callbackStamp&&s._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;s._messageCallbacks[c].call(i,l),delete s._messageCallbacks[c]}delete l.what,delete l.callbackStamp,n.call(i,l)}};this._wrappedListeners[n]=o,window.addEventListener("message",o)}},{key:"addListenerForMessagesFromDailyJs",value:function(n,r,i){var s=function(o){var a;if(!(!o.data||o.data.what!==Tp||!o.data.action||o.data.from&&o.data.from!=="module"||o.data.callClientId&&r&&o.data.callClientId!==r||o!=null&&(a=o.data)!==null&&a!==void 0&&a.callFrameId)){var l=o.data;n.call(i,l)}};this._wrappedListeners[n]=s,window.addEventListener("message",s)}},{key:"sendMessageToCallMachine",value:function(n,r,i,s){if(!i)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var o=Cp({},n);if(o.what=Tp,o.from="module",o.callClientId=i,r){var a=Xd();this._messageCallbacks[a]=r,o.callbackStamp=a}var l=s?s.contentWindow:window,c=this._callMachineTargetOrigin(s);c&&l.postMessage(o,c)}},{key:"sendMessageToDailyJs",value:function(n,r){n.what=Tp,n.callClientId=r,n.from="embedded",window.postMessage(n,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(n){var r=this._wrappedListeners[n];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[n])}},{key:"forwardPackagedMessageToCallMachine",value:function(n,r,i){var s=Cp({},n);s.callClientId=i;var o=r?r.contentWindow:window,a=this._callMachineTargetOrigin(r);a&&o.postMessage(s,a)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(n,r){var i=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var o=s.data;n(o)}};return this._wrappedListeners[n]=i,window.addEventListener("message",i),n}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(n){var r=this._wrappedListeners[n];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[n])}},{key:"_callMachineTargetOrigin",value:function(n){return n?n.src?new URL(n.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}]),t}();function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function N4(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}var j4=function(){Yd(t,JE);var e=N4(t);function t(){var n;return er(this,t),n=e.call(this),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Pr.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Pr.EventEmitter,n._wrappedListeners={},n._messageCallbacks={},n}return tr(t,[{key:"addListenerForMessagesFromCallMachine",value:function(n,r,i){this._addListener(n,global.callMachineToDailyJsEmitter,r,i,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(n,r,i){this._addListener(n,global.dailyJsToCallMachineEmitter,r,i,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(n,r,i){this._sendMessage(n,global.dailyJsToCallMachineEmitter,i,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(n,r){this._sendMessage(n,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(n){var r=this._wrappedListeners[n];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[n])}},{key:"_addListener",value:function(n,r,i,s,o){var a=this,l=function(c){if(c.callClientId===i){if(c.callbackStamp&&a._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;a._messageCallbacks[u].call(s,c),delete a._messageCallbacks[u]}n.call(s,c)}};this._wrappedListeners[n]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(n,r,i,s,o){var a=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?tS(Object(d),!0).forEach(function(p){Tr(c,p,d[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):tS(Object(d)).forEach(function(p){Object.defineProperty(c,p,Object.getOwnPropertyDescriptor(d,p))})}return c}({},n);if(a.callClientId=i,s){var l=Xd();this._messageCallbacks[l]=s,a.callbackStamp=l}r.emit("message",a)}}]),t}(),Cm="replace",Am="shallow-merge",nS=[Cm,Am],L4=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.data,r=t.mergeStrategy,i=r===void 0?Cm:r;er(this,e),e._validateMergeStrategy(i),e._validateData(n,i),this.mergeStrategy=i,this.data=n}return tr(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,n){return Object.keys(t).length===0&&n===Am}},{key:"_validateMergeStrategy",value:function(t){if(!nS.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(nS,"]"))}},{key:"_validateData",value:function(t,n){if(!function(a){if(a==null||Ne(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return l==null||l===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(t),n===Cm){var i=JSON.parse(r);Ht(i,t)||console.warn("The meeting session data provided will be modified when serialized.",i,t)}else if(n===Am){for(var s in t)if(Object.hasOwnProperty.call(t,s)&&t[s]!==void 0){var o=JSON.parse(JSON.stringify(t[s]));Ht(t[s],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[s])}}}catch(a){throw Error("Meeting session data must be serializable to JSON: ".concat(a))}if(r.length>K_)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(K_,"."))}}]),e}();function Pm(e,t,n){return Pm=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(r,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(r,o));return s&&cl(a,s.prototype),a},Pm.apply(null,arguments)}function Mm(e){var t=typeof Map=="function"?new Map:void 0;return Mm=function(n){if(n===null||(r=n,Function.toString.call(r).indexOf("[native code]")===-1))return n;var r;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Pm(n,arguments,Qn(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),cl(i,n)},Mm(e)}function D4(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}function rS(e){var t,n=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(n){var r=n.indexOf(e);r!==-1&&n.splice(r,1)}}var $4=function(){function e(t){er(this,e),this._currentLoad=null,this._callClientId=t}return tr(e,[{key:"load",value:function(){var t,n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void i(!0);t=this._callClientId,window._daily.pendings.push(t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new F4(r,function(){i(!1)},function(o,a){a||rS(n._callClientId),s(o,a)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),rS(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),e}(),F4=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;er(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r}return tr(e,[{key:"start",value:function(){var t=this;this._currentAttempt||(this._currentAttempt=new iS(this._dailyConfig,this._successCallback,function n(r){t._currentAttempt.cancelled||(t._attemptsRemaining--,t._failureCallback(r,t._attemptsRemaining>0),t._attemptsRemaining<=0||setTimeout(function(){t._currentAttempt.cancelled||(t._currentAttempt=new iS(t._dailyConfig,t._successCallback,n),t._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),e}(),Ap=function(){Yd(t,Mm(Error));var e=D4(t);function t(){return er(this,t),e.apply(this,arguments)}return tr(t)}(),sd=2e4,iS=function(){function e(n,r,i){er(this,e),this._loadAttemptImpl=Ce()||!n.avoidEval?new V4(n,r,i):new z4(n,r,i)}var t;return tr(e,[{key:"start",value:(t=se(function*(){return this._loadAttemptImpl.start()}),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),e}(),V4=function(){function e(s,o,a){er(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=s,this._successCallback=o,this._failureCallback=a}var t,n,r,i;return tr(e,[{key:"start",value:(i=se(function*(){var s=Qu(this._dailyConfig);!(yield this._tryLoadFromIOSCache(s))&&this._loadFromNetwork(s)}),function(){return i.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=se(function*(s){if(!this._iosCache)return!1;try{var o=yield this._iosCache.get(s);return!!this.cancelled||!!o&&(o.code?(Function('"use strict";'+o.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=o.refetchHeaders,!1))}catch{return!1}}),function(s){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(n=se(function*(s){var o=this;this._networkTimeout=setTimeout(function(){o._networkTimedOut=!0,o._failureCallback({msg:"Timed out (>".concat(sd," ms) when loading call object bundle ").concat(s),type:"timeout"})},sd);try{var a=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(s,a);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Ap;var c=yield this._getBundleCodeFromResponse(s,l);if(this.cancelled)throw new Ap;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(s,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof Ap||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(s,": ").concat(u),type:u.message})}}),function(s){return n.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=se(function*(s,o){if(o.ok)return yield o.text();if(this._iosCache&&o.status===304)return(yield this._iosCache.renew(s,o.headers)).code;throw new Error("Received ".concat(o.status," response"))}),function(s,o){return t.apply(this,arguments)})}]),e}(),z4=function(){function e(t,n,r){er(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=n,this._failureCallback=r,this._attemptId=Xd(),this._networkTimeout=null,this._scriptElement=null}return tr(e,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var t=Qu(this._dailyConfig);(typeof document>"u"?"undefined":Ne(document))==="object"?this._startLoading(t):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(t){var n=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){n._stopLoading(),n._failureCallback({msg:"Timed out (>".concat(sd," ms) when loading call object bundle ").concat(t),type:"timeout"})},sd);var r=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=function(){n._stopLoading(),n.succeeded=!0,n._successCallback()},i.onerror=function(s){n._stopLoading(),n._failureCallback({msg:"Failed to load call object bundle ".concat(s.target.src),type:s.message})},i.src=t,r.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),e}(),Fc=function(e,t,n){return U4(e.local,t,n)===!0},B4=function(e,t,n){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(n==="video"?"Video":"Audio","Tracks")]()[0]},Zs=function(e,t,n,r){var i=q4(e,t,n,r);return i&&i.pendingTrack},U4=function(e,t,n){if(!e)return!1;var r=function(s){switch(s){case"avatar":return!0;case"staged":return s;default:return!!s}},i=e.public.subscribedTracks;return i&&i[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(n)===-1&&i[t].custom?[!0,"staged"].includes(i[t].custom)?r(i[t].custom):r(i[t].custom[n]):r(i[t][n]):!i||r(i.ALL)},q4=function(e,t,n,r){var i=Object.values(e.streams||{}).filter(function(s){return s.participantId===t&&s.type===n&&s.pendingTrack&&s.pendingTrack.kind===r}).sort(function(s,o){return new Date(o.starttime)-new Date(s.starttime)});return i&&i[0]},W4=function(e,t){var n=e.local.public.customTracks;if(n&&n[t])return n[t].track};function sS(e,t){for(var n=t.getState(),r=0,i=["cam","screen"];r<i.length;r++)for(var s=i[r],o=0,a=["video","audio"];o<a.length;o++){var l=a[o],c=s==="cam"?l:"screen".concat(l.charAt(0).toUpperCase()+l.slice(1)),u=e.tracks[c];if(u){var d=e.local?B4(n,s,l):Zs(n,e.session_id,s,l);u.state==="playable"&&(u.track=d),u.persistentTrack=d}}}function oS(e,t){try{var n=t.getState();for(var r in e.tracks)if(!H4(r)){var i=e.tracks[r].kind;if(i){var s=e.tracks[r];if(s){var o=e.local?W4(n,r):Zs(n,e.session_id,r,i);s.state==="playable"&&(e.tracks[r].track=o),s.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(a){console.error(a)}}function H4(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function aS(e,t,n){var r=n.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var i=!0;try{var s=r.participants[e.session_id];s&&s.public&&s.public.rtcType&&s.public.rtcType.impl==="peer-to-peer"&&s.private&&!["connected","completed"].includes(s.private.peeringState)&&(i=!1)}catch(u){console.error(u)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Fc(r,e.session_id,"cam-audio")){var o=Zs(r,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&Fc(r,e.session_id,"cam-video")){var a=Zs(r,e.session_id,"cam","video");a&&(t&&t.videoTrack&&t.videoTrack.id===a.id?e.videoTrack=a:a.muted||(e.videoTrack=a)),e.videoTrack||(e.video=!1)}if(e.screen&&Fc(r,e.session_id,"screen-audio")){var l=Zs(r,e.session_id,"screen","audio");l&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===l.id?e.screenAudioTrack=l:l.muted||(e.screenAudioTrack=l))}if(e.screen&&Fc(r,e.session_id,"screen-video")){var c=Zs(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(u){console.error("unexpected error matching up tracks",u)}}}function K4(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return lS(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return lS(l,c)}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function lS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lr=new Map,lo=null;function J4(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return cS(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return cS(l,c)}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function cS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var cr=new Map,La=null;function G4(e){GE()?function(t){lr.has(t)||(lr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){lr.has(t)&&(lr.get(t).lastDevicesString=JSON.stringify(n),lo||(lo=function(){var r=se(function*(){var i,s=yield navigator.mediaDevices.enumerateDevices(),o=K4(lr.keys());try{for(o.s();!(i=o.n()).done;){var a=i.value,l=JSON.stringify(s);l!==lr.get(a).lastDevicesString&&(lr.get(a).lastDevicesString=l,a(s))}}catch(c){o.e(c)}finally{o.f()}});return function(){return r.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",lo)))}).catch(function(){}))}(e):function(t){cr.has(t)||(cr.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(n){cr.has(t)&&(cr.get(t).lastDevicesString=JSON.stringify(n),La||(La=setInterval(se(function*(){var r,i=yield navigator.mediaDevices.enumerateDevices(),s=J4(cr.keys());try{for(s.s();!(r=s.n()).done;){var o=r.value,a=JSON.stringify(i);a!==cr.get(o).lastDevicesString&&(cr.get(o).lastDevicesString=a,o(i))}}catch(l){s.e(l)}finally{s.f()}}),3e3)))}))}(e)}function Z4(e){GE()?function(t){lr.has(t)&&(lr.delete(t),lr.size===0&&lo&&(navigator.mediaDevices.removeEventListener("devicechange",lo),lo=null))}(e):function(t){cr.has(t)&&(cr.delete(t),cr.size===0&&La&&(clearInterval(La),La=null))}(e)}function GE(){return Ce()||navigator.mediaDevices.ondevicechange!==void 0}var Y4=new Set;function Q4(e,t){return e&&e.readyState==="live"&&!function(n,r){return n.muted&&!Y4.has(n.id)}(e)}var X4=["result"],eV=["preserveIframe"];function uS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(n),!0).forEach(function(r){Tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tV(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qn(e);if(t){var i=Qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qd(this,n)}}function dS(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(l,c){if(l){if(typeof l=="string")return fS(l,c);var u=Object.prototype.toString.call(l).slice(8,-1);if(u==="Object"&&l.constructor&&(u=l.constructor.name),u==="Map"||u==="Set")return Array.from(l);if(u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u))return fS(l,c)}}(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||n.return==null||n.return()}finally{if(a)throw s}}}}function fS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ji={},pS="video",nV="voice",hS=Ce()?{data:{}}:{data:{},topology:"none"},mS={present:0,hidden:0},ZE={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Pp=Object.keys(ZE),gS=["state","volume","simulcastEncodings"],vS={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},od={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Om={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Li={customIntegrations:{validate:iC,help:nC()},customTrayButtons:{validate:rC,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(od))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(n){console.error("Failed to validate dailyConfig",n)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return sC(e,vS)},help:"reactNativeConfig should look like ".concat(JSON.stringify(vS),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return YE(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){return e instanceof MediaStreamTrack&&(t._sharedTracks.videoDeviceId=e),t._preloadCache.videoDeviceId=e,!0}},audioSource:{validate:function(e,t){return e instanceof MediaStreamTrack&&(t._sharedTracks.audioDeviceId=e),t._preloadCache.audioDeviceId=e,!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],n=function(r){for(var i=0,s=Object.keys(r);i<s.length;i++){var o=s[i];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!r[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(r[o],'"')),!1}return!0};return Ne(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?n(e.light.colors)&&n(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):n(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return QE(e,{allowAllParticipantsKey:!1})},help:tC({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(n,r){try{return r.validateUpdateSendSettings(n),!0}catch(i){return console.error("Failed to validate send settings",i),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var n;return!!XE(e)&&(t._preloadCache.inputSettings||(t._preloadCache.inputSettings={}),eC(e,(n=t.properties)===null||n===void 0?void 0:n.dailyConfig),e.audio&&(t._preloadCache.inputSettings.audio=e.audio),e.video&&(t._preloadCache.inputSettings.video=e.video),!0)},help:Im()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Vc={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var n in e.cam)if(n!=="div"&&n!=="video")return!1}if(e.screen){for(var r in e.screen)if(r!=="div"&&r!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var n=[!0,!1,"staged"];if(n.includes(e)||!Ce()&&e==="avatar")return!0;var r=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function i(s){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var a in s)if(a==="custom"){if(!n.includes(s[a])&&!i(s[a],!0))return!1}else{var l=!o&&!r.includes(a),c=!n.includes(s[a]);if(l||c)return!1}return!0}(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Ce()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var r=fs(n[t],2),i=r[0],s=r[1];switch(i){case"hasPresence":if(typeof s!="boolean")return!1;break;case"canSend":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var o,a=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],l=dS(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(!a.includes(c))return!1}}catch(m){l.e(m)}finally{l.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(e.canSend=new Set(s));break;case"canAdmin":if(s instanceof Set||s instanceof Array||Array.isArray(s)){var u,d=["participants","streaming","transcription"],p=dS(s);try{for(p.s();!(u=p.n()).done;){var h=u.value;if(!d.includes(h))return!1}}catch(m){p.e(m)}finally{p.f()}}else if(typeof s!="boolean")return!1;(s instanceof Array||Array.isArray(s))&&(e.canAdmin=new Set(s));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=se(function*(t){return new Promise(function(n,r){var i=[];t.forEach(function(s){return Promise.resolve(s).then(function(o){n(o)}).catch(function(o){i.push(o),i.length===t.length&&r(i)})})})});return function(t){return e.apply(this,arguments)}}());var zc=function(){Yd(_e,Pr);var e,t,n,r,i,s,o,a,l,c,u,d,p,h,m,v,S,g,b,_,x,k,T,A,M,I,N,H,z,B,ne,ve,me,ie,j,q,U,Z,be=tV(_e);function _e(f){var w,y,O,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(er(this,_e),Tr(br(y=be.call(this)),"startListeningForDeviceChanges",function(){G4(y.handleDeviceChange)}),Tr(br(y),"stopListeningForDeviceChanges",function(){Z4(y.handleDeviceChange)}),Tr(br(y),"handleDeviceChange",function(K){K=K.map(function(X){return JSON.parse(JSON.stringify(X))}),y.emitDailyJSEvent({action:"available-devices-updated",availableDevices:K})}),Tr(br(y),"handleNativeAppStateChange",function(){var K=se(function*(X){if(X==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield y.destroy());var ye=X==="active";y.disableReactNativeAutoDeviceManagement("video")||(ye?y.camUnmutedBeforeLosingNativeActiveState&&y.setLocalVideo(!0):(y.camUnmutedBeforeLosingNativeActiveState=y.localVideo(),y.camUnmutedBeforeLosingNativeActiveState&&y.setLocalVideo(!1)))});return function(X){return K.apply(this,arguments)}}()),Tr(br(y),"handleNativeAudioFocusChange",function(K){y.disableReactNativeAutoDeviceManagement("audio")||(y._hasNativeAudioFocus=K,y.toggleParticipantAudioBasedOnNativeAudioFocus(),y._hasNativeAudioFocus?y.micUnmutedBeforeLosingNativeAudioFocus&&y.setLocalAudio(!0):(y.micUnmutedBeforeLosingNativeAudioFocus=y.localAudio(),y.setLocalAudio(!1)))}),Tr(br(y),"handleNativeSystemScreenCaptureStop",function(){y.stopScreenShare()}),y.strictMode=E.strictMode===void 0||E.strictMode,y.allowMultipleCallInstances=(w=E.allowMultipleCallInstances)!==null&&w!==void 0&&w,Object.keys(ji).length&&(y._logDuplicateInstanceAttempt(),!y.allowMultipleCallInstances)){if(y.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),y.callClientId=Xd(),O=br(y),ji[O.callClientId]=O,window._daily.instances[y.callClientId]={},y._sharedTracks={},window._daily.instances[y.callClientId].tracks=y._sharedTracks,E.dailyJsVersion=_e.version(),y._iframe=f,y._callObjectMode=E.layout==="none"&&!y._iframe,y._preloadCache={subscribeToTracksAutomatically:!0,audioDeviceId:null,videoDeviceId:null,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},E.showLocalVideo!==void 0?y._callObjectMode?console.error("showLocalVideo is not available in call object mode"):y._showLocalVideo=!!E.showLocalVideo:y._showLocalVideo=!0,E.showParticipantsBar!==void 0?y._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):y._showParticipantsBar=!!E.showParticipantsBar:y._showParticipantsBar=!0,E.customIntegrations!==void 0?y._callObjectMode?console.error("customIntegrations is not available in call object mode"):y._customIntegrations=E.customIntegrations:y._customIntegrations={},E.customTrayButtons!==void 0?y._callObjectMode?console.error("customTrayButtons is not available in call object mode"):y._customTrayButtons=E.customTrayButtons:y._customTrayButtons={},E.activeSpeakerMode!==void 0?y._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):y._activeSpeakerMode=!!E.activeSpeakerMode:y._activeSpeakerMode=!1,E.receiveSettings?y._callObjectMode?y._receiveSettings=E.receiveSettings:console.error("receiveSettings is only available in call object mode"):y._receiveSettings={},y.validateProperties(E),y.properties=ae({},E),y._preloadCache.inputSettings||(y._preloadCache.inputSettings={}),E.inputSettings&&E.inputSettings.audio&&(y._preloadCache.inputSettings.audio=E.inputSettings.audio),E.inputSettings&&E.inputSettings.video&&(y._preloadCache.inputSettings.video=E.inputSettings.video),y._callObjectLoader=y._callObjectMode?new $4(y.callClientId):null,y._callState=$_,y._isPreparingToJoin=!1,y._accessState={access:kp},y._meetingSessionSummary={},y._finalSummaryOfPrevSession={},y._meetingSessionState=Ip(hS,y._callObjectMode),y._nativeInCallAudioMode=pS,y._participants={},y._isScreenSharing=!1,y._participantCounts=mS,y._rmpPlayerState={},y._waitingParticipants={},y._network={threshold:"good",quality:100},y._activeSpeaker={},y._localAudioLevel=0,y._isLocalAudioLevelObserverRunning=!1,y._remoteParticipantsAudioLevel={},y._isRemoteParticipantsAudioLevelObserverRunning=!1,y._maxAppMessageSize=xp,y._messageChannel=Ce()?new j4:new R4,y._iframe&&(y._iframe.requestFullscreen?y._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===y._iframe?(y.emitDailyJSEvent({action:Lc}),y.sendMessageToCallMachine({action:Lc})):(y.emitDailyJSEvent({action:Dc}),y.sendMessageToCallMachine({action:Dc}))}):y._iframe.webkitRequestFullscreen&&y._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===y._iframe?(y.emitDailyJSEvent({action:Lc}),y.sendMessageToCallMachine({action:Lc})):(y.emitDailyJSEvent({action:Dc}),y.sendMessageToCallMachine({action:Dc}))})),Ce()){var L=y.nativeUtils();L.addAudioFocusChangeListener&&L.removeAudioFocusChangeListener&&L.addAppStateChangeListener&&L.removeAppStateChangeListener&&L.addSystemScreenCaptureStopListener&&L.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),y._hasNativeAudioFocus=!0,L.addAudioFocusChangeListener(y.handleNativeAudioFocusChange),L.addAppStateChangeListener(y.handleNativeAppStateChange),L.addSystemScreenCaptureStopListener(y.handleNativeSystemScreenCaptureStop)}return y._callObjectMode&&y.startListeningForDeviceChanges(),y._messageChannel.addListenerForMessagesFromCallMachine(y.handleMessageFromCallMachine,y.callClientId,br(y)),y}return tr(_e,[{key:"destroy",value:(Z=se(function*(){var f,w;try{yield this.leave()}catch{}var y=this._iframe;if(y){var O=y.parentElement;O&&O.removeChild(y)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Ce()){var E=this.nativeUtils();E.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),E.removeAppStateChangeListener(this.handleNativeAppStateChange),E.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete ji[this.callClientId],!((f=window)===null||f===void 0||(w=f._daily)===null||w===void 0)&&w.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Z.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(f){var w=f.bodyClass,y=f.cssFile,O=f.cssText;return Se(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(y),bodyClass:w,cssText:O}),this}},{key:"iframe",value:function(){return Se(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return jn(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return jn(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(f,w){for(var y in w){if(!Vc[y])throw new Error("unrecognized updateParticipant property ".concat(y));if(Vc[y].validate&&!Vc[y].validate(w[y],this,this._participants[f]))throw new Error(Vc[y].help)}}},{key:"updateParticipant",value:function(f,w){return this._participants.local&&this._participants.local.session_id===f&&(f="local"),f&&w&&(this.validateParticipantProperties(f,w),this.sendMessageToCallMachine({action:"update-participant",id:f,properties:w})),this}},{key:"updateParticipants",value:function(f){var w=this._participants.local&&this._participants.local.session_id;for(var y in f)y===w&&(y="local"),y&&f[y]&&this.validateParticipantProperties(y,f[y]);return this.sendMessageToCallMachine({action:"update-participants",participants:f}),this}},{key:"updateWaitingParticipant",value:(U=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(jn(this._callObjectMode,"updateWaitingParticipant()"),Le(this._callState,"updateWaitingParticipant()"),typeof w!="string"||Ne(y)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(O,E){f.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:w,updates:y},function(L){L.error&&E(L.error),L.id||E(new Error("unknown error in updateWaitingParticipant()")),O({id:L.id})})})}),function(){return U.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(q=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(jn(this._callObjectMode,"updateWaitingParticipants()"),Le(this._callState,"updateWaitingParticipants()"),Ne(w)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(y,O){f.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:w},function(E){E.error&&O(E.error),E.ids||O(new Error("unknown error in updateWaitingParticipants()")),y({ids:E.ids})})})}),function(){return q.apply(this,arguments)})},{key:"requestAccess",value:(j=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=w.access,O=y===void 0?{level:AF}:y,E=w.name,L=E===void 0?"":E;return jn(this._callObjectMode,"requestAccess()"),Le(this._callState,"requestAccess()"),new Promise(function(K,X){f.sendMessageToCallMachine({action:"daily-method-request-access",access:O,name:L},function(ye){ye.error&&X(ye.error),ye.access||X(new Error("unknown error in requestAccess()")),K({access:ye.access,granted:ye.granted})})})}),function(){return j.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in w&&(Ce()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),w={}):f&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),w={})),this.sendMessageToCallMachine({action:"local-audio",state:f,options:w}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(f){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:f}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(f){return this.sendMessageToCallMachine({action:"local-video",state:f}),this}},{key:"getReceiveSettings",value:(ie=se(function*(f){var w=this,y=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,O=y!==void 0&&y;if(jn(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ne(f)){case"string":return new Promise(function(E){w.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:f,showInheritedValues:O},function(L){E(L.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(f){return ie.apply(this,arguments)})},{key:"updateReceiveSettings",value:(me=se(function*(f){var w=this;if(jn(this._callObjectMode,"updateReceiveSettings()"),!QE(f,{allowAllParticipantsKey:!0}))throw new Error(tC({allowAllParticipantsKey:!0}));return Le(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(y){w.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:f},function(O){y({receiveSettings:O.receiveSettings})})})}),function(f){return me.apply(this,arguments)})},{key:"_prepInputSettingsToPresentToUser",value:function(f){var w,y,O,E,L,K,X,ye;if(f){var Je={},ze=((w=f.audio)===null||w===void 0||(y=w.processor)===null||y===void 0?void 0:y.type)==="none"&&((O=f.audio)===null||O===void 0||(E=O.processor)===null||E===void 0?void 0:E._isDefaultWhenNone);if(f.audio&&!ze){var ot=ae({},f.audio.processor);delete ot._isDefaultWhenNone,Je.audio=ae(ae({},f.audio),{},{processor:ot})}var tn=((L=f.video)===null||L===void 0||(K=L.processor)===null||K===void 0?void 0:K.type)==="none"&&((X=f.video)===null||X===void 0||(ye=X.processor)===null||ye===void 0?void 0:ye._isDefaultWhenNone);if(f.video&&!tn){var vn=ae({},f.video.processor);delete vn._isDefaultWhenNone,Je.video=ae(ae({},f.video),{},{processor:vn})}return Je}}},{key:"getInputSettings",value:function(){var f=this;return Se(),new Promise(function(w){w(f._getInputSettings())})}},{key:"_getInputSettings",value:function(){var f,w,y,O,E,L,K,X,ye={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(f=((y=this._inputSettings)===null||y===void 0?void 0:y.video)||ye,w=((O=this._inputSettings)===null||O===void 0?void 0:O.audio)||ye):(f=((E=this._preloadCache)===null||E===void 0||(L=E.inputSettings)===null||L===void 0?void 0:L.video)||ye,w=((K=this._preloadCache)===null||K===void 0||(X=K.inputSettings)===null||X===void 0?void 0:X.audio)||ye);var Je={audio:w,video:f};return this._prepInputSettingsToPresentToUser(Je)}},{key:"updateInputSettings",value:(ve=se(function*(f){var w=this;return Se(),XE(f)?(f&&(this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),eC(f,this.properties.dailyConfig),f.audio&&(this._preloadCache.inputSettings.audio=f.audio),f.video&&(this._preloadCache.inputSettings.video=f.video)),f.video||f.audio?this._callObjectMode&&!this._callMachineInitialized?this._getInputSettings():new Promise(function(y,O){w.sendMessageToCallMachine({action:"update-input-settings",inputSettings:f},function(E){E.error?O(E.error):y({inputSettings:w._prepInputSettingsToPresentToUser(E.inputSettings)})})}):this._getInputSettings()):(console.error(Im()),Promise.reject(Im()))}),function(f){return ve.apply(this,arguments)})},{key:"setBandwidth",value:function(f){var w=f.kbs,y=f.trackConstraints;if(Se(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:w,trackConstraints:y}),this}},{key:"getDailyLang",value:function(){var f=this;if(Se(),this._callMachineInitialized)return new Promise(function(w){f.sendMessageToCallMachine({action:"get-daily-lang"},function(y){delete y.action,delete y.callbackStamp,w(y)})})}},{key:"setDailyLang",value:function(f){return Se(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:f}),this}},{key:"setProxyUrl",value:function(f){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:f}),this}},{key:"setIceConfig",value:function(f){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:f}),this}},{key:"meetingSessionSummary",value:function(){return[Ni,Zr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(ne=se(function*(){var f=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Le(this._callState,"getMeetingSession()"),new Promise(function(w){f.sendMessageToCallMachine({action:"get-meeting-session"},function(y){delete y.action,delete y.callbackStamp,w(y)})})}),function(){return ne.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Le(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";jn(this._callObjectMode,"setMeetingSessionData()"),Le(this._callState,"setMeetingSessionData");try{(function(y,O){new L4({data:y,mergeStrategy:O})})(f,w)}catch(y){throw console.error(y),y}try{this.sendMessageToCallMachine({action:"set-session-data",data:f,mergeStrategy:w})}catch(y){throw new Error("Error setting meeting session data: ".concat(y))}}},{key:"setUserName",value:function(f,w){var y=this;return this.properties.userName=f,new Promise(function(O){y.sendMessageToCallMachine({action:"set-user-name",name:f??"",thisMeetingOnly:Ce()||!!w&&!!w.thisMeetingOnly},function(E){delete E.action,delete E.callbackStamp,O(E)})})}},{key:"setUserData",value:(B=se(function*(f){var w=this;try{YE(f)}catch(y){throw console.error(y),y}if(this.properties.userData=f,this._callMachineInitialized)return new Promise(function(y){try{w.sendMessageToCallMachine({action:"set-user-data",userData:f},function(O){delete O.action,delete O.callbackStamp,y(O)})}catch(O){throw new Error("Error setting user data: ".concat(O))}})}),function(f){return B.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(f){if(f&&(f<100||typeof f!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(f){var w=this;if(typeof AudioWorkletNode>"u"&&!Ce())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(f),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(y,O){w.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:f},function(E){w._isLocalAudioLevelObserverRunning=!E.error,E.error?O({error:E.error}):y()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:f}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(f){var w=this;if(this.validateAudioLevelInterval(f),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(y,O){w.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:f},function(E){w._isRemoteParticipantsAudioLevelObserverRunning=!E.error,E.error?O({error:E.error}):y()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:f}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(z=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(jn(this._callObjectMode,"startCamera()"),Mp(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(w)}catch(y){return Promise.reject(y)}else{if(this._didPreAuth){if(w.url&&w.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(w.token&&w.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(w),this.properties=ae(ae({},this.properties),w)}return new Promise(function(y){f.sendMessageToCallMachine({action:"start-camera",properties:Cs(f.properties,f.callClientId),preloadCache:Cs(f._preloadCache,f.callClientId)},function(O){delete O.action,delete O.callbackStamp,y(O)})})}),function(){return z.apply(this,arguments)})},{key:"validateCustomTrack",value:function(f,w,y){if(y&&y.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(w&&w!=="music"&&w!=="speech"&&!(w instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(y&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(y))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(f instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return Se(),Le(this._callState,"startCustomTrack()"),this.validateCustomTrack(w.track,w.mode,w.trackName),new Promise(function(y,O){f._sharedTracks.customTrack=w.track,w.track=ba,f.sendMessageToCallMachine({action:"start-custom-track",properties:w},function(E){E.error?O({error:E.error}):y(E.mediaTag)})})}},{key:"stopCustomTrack",value:function(f){var w=this;return Se(),Le(this._callState,"stopCustomTrack()"),new Promise(function(y){w.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:f},function(O){y(O.mediaTag)})})}},{key:"setCamera",value:function(f){var w=this;return aa(),Bc(this._callMachineInitialized,"setCamera()"),new Promise(function(y){w.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:f},function(O){y({device:O.device})})})}},{key:"setAudioDevice",value:(H=se(function*(f){return aa(),this.nativeUtils().setAudioDevice(f),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(f){return H.apply(this,arguments)})},{key:"cycleCamera",value:function(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(y){f.sendMessageToCallMachine({action:"cycle-camera",properties:w},function(O){y({device:O.device})})})}},{key:"cycleMic",value:function(){var f=this;return Se(),new Promise(function(w){f.sendMessageToCallMachine({action:"cycle-mic"},function(y){w({device:y.device})})})}},{key:"getCameraFacingMode",value:function(){var f=this;return aa(),new Promise(function(w){f.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(y){w(y.facingMode)})})}},{key:"setInputDevicesAsync",value:(N=se(function*(f){var w=this,y=f.audioDeviceId,O=f.videoDeviceId,E=f.audioSource,L=f.videoSource;return Se(),E!==void 0&&(y=E),L!==void 0&&(O=L),y&&(this._preloadCache.audioDeviceId=y,this._sharedTracks.audioDeviceId=y),O&&(this._preloadCache.videoDeviceId=O,this._sharedTracks.videoDeviceId=O),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:(y instanceof MediaStreamTrack&&(y=ba),O instanceof MediaStreamTrack&&(O=ba),new Promise(function(K){w.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:y,videoDeviceId:O},function(X){delete X.action,delete X.callbackStamp,X.returnPreloadCache?K({camera:{deviceId:w._preloadCache.videoDeviceId},mic:{deviceId:w._preloadCache.audioDeviceId},speaker:{deviceId:w._preloadCache.outputDeviceId}}):K(X)})}))}),function(f){return N.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(I=se(function*(f){var w=this,y=f.outputDeviceId;return Se(),y&&(this._preloadCache.outputDeviceId=y),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(O){w.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:y},function(E){delete E.action,delete E.callbackStamp,E.returnPreloadCache?O({camera:{deviceId:w._preloadCache.videoDeviceId},mic:{deviceId:w._preloadCache.audioDeviceId},speaker:{deviceId:w._preloadCache.outputDeviceId}}):O(E)})})}),function(f){return I.apply(this,arguments)})},{key:"getInputDevices",value:(M=se(function*(){var f=this;return this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(w){f.sendMessageToCallMachine({action:"get-input-devices"},function(y){delete y.action,delete y.callbackStamp,y.returnPreloadCache?w({camera:{deviceId:f._preloadCache.videoDeviceId},mic:{deviceId:f._preloadCache.audioDeviceId},speaker:{deviceId:f._preloadCache.outputDeviceId}}):w(y)})})}),function(){return M.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return aa(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(f){if(aa(),[pS,nV].includes(f)){if(f!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=f,!this.disableReactNativeAutoDeviceManagement("audio")&&du(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",f)}},{key:"preAuth",value:(A=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(jn(this._callObjectMode,"preAuth()"),Mp(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(w)),!w.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(w),this.properties=ae(ae({},this.properties),w),new Promise(function(y,O){f.sendMessageToCallMachine({action:"daily-method-preauth",properties:Cs(f.properties,f.callClientId),preloadCache:Cs(f._preloadCache,f.callClientId)},function(E){return E.error?O(E.error):E.access?(f._didPreAuth=!0,void y({access:E.access})):O(new Error("unknown error in preAuth()"))})})}),function(){return A.apply(this,arguments)})},{key:"load",value:(T=se(function*(f){var w=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(f&&(this.validateProperties(f),this.properties=ae(ae({},this.properties),f)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(F_),this.emitDailyJSEvent({action:jF}),this._callObjectMode?new Promise(function(y,O){w._callObjectLoader.cancel();var E=Date.now();w._callObjectLoader.load(w.properties.dailyConfig,function(L){w._bundleLoadTime=L?"no-op":Date.now()-E,w._updateCallState(V_),L&&w.emitDailyJSEvent({action:B_}),y()},function(L,K){if(w.emitDailyJSEvent({action:LF}),!K){w._updateCallState(Zr),w.resetMeetingDependentVars();var X={action:H_,errorMsg:L.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:L,bundleUrl:Qu(w.properties.dailyConfig)}}};w._maybeSendToSentry(X),w.emitDailyJSEvent(X),O(L.msg)}})}):(this._iframe.src=CE(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(y,O){w._loadedCallback=function(E){w._callState!==Zr?(w._updateCallState(V_),(w.properties.cssFile||w.properties.cssText)&&w.loadCss(w.properties),y()):O(E)}}))}}),function(f){return T.apply(this,arguments)})},{key:"join",value:(k=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var y=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(w)}catch(O){return this.updateIsPreparingToJoin(!1),Promise.reject(O)}}else{if(y=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(w.url&&w.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(w.token&&w.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(w.url&&!this._callObjectMode&&w.url&&w.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(w.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(w),this.properties=ae(ae({},this.properties),w)}return w.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!w.showLocalVideo),w.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!w.showParticipantsBar),this._callState===Ui||this._callState===Tm?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Tm,!1),this.emitDailyJSEvent({action:FF}),this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),w.inputSettings&&w.inputSettings.audio&&(this._preloadCache.inputSettings.audio=w.inputSettings.audio),w.inputSettings&&w.inputSettings.video&&(this._preloadCache.inputSettings.video=w.inputSettings.video),this.sendMessageToCallMachine({action:"join-meeting",properties:Cs(this.properties,this.callClientId),preloadCache:Cs(this._preloadCache,this.callClientId)}),new Promise(function(O,E){f._joinedCallback=function(L,K){if(f._callState!==Zr){if(f._updateCallState(Ui),L)for(var X in L){if(f._callObjectMode){var ye=f._callMachine().store;sS(L[X],ye),oS(L[X],ye),aS(L[X],f._participants[X],ye)}f._participants[X]=ae({},L[X]),f.toggleParticipantAudioBasedOnNativeAudioFocus()}y&&f.loadCss(f.properties),O(L)}else E(K)}}))}),function(){return k.apply(this,arguments)})},{key:"leave",value:(x=se(function*(){var f=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(w){f._callState===Ni||f._callState===Zr?w():f._callObjectLoader&&!f._callObjectLoader.loaded?(f._callObjectLoader.cancel(),f._updateCallState(Ni),f.resetMeetingDependentVars(),f.emitDailyJSEvent({action:Ni}),w()):(f._resolveLeave=w,f.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return x.apply(this,arguments)})},{key:"startScreenShare",value:(_=se(function*(){var f=this,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Bc(this._callMachineInitialized,"startScreenShare()"),w.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",w.screenVideoSendSettings),w.mediaStream&&(this._sharedTracks.screenMediaStream=w.mediaStream,w.mediaStream=ba),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var y=this.nativeUtils();if(yield y.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:W_,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});y.setSystemScreenCaptureStartCallback(function(){y.setSystemScreenCaptureStartCallback(null),f.sendMessageToCallMachine({action:J_,captureOptions:w})}),y.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:J_,captureOptions:w})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Bc(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"local-recording-start"},f))}},{key:"updateRecording",value:function(f){var w=f.layout,y=w===void 0?{preset:"default"}:w,O=f.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:y,instanceId:O})}},{key:"stopRecording",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"local-recording-stop"},f))}},{key:"startLiveStreaming",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-start-live-streaming"},f))}},{key:"updateLiveStreaming",value:function(f){var w=f.layout,y=w===void 0?{preset:"default"}:w,O=f.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:y,instanceId:O})}},{key:"addLiveStreamingEndpoints",value:function(f){var w=f.endpoints,y=f.instanceId;this.sendMessageToCallMachine({action:G_,endpointsOp:A4,endpoints:w,instanceId:y})}},{key:"removeLiveStreamingEndpoints",value:function(f){var w=f.endpoints,y=f.instanceId;this.sendMessageToCallMachine({action:G_,endpointsOp:P4,endpoints:w,instanceId:y})}},{key:"stopLiveStreaming",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ae({action:"daily-method-stop-live-streaming"},f))}},{key:"validateDailyConfig",value:function(f){f.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(f.camSimulcastEncodings)),f.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),WE()&&f.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(f){if(!(f instanceof Array||Array.isArray(f)))throw new Error("encodings must be an Array");if(!bS(f.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var O=0;O<f.length;O++){var E=f[O];for(var L in this._validateEncodingLayerHasValidProperties(E),E)if(Pp.includes(L)){if(typeof E[L]!="number")throw new Error("".concat(L," must be a number"));if(w){var K=w[L],X=K.min,ye=K.max;if(!bS(E[L],X,ye))throw new Error("".concat(L," value not in range. valid range: ").concat(X," to ").concat(ye))}}else if(!["active","scalabilityMode"].includes(L))throw new Error("Invalid key ".concat(L,", valid keys are:")+Object.values(Pp));if(y&&!E.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(b=se(function*(f){var w=this,y=f.url,O=f.settings,E=O===void 0?{state:Em.PLAY}:O;try{(function(L){if(typeof L!="string")throw new Error('url parameter must be "string" type')})(y),wS(E),function(L){for(var K in L)if(!gS.includes(K))throw new Error("Invalid key ".concat(K,", valid keys are: ").concat(gS));L.simulcastEncodings&&this.validateSimulcastEncodings(L.simulcastEncodings,ZE,!0)}(E)}catch(L){throw console.error("invalid argument Error: ".concat(L)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),L}return new Promise(function(L,K){w.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:y,settings:E},function(X){X.error?K({error:X.error,errorMsg:X.errorMsg}):L({session_id:X.session_id,remoteMediaPlayerState:{state:X.state,settings:X.settings}})})})}),function(f){return b.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(g=se(function*(f){var w=this;if(typeof f!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(y,O){w.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:f},function(E){E.error?O({error:E.error,errorMsg:E.errorMsg}):y()})})}),function(f){return g.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(S=se(function*(f){var w=this,y=f.session_id,O=f.settings;try{wS(O)}catch(E){throw console.error("invalid argument Error: ".concat(E)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),E}return new Promise(function(E,L){w.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:y,settings:O},function(K){K.error?L({error:K.error,errorMsg:K.errorMsg}):E({session_id:K.session_id,remoteMediaPlayerState:{state:K.state,settings:K.settings}})})})}),function(f){return S.apply(this,arguments)})},{key:"startTranscription",value:function(f){Le(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ae({action:"daily-method-start-transcription"},f))}},{key:"updateTranscription",value:function(f){if(Le(this._callState,"updateTranscription()"),!f)throw new Error("updateTranscription Error: options is mandatory");if(Ne(f)!=="object")throw new Error("updateTranscription Error: options must be object type");if(f.participants&&!Array.isArray(f.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ae({action:"daily-method-update-transcription"},f))}},{key:"stopTranscription",value:function(f){if(Le(this._callState,"stopTranscription()"),f&&Ne(f)!=="object")throw new Error("stopTranscription Error: options must be object type");if(f&&!f.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(ae({action:"daily-method-stop-transcription"},f))}},{key:"startDialOut",value:(v=se(function*(f){var w=this;Le(this._callState,"startDialOut()");var y=function(O){if(O){if(!Array.isArray(O))throw new Error("Error starting dial out: audio codec must be an array");if(O.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");O.forEach(function(E){if(typeof E!="string")throw new Error("Error starting dial out: audio codec must be a string");if(E!=="OPUS"&&E!=="PCMU"&&E!=="PCMA"&&E!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!f.sipUri&&!f.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(f.sipUri&&f.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(f.sipUri){if(typeof f.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!f.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(f.video&&typeof f.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(O){if(O&&(y(O.audio),O.video)){if(!Array.isArray(O.video))throw new Error("Error starting dial out: video codec must be an array");if(O.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");O.video.forEach(function(E){if(typeof E!="string")throw new Error("Error starting dial out: video codec must be a string");if(E!=="H264"&&E!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(f.codecs)}if(f.phoneNumber){if(typeof f.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(f.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");f.codecs&&y(f.codecs.audio)}if(f.callerId){if(typeof f.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(f.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(f.displayName){if(typeof f.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(f.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(f.userId){if(typeof f.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(f.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(O,E){w.sendMessageToCallMachine(ae({action:"dialout-start"},f),function(L){L.error?E(L.error):O(L)})})}),function(f){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(f){var w=this;return Le(this._callState,"stopDialOut()"),new Promise(function(y,O){w.sendMessageToCallMachine(ae({action:"dialout-stop"},f),function(E){E.error?O(E.error):y(E)})})}},{key:"sipCallTransfer",value:(m=se(function*(f){var w=this;if(Le(this._callState,"sipCallTransfer()"),!f)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return f.useSipRefer=!1,yS(f,"sipCallTransfer"),new Promise(function(y,O){w.sendMessageToCallMachine(ae({action:Z_},f),function(E){E.error?O(E.error):y(E)})})}),function(f){return m.apply(this,arguments)})},{key:"sipRefer",value:(h=se(function*(f){var w=this;if(Le(this._callState,"sipRefer()"),!f)throw new Error("sessionId and toEndPoint are mandatory parameter");return f.useSipRefer=!0,yS(f,"sipRefer"),new Promise(function(y,O){w.sendMessageToCallMachine(ae({action:Z_},f),function(E){E.error?O(E.error):y(E)})})}),function(f){return h.apply(this,arguments)})},{key:"sendDTMF",value:(p=se(function*(f){var w=this;return Le(this._callState,"sendDTMF()"),function(y){var O=y.sessionId,E=y.tones;if(!O||!E)throw new Error("sessionId and tones are mandatory parameter");if(typeof O!="string"||typeof E!="string")throw new Error("sessionId and tones should be of string type");if(E.length>20)throw new Error("tones string must be upto 20 characters");var L=/[^0-9A-D*#]/g,K=E.match(L);if(K&&K[0])throw new Error("".concat(K[0]," is not valid DTMF tone"))}(f),new Promise(function(y,O){w.sendMessageToCallMachine(ae({action:"send-dtmf"},f),function(E){E.error?O(E.error):y(E)})})}),function(f){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var f=this;return this._callState!==Ui?{stats:{latest:{}}}:new Promise(function(w){f.sendMessageToCallMachine({action:"get-calc-stats"},function(y){w(ae({stats:y.stats},f._network))})})}},{key:"testWebsocketConnectivity",value:(d=se(function*(){var f=this;if(Op(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(w){return Promise.reject(w)}return new Promise(function(w,y){f.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(O){O.error?y(O.error):w(O.results)})})}),function(){return d.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(f){return f?f instanceof MediaStreamTrack?!!Q4(f)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(u=se(function*(){var f=this;Se(),jn(this._callObjectMode,"testCallQuality()"),Bc(this._callMachineInitialized,"testCallQuality()",null,!0),Mp(this._callState,this._isPreparingToJoin,"testCallQuality()");var w=this._testCallAlreadyInProgress,y=function(E){w||(f._testCallInProgress=E)};if(y(!0),this.needsLoad())try{var O=this._callState;yield this.load(),this._callState=O}catch(E){return y(!1),Promise.reject(E)}return new Promise(function(E){f.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:f.properties.dailyJsVersion},function(L){var K=L.results,X=K.result,ye=Pb(K,X4);if(X==="failed"){var Je,ze=ae({},ye);(Je=ye.error)!==null&&Je!==void 0&&Je.details?(ye.error.details=JSON.parse(ye.error.details),ze.error=ae(ae({},ze.error),{},{details:ae({},ze.error.details)}),ze.error.details.duringTest="testCallQuality"):(ze.error=ze.error?ae({},ze.error):{},ze.error.details={duringTest:"testCallQuality"}),f._maybeSendToSentry(ze)}y(!1),E(ae({result:X},ye))})})}),function(){return u.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(c=se(function*(f){var w;Ce()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),w=yield this.testPeerToPeerCallQuality(f)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),w=yield this.testCallQuality());var y={result:w.result,secondsElapsed:w.secondsElapsed};return w.data&&(y.data={maxRTT:w.data.maxRoundTripTime,packetLoss:w.data.avgRecvPacketLoss}),y}),function(f){return c.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(l=se(function*(f){var w=this;if(Op(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}var y=f.videoTrack,O=f.duration;if(!this._validateVideoTrackForNetworkTests(y))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=y,new Promise(function(E,L){w.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:O},function(K){K.error?L(K.error):E(K.results)})})}),function(f){return l.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Ce()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(a=se(function*(f){var w=this;if(Op(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(y){return Promise.reject(y)}if(!this._validateVideoTrackForNetworkTests(f))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=f,new Promise(function(y,O){w.sendMessageToCallMachine({action:"test-network-connectivity"},function(E){E.error?O(E.error):y(E.results)})})}),function(f){return a.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var f=this;return new Promise(function(w){f._callState===Ui?f.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(y){w(y.cpuStats)}):w({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(f){var w;if(!(((w=Object.keys(f))===null||w===void 0?void 0:w.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Pp))}},{key:"_validateVideoSendSettings",value:function(f,w){var y=f==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],O="Video send settings should be either an object or one of the supported presets: ".concat(y.join());if(typeof w=="string"){if(!y.includes(w))throw new Error(O)}else{if(Ne(w)!=="object")throw new Error(O);if(!w.maxQuality&&!w.encodings&&w.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(w.maxQuality&&["low","medium","high"].indexOf(w.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(w.encodings){var E=!1;switch(Object.keys(w.encodings).length){case 1:E=!w.encodings.low;break;case 2:E=!w.encodings.low||!w.encodings.medium;break;case 3:E=!w.encodings.low||!w.encodings.medium||!w.encodings.high;break;default:E=!0}if(E)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");w.encodings.low&&this._validateEncodingLayerHasValidProperties(w.encodings.low),w.encodings.medium&&this._validateEncodingLayerHasValidProperties(w.encodings.medium),w.encodings.high&&this._validateEncodingLayerHasValidProperties(w.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(f){var w=this;if(!f||Object.keys(f).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(f).forEach(function(y){var O=fs(y,2),E=O[0],L=O[1];w._validateVideoSendSettings(E,L)})}},{key:"updateSendSettings",value:function(f){var w=this;return this.validateUpdateSendSettings(f),this.needsLoad()?(this._preloadCache.sendSettings=f,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(y,O){w.sendMessageToCallMachine({action:"update-send-settings",sendSettings:f},function(E){E.error?O(E.error):y(E.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return Se(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(f){return Se(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:f}),this}},{key:"activeSpeakerMode",value:function(){return Se(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(f){return Le(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=f,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:f}),this}},{key:"enumerateDevices",value:(o=se(function*(){var f=this;if(this._callObjectMode){var w=yield navigator.mediaDevices.enumerateDevices();return gs()==="Firefox"&&fl().major>115&&fl().major<123&&(w=w.filter(function(y){return y.kind!=="audiooutput"})),{devices:w.map(function(y){var O=JSON.parse(JSON.stringify(y));if(!Ce()&&y.kind==="videoinput"&&y.getCapabilities){var E,L=y.getCapabilities();O.facing=(L==null||(E=L.facingMode)===null||E===void 0?void 0:E.length)>=1?L.facingMode[0]:void 0}return O})}}return new Promise(function(y){f.sendMessageToCallMachine({action:"enumerate-devices"},function(O){y({devices:O.devices})})})}),function(){return o.apply(this,arguments)})},{key:"sendAppMessage",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Le(this._callState,"sendAppMessage()"),JSON.stringify(f).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:f,to:w}),this}},{key:"addFakeParticipant",value:function(f){return Se(),Le(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ae({action:"add-fake-participant"},f)),this}},{key:"setShowNamesMode",value:function(f){return nn(this._callObjectMode,"setShowNamesMode()"),Se(),f&&f!=="always"&&f!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:f}),this)}},{key:"setShowLocalVideo",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return nn(this._callObjectMode,"setShowLocalVideo()"),Se(),Le(this._callState,"setShowLocalVideo()"),typeof f!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:f}),this._showLocalVideo=f,this)}},{key:"showLocalVideo",value:function(){return nn(this._callObjectMode,"showLocalVideo()"),Se(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var f=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return nn(this._callObjectMode,"setShowParticipantsBar()"),Se(),Le(this._callState,"setShowParticipantsBar()"),typeof f!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:f}),this._showParticipantsBar=f,this)}},{key:"showParticipantsBar",value:function(){return nn(this._callObjectMode,"showParticipantsBar()"),Se(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return Se(),nn(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(f){return Se(),nn(this._callObjectMode,"setCustomIntegrations()"),Le(this._callState,"setCustomIntegrations()"),iC(f)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:f}),this._customIntegrations=f,this):this}},{key:"startCustomIntegrations",value:function(f){var w=this;if(Se(),nn(this._callObjectMode,"startCustomIntegrations()"),Le(this._callState,"startCustomIntegrations()"),Array.isArray(f)&&f.some(function(E){return typeof E!="string"})||!Array.isArray(f)&&typeof f!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var y=typeof f=="string"?[f]:f,O=y.filter(function(E){return!(E in w._customIntegrations)});return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:y}),this)}},{key:"stopCustomIntegrations",value:function(f){var w=this;if(Se(),nn(this._callObjectMode,"stopCustomIntegrations()"),Le(this._callState,"stopCustomIntegrations()"),Array.isArray(f)&&f.some(function(E){return typeof E!="string"})||!Array.isArray(f)&&typeof f!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var y=typeof f=="string"?[f]:f,O=y.filter(function(E){return!(E in w._customIntegrations)});return O.length?(console.error(`Can't find custom integration(s): "`.concat(O.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:y}),this)}},{key:"customTrayButtons",value:function(){return nn(this._callObjectMode,"customTrayButtons()"),Se(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(f){return nn(this._callObjectMode,"updateCustomTrayButtons()"),Se(),Le(this._callState,"updateCustomTrayButtons()"),rC(f)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:f}),this._customTrayButtons=f,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(od))),this)}},{key:"theme",value:function(){return nn(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(f){var w=this;return nn(this._callObjectMode,"setTheme()"),new Promise(function(y,O){try{w.validateProperties({theme:f}),w.properties.theme=ae({},f),w.sendMessageToCallMachine({action:"set-theme",theme:w.properties.theme});try{w.emitDailyJSEvent({action:NF,theme:w.properties.theme})}catch(E){console.log("could not emit 'theme-updated'",E)}y(w.properties.theme)}catch(E){O(E)}})}},{key:"requestFullscreen",value:(s=se(function*(){if(Se(),this._iframe&&!document.fullscreenElement&&Y_())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(f){console.log("could not make video call fullscreen",f)}}),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){Se(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=se(function*(){var f=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(w){f.sendMessageToCallMachine({action:"get-sidebar-view"},function(y){w(y.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(f){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:f}),this)}},{key:"room",value:(r=se(function*(){var f=this,w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,y=w===void 0||w;return this._accessState.access===kp||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(O){f.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:y},function(E){delete E.action,delete E.callbackStamp,O(E)})})}),function(){return r.apply(this,arguments)})},{key:"geo",value:(n=se(function*(){try{var f=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield f.json()).geo}}catch(w){return console.error("geo lookup failed",w),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(t=se(function*(f){var w=this;return Se(),Le(this._callState,"setNetworkTopology()"),new Promise(function(y,O){w.sendMessageToCallMachine({action:"set-network-topology",opts:f},function(E){E.error?O({error:E.error}):y({workerId:E.workerId})})})}),function(f){return t.apply(this,arguments)})},{key:"getNetworkTopology",value:(e=se(function*(){var f=this;return new Promise(function(w,y){f.needsLoad()&&w({topology:"none"}),f.sendMessageToCallMachine({action:"get-network-topology"},function(O){O.error?y({error:O.error}):w({topology:O.topology})})})}),function(){return e.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(f){if(Se(),typeof f!="number"&&f!==!0&&f!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(f));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:f})}},{key:"on",value:function(f,w){return Pr.prototype.on.call(this,f,w)}},{key:"once",value:function(f,w){return Pr.prototype.once.call(this,f,w)}},{key:"off",value:function(f,w){return Pr.prototype.off.call(this,f,w)}},{key:"validateProperties",value:function(f){for(var w in f){if(!Li[w])throw new Error("unrecognized property '".concat(w,"'"));if(Li[w].validate&&!Li[w].validate(f[w],this))throw new Error("property '".concat(w,"': ").concat(Li[w].help))}}},{key:"assembleMeetingUrl",value:function(){var f,w,y=ae(ae({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(f=this.properties.dailyConfig)!==null&&f!==void 0&&f.proxyUrl?encodeURIComponent((w=this.properties.dailyConfig)===null||w===void 0?void 0:w.proxyUrl):void 0}),O=y.url.match(/\?/)?"&":"?";return y.url+O+Object.keys(Li).filter(function(E){return Li[E].queryString&&y[E]!==void 0}).map(function(E){return"".concat(Li[E].queryString,"=").concat(y[E])}).join("&")}},{key:"needsLoad",value:function(){return[$_,F_,Ni,Zr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(f,w){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(f,w,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(f){this._messageChannel.forwardPackagedMessageToCallMachine(f,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(f){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(f,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(f){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(f)}},{key:"handleMessageFromCallMachine",value:function(f){switch(f.action){case IF:this.sendMessageToCallMachine(ae({action:RF},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var w={action:$c,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Qu(this.properties.dailyConfig)}};this.sendMessageToCallMachine(w),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case B_:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(f);break;case VF:var y,O=ae({},f);delete O.internal,this._maxAppMessageSize=((y=f.internal)===null||y===void 0?void 0:y._maxAppMessageSize)||xp,this._joinedCallback&&(this._joinedCallback(f.participants),this._joinedCallback=null),this.emitDailyJSEvent(O);break;case BF:case UF:if(this._callState===Ni)return;if(f.participant&&f.participant.session_id){var E=f.participant.local?"local":f.participant.session_id;if(this._callObjectMode){var L=this._callMachine().store;sS(f.participant,L),oS(f.participant,L),aS(f.participant,this._participants[E],L)}try{this.maybeParticipantTracksStopped(this._participants[E],f.participant),this.maybeParticipantTracksStarted(this._participants[E],f.participant),this.maybeEventRecordingStopped(this._participants[E],f.participant),this.maybeEventRecordingStarted(this._participants[E],f.participant)}catch(Tf){console.error("track events error",Tf)}this.compareEqualForParticipantUpdateEvent(f.participant,this._participants[E])||(this._participants[E]=ae({},f.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(f))}break;case qF:if(f.participant&&f.participant.session_id){var K=this._participants[f.participant.session_id];K&&this.maybeParticipantTracksStopped(K,null),delete this._participants[f.participant.session_id],this.emitDailyJSEvent(f)}break;case WF:Ht(this._participantCounts,f.participantCounts)||(this._participantCounts=f.participantCounts,this.emitDailyJSEvent(f));break;case HF:var X={access:f.access};f.awaitingAccess&&(X.awaitingAccess=f.awaitingAccess),Ht(this._accessState,X)||(this._accessState=X,this.emitDailyJSEvent(f));break;case KF:if(f.meetingSession){this._meetingSessionSummary=f.meetingSession,this.emitDailyJSEvent(f);var ye=ae(ae({},f),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ye)}break;case H_:var Je;this._iframe&&!f.preserveIframe&&(this._iframe.src=""),this._updateCallState(Zr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(f.errorMsg),this._loadedCallback=null),f.preserveIframe;var ze=Pb(f,eV);ze!=null&&(Je=ze.error)!==null&&Je!==void 0&&Je.details&&(ze.error.details=JSON.parse(ze.error.details)),this._maybeSendToSentry(f),this._joinedCallback&&(this._joinedCallback(null,ze),this._joinedCallback=null),this.emitDailyJSEvent(ze);break;case zF:this._callState!==Zr&&this._updateCallState(Ni),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(f);break;case"selected-devices-updated":f.devices&&this.emitDailyJSEvent(f);break;case v4:var ot=f.threshold,tn=f.quality;ot===this._network.threshold&&tn===this._network.quality||(this._network.quality=tn,this._network.threshold=ot,this.emitDailyJSEvent(f));break;case w4:f&&f.cpuLoadState&&this.emitDailyJSEvent(f);break;case b4:f&&f.faceCounts!==void 0&&this.emitDailyJSEvent(f);break;case m4:var vn=f.activeSpeaker;this._activeSpeaker.peerId!==vn.peerId&&(this._activeSpeaker.peerId=vn.peerId,this.emitDailyJSEvent({action:f.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var Oi=f.show;this._showLocalVideo=Oi,this.emitDailyJSEvent({action:f.action,show:Oi});break;case g4:var Wr=f.enabled;this._activeSpeakerMode!==Wr&&(this._activeSpeakerMode=Wr,this.emitDailyJSEvent({action:f.action,enabled:this._activeSpeakerMode}));break;case GF:case ZF:case YF:this._waitingParticipants=f.allWaitingParticipants,this.emitDailyJSEvent({action:f.action,participant:f.participant});break;case E4:Ht(this._receiveSettings,f.receiveSettings)||(this._receiveSettings=f.receiveSettings,this.emitDailyJSEvent({action:f.action,receiveSettings:f.receiveSettings}));break;case C4:if(!Ht(this._inputSettings,f.inputSettings)){var dt=this._getInputSettings();this._inputSettings=f.inputSettings,this._preloadCache.inputSettings={},Ht(dt,this._getInputSettings())||this.emitDailyJSEvent({action:f.action,inputSettings:this._getInputSettings()})}break;case"send-settings-updated":Ht(this._sendSettings,f.sendSettings)||(this._sendSettings=f.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:f.action,sendSettings:f.sendSettings}));break;case"local-audio-level":this._localAudioLevel=f.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(f);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=f.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(f);break;case c4:var yn=f.session_id;this._rmpPlayerState[yn]=f.playerState,this.emitDailyJSEvent(f);break;case d4:delete this._rmpPlayerState[f.session_id],this.emitDailyJSEvent(f);break;case u4:var Ge=f.session_id,wn=this._rmpPlayerState[Ge];wn&&this.compareEqualForRMPUpdateEvent(wn,f.remoteMediaPlayerState)||(this._rmpPlayerState[Ge]=f.remoteMediaPlayerState,this.emitDailyJSEvent(f));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(f);break;case JF:var xf=this._meetingSessionState.topology!==(f.meetingSessionState&&f.meetingSessionState.topology);this._meetingSessionState=Ip(f.meetingSessionState,this._callObjectMode),(this._callObjectMode||xf)&&this.emitDailyJSEvent(f);break;case f4:this._isScreenSharing=!0,this.emitDailyJSEvent(f);break;case p4:case h4:this._isScreenSharing=!1,this.emitDailyJSEvent(f);break;case U_:case q_:case r4:case i4:case s4:case e4:case t4:case n4:case DF:case $F:case a4:case l4:case"test-completed":case y4:case o4:case _4:case S4:case k4:case x4:case W_:case T4:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(f);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(f,w){var y="record";f&&(w.local||w[y]!==!1||f[y]===w[y]||this.emitDailyJSEvent({action:q_}))}},{key:"maybeEventRecordingStarted",value:function(f,w){var y="record";f&&(w.local||w[y]!==!0||f[y]===w[y]||this.emitDailyJSEvent({action:U_}))}},{key:"maybeEventTrackStopped",value:function(f,w,y,O){f&&(f.readyState!=="ended"&&w&&f.id===w.id||this.emitDailyJSEvent({action:XF,track:f,participant:y,type:O}))}},{key:"maybeEventTrackStarted",value:function(f,w,y,O){w&&(f&&f.readyState!=="ended"&&w.id===f.id||this.emitDailyJSEvent({action:QF,track:w,participant:y,type:O}))}},{key:"maybeParticipantTracksStopped",value:function(f,w){if(f)for(var y in f.tracks)this.maybeEventTrackStopped(f.tracks[y].track,w&&w.tracks[y]?w.tracks[y].track:null,w,y)}},{key:"maybeParticipantTracksStarted",value:function(f,w){if(w)for(var y in w.tracks)this.maybeEventTrackStarted(f&&f.tracks[y]?f.tracks[y].track:null,w.tracks[y].track,w,y)}},{key:"compareEqualForRMPUpdateEvent",value:function(f,w){var y,O;return f.state===w.state&&((y=f.settings)===null||y===void 0?void 0:y.volume)===((O=w.settings)===null||O===void 0?void 0:O.volume)}},{key:"emitDailyJSEvent",value:function(f){try{f.callClientId=this.callClientId,this.emit(f.action,f)}catch(w){console.log("could not emit",f,w)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(f,w){return!!Ht(f,w)&&(!f.videoTrack||!w.videoTrack||f.videoTrack.id===w.videoTrack.id&&f.videoTrack.muted===w.videoTrack.muted&&f.videoTrack.enabled===w.videoTrack.enabled)&&(!f.audioTrack||!w.audioTrack||f.audioTrack.id===w.audioTrack.id&&f.audioTrack.muted===w.audioTrack.muted&&f.audioTrack.enabled===w.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Ce()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(f){this._updateCallState(this._callState,f)}},{key:"_updateCallState",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(f!==this._callState||w!==this._isPreparingToJoin){var y=this._callState,O=this._isPreparingToJoin;this._callState=f,this._isPreparingToJoin=w;var E=this._callState===Ui;this.updateShowAndroidOngoingMeetingNotification(E);var L=du(y,O),K=du(this._callState,this._isPreparingToJoin);L!==K&&(this.updateKeepDeviceAwake(K),this.updateDeviceAudioMode(K),this.updateNoOpRecordingEnsuringBackgroundContinuity(K))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=mS,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:kp},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Ip(hS,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=xp,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(f){Ce()&&this.nativeUtils().setKeepDeviceAwake(f,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(f){if(Ce()&&!this.disableReactNativeAutoDeviceManagement("audio")){var w=f?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(w)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(f){if(Ce()&&this.nativeUtils().setShowOngoingMeetingNotification){var w,y,O,E;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var L=this.properties.reactNativeConfig.androidInCallNotification;w=L.title,y=L.subtitle,O=L.iconName,E=L.disableForCustomOverride}E&&(f=!1),this.nativeUtils().setShowOngoingMeetingNotification(f,w,y,O,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(f){Ce()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(f)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var f,w;if(Ce()){var y=(f=this._callMachine())===null||f===void 0||(w=f.store)===null||w===void 0?void 0:w.getState();for(var O in y==null?void 0:y.streams){var E=y.streams[O];E&&E.pendingTrack&&E.pendingTrack.kind==="audio"&&(E.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(f){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[f]}},{key:"absoluteUrl",value:function(f){if(f!==void 0){var w=document.createElement("a");return w.href=f,w.href}}},{key:"sayHello",value:function(){var f="hello, world.";return console.log(f),f}},{key:"_logUseAfterDestroy",value:function(){var f=Object.values(ji)[0];if(this.needsLoad())if(f&&!f.needsLoad()){var w={action:$c,level:"error",code:this.strictMode?9995:9997};f.sendMessageToCallMachine(w)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var y={action:$c,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(y,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var f=0,w=Object.values(ji);f<w.length;f++){var y=w[f];y._callMachineInitialized?(y.sendMessageToCallMachine({action:$c,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),y._delayDuplicateInstanceLog=!1):y._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(f){var w,y,O,E,L,K;if(!((w=f.error)!==null&&w!==void 0&&w.type&&(![OF,MF,z_].includes(f.error.type)||f.error.type===z_&&f.error.msg.includes("deleted")))){var X=(y=this.properties)!==null&&y!==void 0&&y.url?new URL(this.properties.url):void 0,ye="production";X&&X.host.includes(".staging.daily")&&(ye="staging");var Je,ze,ot,tn,vn,Oi=[tF(),X$(),_F(),wF(),TF(),CF(),nF(),EF()].filter(function(Tf){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Tf.name)}),Wr=new aF({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:fF,stackParser:yF,integrations:Oi,environment:ye}),dt=new Si;if(dt.setClient(Wr),Wr.init(),this.session_id&&dt.setExtra("sessionId",this.session_id),this.properties){var yn=ae({},this.properties);yn.userName=yn.userName?"[Filtered]":void 0,yn.userData=yn.userData?"[Filtered]":void 0,yn.token=yn.token?"[Filtered]":void 0,dt.setExtra("properties",yn)}if(X){var Ge=X.searchParams.get("domain");if(!Ge){var wn=X.host.match(/(.*?)\./);Ge=wn&&wn[1]||""}Ge&&dt.setTag("domain",Ge)}f.error&&(dt.setTag("fatalErrorType",f.error.type),dt.setExtra("errorDetails",f.error.details),!((Je=f.error.details)===null||Je===void 0)&&Je.uri&&dt.setTag("serverAddress",f.error.details.uri),!((ze=f.error.details)===null||ze===void 0)&&ze.workerGroup&&dt.setTag("workerGroup",f.error.details.workerGroup),!((ot=f.error.details)===null||ot===void 0)&&ot.geoGroup&&dt.setTag("geoGroup",f.error.details.geoGroup),!((tn=f.error.details)===null||tn===void 0)&&tn.on&&dt.setTag("connectionAttempt",f.error.details.on),(vn=f.error.details)!==null&&vn!==void 0&&vn.bundleUrl&&(dt.setTag("bundleUrl",f.error.details.bundleUrl),dt.setTag("bundleError",f.error.details.sourceError.type))),dt.setTags({callMode:this._callObjectMode?Ce()?"reactNative":(O=this.properties)!==null&&O!==void 0&&(E=O.dailyConfig)!==null&&E!==void 0&&(L=E.callMode)!==null&&L!==void 0&&L.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:_e.version()});var xf=((K=f.error)===null||K===void 0?void 0:K.msg)||f.errorMsg;dt.captureException(new Error(xf))}}},{key:"_callMachine",value:function(){var f,w,y;return(f=window._daily)===null||f===void 0||(w=f.instances)===null||w===void 0||(y=w[this.callClientId])===null||y===void 0?void 0:y.callMachine}}],[{key:"supportedBrowser",value:function(){if(Ce())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var f=y$.getParser(Rn());return{supported:!!Q_(),mobile:f.getPlatformType()==="mobile",name:f.getBrowserName(),version:f.getBrowserVersion(),supportsFullscreen:!!Y_(),supportsScreenShare:!!M4(),supportsSfu:!!Q_(),supportsVideoProcessing:UE(),supportsAudioProcessing:qE()}}},{key:"version",value:function(){return"0.73.0"}},{key:"createCallObject",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return f.layout="none",new _e(null,f)}},{key:"wrap",value:function(f){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Se(),!f||!f.contentWindow||typeof f.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return w.layout||(w.customLayout?w.layout="custom-v1":w.layout="browser"),new _e(f,w)}},{key:"createFrame",value:function(f,w){var y,O;Se(),f&&w?(y=f,O=w):f&&f.append?(y=f,O={}):(y=document.body,O=f||{});var E=O.iframeStyle;E||(E=y===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var L=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?L.allow="microphone, camera":L.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",L.style.visibility="hidden",y.appendChild(L),L.style.visibility=null,Object.keys(E).forEach(function(K){return L.style[K]=E[K]}),O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser");try{return new _e(L,O)}catch(K){throw y.removeChild(L),K}}},{key:"createTransparentFrame",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Se();var w=document.createElement("iframe");return w.allow="microphone; camera; autoplay",w.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(w),f.layout||(f.layout="custom-v1"),_e.wrap(w,f)}},{key:"getCallInstance",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return f?ji[f]:Object.values(ji)[0]}}]),_e}();function Cs(e,t){var n={};for(var r in e)if(e[r]instanceof MediaStreamTrack)n[r]=ba;else if(r==="dailyConfig"){if(e[r].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[r].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[r].modifyLocalSdpHook}if(e[r].modifyRemoteSdpHook){var s=window._daily.instances[t].customCallbacks||{};s.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=s,delete e[r].modifyRemoteSdpHook}n[r]=e[r]}else n[r]=e[r];return n}function Le(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==Ui){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(n+=" ".concat(t)),console.error(n),new Error(n)}}function du(e,t){return[Tm,Ui].includes(e)||t}function Mp(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",r=arguments.length>3?arguments[3]:void 0;if(du(e,t)){var i="".concat(n," not supported after joining a meeting.");throw r&&(i+=" ".concat(r)),console.error(i),new Error(i)}}function Bc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",n=arguments.length>2?arguments[2]:void 0;if(!e){var r="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw n&&(r+=" ".concat(n)),console.error(r),new Error(r)}}function Op(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function jn(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function nn(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function Se(){if(Ce())throw new Error("This daily-js method is not currently supported in React Native")}function aa(){if(!Ce())throw new Error("This daily-js method is only supported in React Native")}function YE(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Ht(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(n){throw Error("userData must be serializable to JSON: ".concat(n))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function QE(e,t){for(var n=t.allowAllParticipantsKey,r=function(d){var p=["local"];return n||p.push("*"),d&&!p.includes(d)},i=function(d){return!!(d.layer===void 0||Number.isInteger(d.layer)&&d.layer>=0||d.layer==="inherit")},s=function(d){return!!d&&!(d.video&&!i(d.video))&&!(d.screenVideo&&!i(d.screenVideo))},o=0,a=Object.entries(e);o<a.length;o++){var l=fs(a[o],2),c=l[0],u=l[1];if(!r(c)||!s(u))return!1}return!0}function XE(e){return Ne(e)==="object"&&!(e.video&&(Ne(e.video)!=="object"||!function(i){var s=["type","config"];return!i||Ne(i)!=="object"||!function(o){return typeof o!="string"?!1:Object.values(uu).includes(o)?!0:(console.error("inputSettings video processor type invalid"),!1)}(i.type)||i.config&&(Ne(i.config)!=="object"||!function(o,a){var l=Object.keys(a);if(l.length===0)return!0;var c="invalid object in inputSettings -> video -> processor -> config";switch(o){case uu.BGBLUR:return l.length>1||l[0]!=="strength"?(console.error(c),!1):!(typeof a.strength!="number"||a.strength<=0||a.strength>1||isNaN(a.strength))||(console.error("".concat(c,"; expected: {0 < strength <= 1}, got: ").concat(a.strength)),!1);case uu.BGIMAGE:return!(a.source!==void 0&&!function(u){if(u.source==="default")return u.type="default",!0;if(u.source instanceof ArrayBuffer)return!0;if(Xu(u.source))return u.type="url",!!function(h){var m=new URL(h),v=m.pathname;if(m.protocol==="data:")try{var S=v.substring(v.indexOf(":")+1,v.indexOf(";")).split("/")[1];return Ep.includes(S)}catch(b){return console.error("failed to deduce blob content type",b),!1}var g=v.split(".").at(-1).toLowerCase().trim();return Ep.includes(g)}(u.source)||(console.error("invalid image type; supported types: [".concat(Ep.join(", "),"]")),!1);return d=u.source,p=Number(d),isNaN(p)||!Number.isInteger(p)||p<=0||p>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(u.type="daily-preselect",!0);var d,p}(a));default:return!0}}(i.type,i.config))?!1:(Object.keys(i).filter(function(o){return!s.includes(o)}).forEach(function(o){console.warn("invalid key inputSettings -> video -> processor : ".concat(o)),delete i[o]}),!0)}(e.video.processor)))&&!(e.audio&&(Ne(e.audio)!=="object"||(n=e.audio.processor,r=["type"],!n||Ne(n)!=="object"||(Object.keys(n).filter(function(i){return!r.includes(i)}).forEach(function(i){console.warn("invalid key inputSettings -> audio -> processor : ".concat(i)),delete n[i]}),t=n.type,typeof t!="string"||!Object.values(zE).includes(t)&&(console.error("inputSettings audio processor type invalid"),1)))));var t,n,r}function eC(e,t){var n,r=[];e.video&&!UE((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)&&(delete e.video,r.push("video")),e.audio&&!qE()&&(delete e.audio,r.push("audio")),r.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(r.join(", ")))}function Im(){var e=Object.values(uu).join(" | "),t=Object.values(zE).join(" | ");return"inputSettings must be of the form: { video?: { processor: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function tC(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(PF).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function nC(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Om),".")}function rC(e){if(e&&Ne(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(od),".")),!1;if(e)for(var t=0,n=Object.entries(e);t<n.length;t++)for(var r=fs(n[t],1)[0],i=0,s=Object.entries(e[r]);i<s.length;i++){var o=fs(s[i],2),a=o[0],l=o[1],c=od.id[a];if(!c)return console.error("customTrayButton does not support key ".concat(a)),!1;switch(a){case"iconPath":case"iconPathDarkMode":if(!Xu(l))return console.error("customTrayButton ".concat(a," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(l))return console.error("customTrayButton ".concat(a," should be ").concat(c,". Got: ").concat(l)),!1;break;default:if(Ne(l)!==c)return console.error("customTrayButton ".concat(a," should be a ").concat(c,".")),!1}}return!0}function iC(e){if(!e||e&&Ne(e)!=="object"||Array.isArray(e))return console.error(nC()),!1;for(var t=function(d){return"".concat(d," should be ").concat(Om.id[d])},n=function(d,p){return console.error("customIntegration ".concat(d,": ").concat(p))},r=0,i=Object.entries(e);r<i.length;r++){var s=fs(i[r],1)[0];if(!("label"in e[s]))return n(s,"label is required"),!1;if(!("location"in e[s]))return n(s,"location is required"),!1;if(!("src"in e[s])&&!("srcdoc"in e[s]))return n(s,"src or srcdoc is required"),!1;for(var o=0,a=Object.entries(e[s]);o<a.length;o++){var l=fs(a[o],2),c=l[0],u=l[1];switch(c){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof u!="string")return n(s,t(c)),!1;break;case"iconURL":if(!Xu(u))return n(s,"".concat(c," should be a url")),!1;break;case"src":if("srcdoc"in e[s])return n(s,"cannot have both src and srcdoc"),!1;if(!Xu(u))return n(s,'src "'.concat(u,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[s])return n(s,"cannot have both src and srcdoc"),!1;if(typeof u!="string")return n(s,t(c)),!1;break;case"location":if(!["main","sidebar"].includes(u))return n(s,t(c)),!1;break;case"controlledBy":if(u!=="*"&&u!=="owners"&&(!Array.isArray(u)||u.some(function(d){return typeof d!="string"})))return n(s,t(c)),!1;break;case"shared":if((!Array.isArray(u)||u.some(function(d){return typeof d!="string"}))&&u!=="owners"&&typeof u!="boolean")return n(s,t(c)),!1;break;default:if(!Om.id[c])return console.error("customIntegration does not support key ".concat(c)),!1}}}return!0}function sC(e,t){if(t===void 0)return!1;switch(Ne(t)){case"string":return Ne(e)===t;case"object":if(Ne(e)!=="object")return!1;for(var n in e)if(!sC(e[n],t[n]))return!1;return!0;default:return!1}}function yS(e,t){var n=e.sessionId,r=e.toEndPoint,i=e.useSipRefer;if(!n||!r)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof n!="string"||typeof r!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!r.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!r.startsWith("sip:")&&!r.startsWith("+"))throw new Error("toEndPoint: ".concat(r,' must starts with either "sip:" or "+"'))}function wS(e){if(Ne(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Em).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Em));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function bS(e,t,n){return!(typeof e!="number"||e<t||e>n)}function Ip(e,t){return e&&!t&&delete e.data,e}function _S(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){n(c);return}a.done?t(l):Promise.resolve(l).then(r,i)}function Nr(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){_S(s,r,i,o,a,"next",l)}function a(l){_S(s,r,i,o,a,"throw",l)}o(void 0)})}}function st(){return st=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function hy(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rV(e,t){if(e){if(typeof e=="string")return SS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SS(e,t)}}function SS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oC(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=rV(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var aC=P.createContext(null),yr=function(){var t=P.useContext(aC);return P.useDebugValue(t),t},my=P.createContext({on:function(){},off:function(){}}),iV=-1,Rm=function(){return iV--},sV=1,Nm=function(){return sV++},ce=function(t,n,r){r===void 0&&(r=!1);var i=P.useContext(my),s=i.off,o=i.on,a=P.useState(!1),l=a[0],c=a[1],u=P.useRef(0),d=P.useMemo(function(){return r?Rm():Nm()},[r]);P.useEffect(function(){if(!(!t||l)){if(u.current>1e5){console.error(`useDailyEvent called with potentially non-memoized event callback or due to too many re-renders.
        Memoize using useCallback to avoid re-render loop or reduce the amount of state transitions the callback depends on.
        Passed callback for '`+t+"' event is NOT registered.",n),c(!0);return}u.current++;var p=setTimeout(function(){u.current=0},50);return o(t,n,d),function(){clearTimeout(p),s(t,d)}}},[n,t,d,l,s,o]),P.useDebugValue({event:t,eventId:d,isBlocked:l,callback:n})};function Un(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Un(e[n],t[n]))return!1;return!0}if(MediaStream&&e instanceof MediaStream&&t instanceof MediaStream)return e.id===t.id&&e.active===t.active&&e.getTracks().length===t.getTracks().length&&e.getTracks().every(function(m,v){return Un(m,t.getTracks()[v])});if(MediaStreamTrack&&e instanceof MediaStreamTrack&&t instanceof MediaStreamTrack)return e.id===t.id&&e.kind===t.kind&&e.readyState===t.readyState;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return e.source===t.source&&e.flags===t.flags;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;var r=Array.from(e).sort(),i=Array.from(t).sort();return r.every(function(m,v){return Un(m,i[v])})}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(var s=oC(e.entries()),o;!(o=s()).done;){var a=o.value,l=a[0],c=a[1];if(!t.has(l)||!Un(c,t.get(l)))return!1}return!0}if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var p=0;p<u.length;p++){var h=u[p];if(!Object.prototype.hasOwnProperty.call(t,h)||!Un(e[h],t[h]))return!1}return!0}function lC(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],s=r!==null&&typeof r=="object",o=i!==null&&typeof i=="object";if(s||o){if(!Un(r,i))return!1}else if(r!==i)return!1}return!0}function Me(e){return"daily-react-"+e}function gy(e){var t=new Map,n=new Map;return function(r){if(!t.has(r)){var i=ee(function(s){var o=e.get(r)(s),a=n.get(r);return a!=null&&e.equals(o,a)?a:(n.set(r,o),o)});t.set(r,i)}return t.get(r)}}var vy="::",cC=";",yy=function(t,n){return t+vy+n},oV=function(t,n){return t+vy+n.join(cC)},Mt=function(t,n){return wy(yy(t,n))},As=Zd(function(e){var t=ee([]);return t.debugLabel=Me("participant-property-paths-"+e),t}),wy=Zd(function(e){var t=ee(null);return t.debugLabel=Me("participant-property-"+e),t}),aV=gy({equals:lC,get:function(t){return function(n){var r=t.split(vy),i=r[0],s=r[1],o=s.split(cC);return o.map(function(a){return n(Mt(i,a))})}}}),uC=function(t,n){var r,i=Pt(Array.isArray(n)?aV(oV(t,n)):wy(yy(t,n)));return P.useDebugValue(Array.isArray(n)?n.reduce(function(s,o,a){return s[o]=i[a],s},{}):(r={},r[n]=i,r)),i},ad=function(t,n,r,i){r===void 0&&(r=500),i===void 0&&(i=!1);var s=P.useContext(my),o=s.off,a=s.on,l=P.useMemo(function(){var d;return Array.isArray(t)?t.reduce(function(p,h){return p[h]=i?Rm():Nm(),p},{}):(d={},d[t]=i?Rm():Nm(),d)},[t,i]),c=P.useRef([]);ce("call-instance-destroyed",P.useCallback(function(){c.current.length=0},[]));var u=P.useMemo(function(){return u$(function(){c.current.length!==0&&(n(c.current),c.current.length=0)},r,{trailing:!0})},[n,r]);P.useEffect(function(){if(t){var d=function(h){c.current.push(h),u()};return Array.isArray(t)?t.forEach(function(p){return a(p,d,l[p])}):a(t,d,l[t]),function(){Array.isArray(t)?t.forEach(function(p){return o(p,l[p])}):o(t,l[t])}}},[u,t,l,o,a]),P.useDebugValue({event:t,eventId:l})},lV=function e(t,n,r){if(n===void 0&&(n=""),r===void 0&&(r=new Set),typeof t!="object"||t===null||r.has(t))return[n];r.add(t);var i=[];for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=n?n+"."+s:s;i.push.apply(i,[o].concat(e(t[s],o,r)))}return r.delete(t),i},Rp=function(t){return lV(t)},cV=function(t,n){return String(n).split(".").filter(function(r){return r.length}).reduce(function(r,i){return r&&r[i]},t)},Np=function(t,n){return n.map(function(r){return cV(t,r)})},ld=ee(null);ld.debugLabel=Me("active-id");var Da=ee("");Da.debugLabel=Me("local-id");var dC=ee(null);dC.debugLabel=Me("local-join-date");var qi=ee([]);qi.debugLabel=Me("participant-ids");var zi=Zd(function(e){var t=ee(null);return t.debugLabel=Me("participant-"+e),t}),jm=ee([]);jm.debugLabel=Me("waiting-participants");var jp=Zd(function(e){var t=ee({awaitingAccess:{level:"full"},id:e,name:""});return t.debugLabel=Me("waiting-participant-"+e),t}),uV=function(t){var n=t.children,r=yr(),i=P.useState(!1),s=i[0],o=i[1],a=ge(P.useCallback(function(u,d,p){d(Da,p.local.session_id);var h=Object.values(p),m=h.map(function(v){return v.session_id});d(qi,m),h.forEach(function(v){d(zi(v.session_id),v);var S=Rp(v);d(As(v.session_id),S),S.forEach(function(g){var b=Np(v,[g]),_=b[0];d(Mt(v.session_id,g),_)})}),o(!0)},[]));P.useEffect(function(){if(!(!r||s)){var u=setInterval(function(){var d=r.participants();"local"in d&&(a(d),clearInterval(u))},100);return function(){clearInterval(u)}}},[r,s,a]);var l=P.useCallback(function(){if(r){var u=r==null?void 0:r.participants();u.local&&a(u)}},[r,a]);ce("started-camera",l,!0),ce("access-state-updated",l,!0),ce("joining-meeting",ge(P.useCallback(function(u,d){d(dC,new Date),l()},[l])),!0),ce("joined-meeting",P.useCallback(function(u){a(u.participants)},[a]),!0);var c=ge(P.useCallback(function(u,d){d(Da,""),d(ld,null);var p=u(qi);p.forEach(function(h){return zi.remove(h)}),d(qi,[])},[]));return ce("call-instance-destroyed",c,!0),ce("left-meeting",c,!0),ad(["active-speaker-change","participant-joined","participant-updated","participant-left"],ge(P.useCallback(function(u,d,p){p.length&&p.forEach(function(h){switch(h.action){case"active-speaker-change":{d(ld,h.activeSpeaker.peerId),d(zi(h.activeSpeaker.peerId),function(k){return k?st({},k,{last_active:new Date}):null});break}case"participant-joined":{d(qi,function(k){return k.includes(h.participant.session_id)?k:[].concat(k,[h.participant.session_id])}),d(zi(h.participant.session_id),h.participant);var m=Rp(h.participant);d(As(h.participant.session_id),m),m.forEach(function(k){var T=Np(h.participant,[k]),A=T[0];d(Mt(h.participant.session_id,k),A)});break}case"participant-updated":{d(zi(h.participant.session_id),h.participant),h.participant.local&&d(Da,h.participant.session_id);var v=Rp(h.participant),S=u(As(h.participant.session_id)),g=v.length!==S.length||v.some(function(k){return!S.includes(k)});g&&d(As(h.participant.session_id),v);var b=new Set(S),_=Np(h.participant,v);v.forEach(function(k,T){var A=_[T];b.delete(k),d(Mt(h.participant.session_id,k),function(M){return Un(M,A)?M:A})}),b.forEach(function(k){d(Mt(h.participant.session_id,k),null)});break}case"participant-left":{d(qi,function(k){return k.includes(h.participant.session_id)?k.filter(function(T){return T!==h.participant.session_id}):k}),zi.remove(h.participant.session_id);var x=u(As(h.participant.session_id));x.forEach(function(k){wy.remove(yy(h.participant.session_id,k))}),As.remove(h.participant.session_id);break}}})},[])),100,!0),ad(["waiting-participant-added","waiting-participant-updated","waiting-participant-removed"],ge(P.useCallback(function(u,d,p){p.forEach(function(h){switch(h.action){case"waiting-participant-added":d(jm,function(m){return m.includes(h.participant.id)?m:[].concat(m,[h.participant.id])}),d(jp(h.participant.id),h.participant);break;case"waiting-participant-updated":d(jp(h.participant.id),h.participant);break;case"waiting-participant-removed":d(jm,function(m){return m.filter(function(v){return v!==h.participant.id})}),jp.remove(h.participant.id);break}})},[])),100,!0),xe.createElement(xe.Fragment,null,n)},tc=function(){var t=Pt(Da);return P.useDebugValue(t),t},dV=function(){return!0},fV=function(t){var n=t===void 0?{}:t,r=n.filter,i=r===void 0?dV:r,s=n.ignoreLocal,o=s===void 0?!1:s,a=tc(),l=Pt(ld),c=o&&l===a,u=!(i!=null&&i(l)),d=!c&&!u,p=P.useState(d?l:null),h=p[0],m=p[1];return P.useEffect(function(){c||u||m(l)},[u,c,l]),P.useDebugValue(h),h},cd=function(t){return["blocked","off"].includes(t)},fC=";",pC=function(t,n){return""+t+fC+n},hC=gy({equals:Un,get:function(t){return function(n){var r=t.split(fC),i=r[0],s=r[1],o=n(qi);return o.filter(function(a){switch(i){case"local":case"owner":case"record":return n(Mt(a,i));case"remote":return!n(Mt(a,"local"));case"screen":{var l=n(Mt(a,"tracks.screenAudio.state")),c=n(Mt(a,"tracks.screenVideo.state"));return!cd(l)||!cd(c)}default:return!0}}).sort(function(a,l){switch(s){case"joined_at":case"session_id":case"user_id":case"user_name":{var c=n(Mt(a,s)),u=n(Mt(l,s));if(c!==void 0||u!==void 0){if(c===void 0)return-1;if(u===void 0||c>u)return 1;if(c<u)return-1}return 0}default:return 0}})}}}),rf=function(t){var n=t===void 0?{}:t,r=n.filter,i=n.onActiveSpeakerChange,s=n.onParticipantJoined,o=n.onParticipantLeft,a=n.onParticipantUpdated,l=n.sort,c=Pt(hC(pC(typeof r=="string"?r:null,typeof l=="string"?l:null))),u=typeof r=="function"||typeof l=="function",d=P.useCallback(function(g){if(typeof r!="function"&&typeof l!="function")return[];var b=c.map(function(_){return g(zi(_))});return b.filter(function(_){return!!_}).filter(typeof r=="function"?r:function(){return!0}).sort(typeof l=="function"?l:function(){return 0}).map(function(_){return _.session_id}).filter(Boolean)},[r,c,l]),p=P.useState([]),h=p[0],m=p[1],v=ge(P.useCallback(function(g){if(u){var b=d(g);Un(b,h)||m(b)}},[h,d,u]));P.useEffect(function(){v()},[v]),ad(["participant-joined","participant-updated","active-speaker-change","participant-left"],P.useCallback(function(g){g.length&&(g.forEach(function(b){switch(b.action){case"participant-joined":s==null||s(b);break;case"participant-updated":a==null||a(b);break;case"active-speaker-change":i==null||i(b);break;case"participant-left":o==null||o(b);break}}),v())},[v,i,s,o,a]));var S=typeof r=="function"||typeof l=="function"?h:c;return P.useDebugValue(S),S},pV=gy({equals:lC,get:function(){return function(t){var n=t(hC(pC("screen",null)));return n.map(function(r){return{local:t(Mt(r,"local")),screenAudio:t(Mt(r,"tracks.screenAudio")),screenVideo:t(Mt(r,"tracks.screenVideo")),screenId:r+"-screen",session_id:r}})}}}),hV=function(t){var n={},r=n.onError,i=n.onLocalScreenShareStarted,s=n.onLocalScreenShareStopped,o=yr(),a=P.useCallback(function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];o==null||o.startScreenShare.apply(o,p)},[o]),l=P.useCallback(function(){for(var d=arguments.length,p=new Array(d),h=0;h<d;h++)p[h]=arguments[h];o==null||o.stopScreenShare.apply(o,p)},[o]);ce("local-screen-share-started",P.useCallback(function(){return i==null?void 0:i()},[i])),ce("local-screen-share-stopped",P.useCallback(function(){return s==null?void 0:s()},[s])),ce("nonfatal-error",P.useCallback(function(d){d.type==="screen-share-error"&&(r==null||r(d))},[r]));var c=Pt(pV(void 0)),u={isSharingScreen:c.some(function(d){return d.local}),screens:c,startScreenShare:a,stopScreenShare:l};return P.useDebugValue(u),u},sf=function(t,n){n===void 0&&(n="video");var r=uC(t,"tracks."+n),i=r?st({},r,{isOff:cd(r.state)}):{isOff:!0,persistentTrack:void 0,state:"off",subscribed:!1};return P.useDebugValue(i),i};function mC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return P.useCallback(function(r){for(var i=0;i<t.length;i++){var s=t[i];typeof s=="function"?s(r):s&&typeof s=="object"&&(s.current=r)}},t)}var mV=["onPlayFailed","sessionId","type"],fu=P.memo(P.forwardRef(function(e,t){var n=e.onPlayFailed,r=e.sessionId,i=e.type,s=i===void 0?"audio":i,o=hy(e,mV),a=P.useRef(null),l=sf(r,s),c=mC(a,t),u=l==null?void 0:l.subscribed;return P.useEffect(function(){var d=a.current;if(!(!d||!(l!=null&&l.persistentTrack))){var p,h=function(){d.play().catch(function(S){n==null||n({sessionId:r,target:d,type:s,message:S.message,name:S.name})})},m=function(){clearTimeout(p)};if(!MediaStream){console.warn("MediaStream API not available. Can't setup "+s+" for "+r),n==null||n({sessionId:r,target:d,type:s,message:"MediaStream API not available",name:"MediaStream API not available"});return}return d.addEventListener("canplay",h),d.addEventListener("play",m),d.srcObject=new MediaStream([l==null?void 0:l.persistentTrack]),function(){d==null||d.removeEventListener("canplay",h),d==null||d.removeEventListener("play",m)}}},[l==null?void 0:l.persistentTrack,n,r,s]),xe.createElement("audio",Object.assign({autoPlay:!0,ref:c},o,{"data-session-id":r,"data-audio-type":s,"data-subscribed":u}))}));fu.displayName="DailyAudioTrack";var gC=P.memo(P.forwardRef(function(e,t){var n=e.autoSubscribeActiveSpeaker,r=n===void 0?!1:n,i=e.maxSpeakers,s=i===void 0?5:i,o=e.onPlayFailed,a=e.playLocalScreenAudio,l=a===void 0?!1:a,c=yr(),u=P.useState(new Array(s).fill("")),d=u[0],p=u[1],h=hV(),m=h.screens,v=tc(),S=fV({ignoreLocal:!0}),g=P.useRef(null);P.useImperativeHandle(t,function(){return{getActiveSpeakerAudio:function(){var T,A;return(T=(A=g.current)==null?void 0:A.querySelector('audio[data-session-id="'+S+'"][data-audio-type="audio"]'))!=null?T:null},getAllAudio:function(){var T,A;return Array.from((T=(A=g.current)==null?void 0:A.querySelectorAll("audio"))!=null?T:[])},getAudioBySessionId:function(T){var A,M;return(A=(M=g.current)==null?void 0:M.querySelector('audio[data-session-id="'+T+'"][data-audio-type="audio"]'))!=null?A:null},getRmpAudio:function(){var T,A;return Array.from((T=(A=g.current)==null?void 0:A.querySelectorAll('audio[data-audio-type="rmpAudio"]'))!=null?T:[])},getScreenAudio:function(){var T,A;return Array.from((T=(A=g.current)==null?void 0:A.querySelectorAll('audio[data-audio-type="screenAudio"]'))!=null?T:[])},getRmpAudioBySessionId:function(T){var A,M;return(A=(M=g.current)==null?void 0:M.querySelector('audio[data-session-id="'+T+'"][data-audio-type="rmpAudio"]'))!=null?A:null},getScreenAudioBySessionId:function(T){var A,M;return(A=(M=g.current)==null?void 0:M.querySelector('audio[data-session-id="'+T+'"][data-audio-type="screenAudio"]'))!=null?A:null}}},[S]);var b=ge(P.useCallback(function(){var k=Nr(function*(T,A,M){var I,N=Object.values((I=c==null?void 0:c.participants())!=null?I:{}).filter(function(z){return!z.local&&!!z.tracks.audio.subscribed}),H=function(B){return N.some(function(ne){return ne.session_id===B})};if(!H(M))if(c&&!c.isDestroyed()&&r&&!c.subscribeToTracksAutomatically())c.updateParticipant(M,{setSubscribedTracks:{audio:!0}});else return;p(function(z){var B;if(z.includes(M))return z;var ne=function(Z){return!Z||!H(Z)};if(z.some(ne)){var ve=z.findIndex(ne);return z[ve]=M,[].concat(z)}var me=z.findIndex(function(U){return N.some(function(Z){return Z.session_id===U&&cd(Z.tracks.audio.state)})});if(me>=0)return z[me]=M,[].concat(z);var ie=N.filter(function(U){return z.includes(U.session_id)&&U.session_id!==S}).sort(function(U,Z){var be,_e,f=(be=T(Mt(U.session_id,"last_active")))!=null?be:new Date("1970-01-01"),w=(_e=T(Mt(Z.session_id,"last_active")))!=null?_e:new Date("1970-01-01");return f>w?1:f<w?-1:0});if(!ie.length){var j=z.findIndex(function(U){return U!==S});return z[j]=M,[].concat(z)}var q=z.indexOf((B=ie[0])==null?void 0:B.session_id);return z[q]=M,[].concat(z)})});return function(T,A,M){return k.apply(this,arguments)}}(),[S,r,c])),_=P.useCallback(function(k){p(function(T){if(!T.includes(k))return T;var A=[].concat(T),M=A.indexOf(k);return A[M]="",A})},[]);ad(["active-speaker-change","track-started","participant-left"],P.useCallback(function(k){k.forEach(function(T){switch(T.action){case"active-speaker-change":if(T.activeSpeaker.peerId===v)return;b(T.activeSpeaker.peerId);break;case"track-started":T.track.kind==="audio"&&T.participant&&!T.participant.local&&b(T.participant.session_id);break;case"participant-left":_(T.participant.session_id);break}})},[b,v,_]),200);var x=rf({filter:P.useCallback(function(k){var T;return!!(!(k==null||(T=k.tracks)==null)&&T.rmpAudio)},[])});return xe.createElement("div",{ref:g},d.map(function(k,T){return xe.createElement(fu,{key:"speaker-slot-"+T,onPlayFailed:o,sessionId:k,type:"audio"})}),m.filter(function(k){return l?!0:!k.local}).map(function(k){return xe.createElement(fu,{key:k.screenId,onPlayFailed:o,sessionId:k.session_id,type:"screenAudio"})}),x.map(function(k){return xe.createElement(fu,{key:k+"-rmp",onPlayFailed:o,sessionId:k,type:"rmpAudio"})}))}));gC.displayName="DailyAudio";var gV=["automirror","fit","mirror","onResize","playableStyle","sessionId","style","type"],vC=P.forwardRef(function(t,n){var r=t.automirror,i=t.fit,s=i===void 0?"contain":i,o=t.mirror,a=t.onResize,l=t.playableStyle,c=l===void 0?{}:l,u=t.sessionId,d=t.style,p=d===void 0?{}:d,h=t.type,m=h===void 0?"video":h,v=hy(t,gV),S=tc(),g=S===u,b=m==="screenVideo",_=g&&!b,x=P.useRef(null),k=mC(x,n),T=sf(u,m),A=T.persistentTrack,M=_||b||!T.isOff,I=uC(u,"tracks."+m),N=I==null?void 0:I.subscribed,H=P.useMemo(function(){if(typeof o=="boolean")return o;if(!r)return!1;if(!A)return _;var z=A.getSettings(),B="facingMode"in z?_&&z.facingMode==="user":_;return B},[r,_,o,A]);return P.useEffect(function(){var B=x.current;if(B){var ne=function(){var U=B.play();U!==void 0&&U.then(function(){B.controls=!1}).catch(function(Z){B.controls=!0,console.warn("Failed to play video",Z)})},ve=function(){B.paused&&ne()},me=function(){B.style.transform="scale(1)"},ie=function(){B.style.transform="",setTimeout(function(){B.paused&&ne()},100)},j=function(){document.visibilityState!=="hidden"&&B.paused&&ne()};return B.addEventListener("canplay",ve),B.addEventListener("enterpictureinpicture",me),B.addEventListener("leavepictureinpicture",ie),document.addEventListener("visibilitychange",j),function(){B.removeEventListener("canplay",ve),B.removeEventListener("enterpictureinpicture",me),B.removeEventListener("leavepictureinpicture",ie),document.removeEventListener("visibilitychange",j)}}},[]),P.useEffect(function(){var B=x.current;if(!(!B||!A)){if(!MediaStream){console.warn("MediaStream API not available. Can't setup "+m+" for "+u);return}return B.srcObject=new MediaStream([A]),B.load(),function(){B.srcObject=null,B.load()}}},[u,m,A,A==null?void 0:A.id]),P.useEffect(function(){var B=x.current;if(!a||!B)return;var ne;function ve(){ne&&cancelAnimationFrame(ne),ne=requestAnimationFrame(function(){var me=x.current;if(!(!me||document.hidden)){var ie=me.videoWidth,j=me.videoHeight;ie&&j&&(a==null||a({aspectRatio:ie/j,height:j,width:ie}))}})}return ve(),B.addEventListener("loadedmetadata",ve),B.addEventListener("resize",ve),function(){ne&&cancelAnimationFrame(ne),B.removeEventListener("loadedmetadata",ve),B.removeEventListener("resize",ve)}},[a]),xe.createElement("video",Object.assign({autoPlay:!0,muted:!0,playsInline:!0,ref:k,"data-local":g,"data-mirrored":H||void 0,"data-playable":M||void 0,"data-session-id":u,"data-subscribed":N,"data-video-type":m,style:st({objectFit:s,transform:H?"scale(-1, 1)":""},p,M?c:{})},v))});vC.displayName="DailyVideo";var yC=P.createContext({refreshDevices:function(){return Promise.resolve()}}),at=ee("idle");at.debugLabel=Me("camera-state");var lt=ee("idle");lt.debugLabel=Me("microphone-state");var $a=ee([]);$a.debugLabel=Me("camera-devices");var Fa=ee([]);Fa.debugLabel=Me("microphone-devices");var by=ee([]);by.debugLabel=Me("speaker-devices");var _y=ee(null);_y.debugLabel=Me("last-camera-error");var vV=function(t){var n=t.children,r=yr(),i=ge(P.useCallback(function(){var o=Nr(function*(a,l){var c,u,d,p;if(typeof((c=navigator)==null||(u=c.mediaDevices)==null?void 0:u.getUserMedia)>"u"||typeof((d=navigator)==null||(p=d.mediaDevices)==null?void 0:p.enumerateDevices)>"u"){l(at,"not-supported"),l(lt,"not-supported");return}if(r)try{var h=yield r.enumerateDevices(),m=h.devices,v=m.filter(function(M){return M.kind==="videoinput"&&M.deviceId!==""}),S=m.filter(function(M){return M.kind==="audioinput"&&M.deviceId!==""}),g=m.filter(function(M){return M.kind==="audiooutput"&&M.deviceId!==""}),b=yield r.getInputDevices(),_=b.camera,x=b.mic,k=b.speaker,T=function(I,N,H){var z,B;return{device:N,selected:"deviceId"in I&&N.deviceId===I.deviceId,state:(z=(B=H.find(function(ne){return ne.device.deviceId===N.deviceId}))==null?void 0:B.state)!=null?z:"granted"}},A=function(I,N){return I.device.deviceId==="default"?-1:N.device.deviceId==="default"?1:I.device.label<N.device.label?-1:I.device.label>N.device.label?1:0};l($a,function(M){return v.filter(Boolean).map(function(I){return T(_,I,M)}).sort(A)}),l(Fa,function(M){return S.filter(Boolean).map(function(I){return T(x,I,M)}).sort(A)}),l(by,function(M){return g.filter(Boolean).map(function(I){return T(k,I,M)}).sort(A)})}catch{l(at,"not-supported"),l(lt,"not-supported")}});return function(a,l){return o.apply(this,arguments)}}(),[r])),s=ge(P.useCallback(function(){var o=Nr(function*(a,l){var c,u,d,p,h,m,v,S,g,b,_,x,k,T;if(r){var A=a(at),M=a(lt),I=r.participants();if(I.local){var N=I.local.tracks,H="prompt",z="prompt";if(navigator.permissions)try{var B=yield navigator.permissions.query({name:"camera"});H=B.state;var ne=yield navigator.permissions.query({name:"microphone"});z=ne.state}catch{}var ve=H==="prompt"&&["idle","pending"].includes(A)&&N.video.state==="interrupted"&&!N.video.persistentTrack,me=["idle","pending"].includes(A)&&!N.video.persistentTrack&&!!((c=N.video.off)!=null&&c.byUser),ie=z==="prompt"&&["idle","pending"].includes(M)&&N.audio.state==="interrupted"&&!N.audio.persistentTrack,j=["idle","pending"].includes(M)&&!N.audio.persistentTrack&&!!((u=N.audio.off)!=null&&u.byUser);(d=N.audio)!=null&&(p=d.blocked)!=null&&p.byDeviceInUse?(l(lt,"in-use"),l(Fa,function(q){return q.map(function(U){return U.selected?st({},U,{state:"in-use"}):U})})):(h=N.audio)!=null&&(m=h.blocked)!=null&&m.byDeviceMissing?l(lt,"not-found"):(v=N.audio)!=null&&(S=v.blocked)!=null&&S.byPermissions||z==="denied"?l(lt,"blocked"):ie?l(lt,"pending"):j?l(lt,"idle"):(l(lt,"granted"),l(Fa,function(q){return q.map(function(U){return U.selected?st({},U,{state:"granted"}):U})})),(g=N.video)!=null&&(b=g.blocked)!=null&&b.byDeviceInUse?(l(at,"in-use"),l($a,function(q){return q.map(function(U){return U.selected?st({},U,{state:"in-use"}):U})})):(_=N.video)!=null&&(x=_.blocked)!=null&&x.byDeviceMissing?l(at,"not-found"):(k=N.video)!=null&&(T=k.blocked)!=null&&T.byPermissions||H==="denied"?l(at,"blocked"):ve?l(at,"pending"):me?l(at,"idle"):(l(at,"granted"),l($a,function(q){return q.map(function(U){return U.selected?st({},U,{state:"granted"}):U})})),i()}}});return function(a,l){return o.apply(this,arguments)}}(),[r,i]));return ce("participant-updated",P.useCallback(function(o){o.participant.local&&s()},[s])),ce("available-devices-updated",i),ce("selected-devices-updated",i),ce("camera-error",ge(P.useCallback(function(o,a,l){var c,u,d,p,h,m,v;switch(a(_y,l.error),(c=l.error)==null?void 0:c.type){case"cam-in-use":a(at,"in-use");break;case"mic-in-use":a(lt,"in-use");break;case"cam-mic-in-use":a(at,"in-use"),a(lt,"in-use");break;case"not-found":(u=l.error)!=null&&u.missingMedia.includes("video")&&a(at,"not-found"),(d=l.error)!=null&&d.missingMedia.includes("audio")&&a(lt,"not-found");break;case"permissions":(p=l.error)!=null&&p.blockedMedia.includes("video")&&a(at,"blocked"),(h=l.error)!=null&&h.blockedMedia.includes("audio")&&a(lt,"blocked");break;case"constraints":((m=l.error)==null?void 0:m.reason)==="invalid"?(a(at,"constraints-invalid"),a(lt,"constraints-invalid")):((v=l.error)==null?void 0:v.reason)==="none-specified"&&(a(at,"constraints-none-specified"),a(lt,"constraints-none-specified"));break;case"undefined-mediadevices":a(at,"undefined-mediadevices"),a(lt,"undefined-mediadevices");break;case"unknown":default:a(at,"unknown"),a(lt,"unknown");break}},[]))),ce("started-camera",ge(P.useCallback(function(o,a){a(at,"granted"),a(lt,"granted"),s()},[s]))),xe.createElement(yC.Provider,{value:{refreshDevices:i}},n)},_a=ee({errorMsg:void 0,isLiveStreaming:!1,layout:void 0});_a.debugLabel=Me("live-streaming");var yV=function(t){var n=t.children;return ce("live-streaming-started",ge(P.useCallback(function(r,i,s){i(_a,{isLiveStreaming:!0,layout:s==null?void 0:s.layout})},[]))),ce("live-streaming-stopped",ge(P.useCallback(function(r,i){i(_a,function(s){return st({},s,{isLiveStreaming:!1,layout:void 0})})},[]))),ce("live-streaming-error",ge(P.useCallback(function(r,i,s){i(_a,function(o){return st({},o,{errorMsg:s.errorMsg})})},[]))),ce("left-meeting",ge(P.useCallback(function(r,i){i(_a,{errorMsg:void 0,isLiveStreaming:!1,layout:void 0})},[]))),xe.createElement(xe.Fragment,null,n)},ud=ee("new");ud.debugLabel=Me("meeting-state");var Lm=ee(null);Lm.debugLabel=Me("meeting-error");var Dm=ee(null);Dm.debugLabel=Me("non-fatal-error");var Sa=ee({data:void 0,topology:"none"});Sa.debugLabel=Me("meeting-session-data");var wV=function(t){var n=t.children,r=yr(),i=ge(P.useCallback(function(o,a){if(r){var l=r.meetingState();return a(ud,l),l}},[r]));ce("loading",i),ce("loaded",i),ce("joining-meeting",i),ce("joined-meeting",i),ce("left-meeting",i),ce("error",ge(P.useCallback(function(o,a,l){a(Lm,l),i()},[i]))),ce("nonfatal-error",ge(P.useCallback(function(o,a,l){a(Dm,l)},[])));var s=ge(P.useCallback(function(o,a){r&&a(Sa,r.meetingSessionState())},[r]));return ce("joined-meeting",s),ce("meeting-session-state-updated",ge(P.useCallback(function(o,a,l){a(Sa,l.meetingSessionState)},[]))),ce("left-meeting",ge(P.useCallback(function(o,a){a(Sa,{data:void 0,topology:"none"})},[]))),ce("call-instance-destroyed",ge(P.useCallback(function(o,a){a(ud,"new"),a(Lm,null),a(Dm,null),a(Sa,{data:void 0,topology:"none"})},[]))),xe.createElement(xe.Fragment,null,n)},Ms=ee("none");Ms.debugLabel=Me("topology");var $m=ee(100);$m.debugLabel=Me("network-quality");var Fm=ee("good");Fm.debugLabel=Me("network-threshold");var bV=function(t){var n=t.children,r=yr(),i=Pt(Ms),s=ge(P.useCallback(function(){var o=Nr(function*(a,l){if(r){var c=yield r.getNetworkTopology();!c||(c==null?void 0:c.topology)==="none"||l(Ms,c.topology)}});return function(a,l){return o.apply(this,arguments)}}(),[r]));return ce("joined-meeting",s),ce("network-connection",ge(P.useCallback(function(o,a,l){switch(l.event){case"connected":l.type==="peer-to-peer"&&a(Ms,"peer"),l.type==="sfu"&&a(Ms,"sfu");break}},[]))),ce("network-quality-change",ge(P.useCallback(function(o,a,l){a($m,function(c){return c!==l.quality?l.quality:c}),a(Fm,function(c){return c!==l.threshold?l.threshold:c})},[]))),ce("left-meeting",ge(P.useCallback(function(o,a){a(Ms,"none"),a($m,100),a(Fm,"good")},[]))),P.useEffect(function(){!r||i!=="none"||s()},[r,s,i]),xe.createElement(xe.Fragment,null,n)},Bi=ee({isLocalParticipantRecorded:!1,isRecording:!1});Bi.debugLabel=Me("recording-state");var _V=function(t){var n=t.children,r=tc(),i=rf({filter:"record"}),s=ge(P.useCallback(function(o,a,l,c){var u=o(Bi),d={isLocalParticipantRecorded:u.isLocalParticipantRecorded,isRecording:u.isRecording,local:u.local,type:u.type},p={isLocalParticipantRecorded:(d==null?void 0:d.type)==="local"||!(d!=null&&d.type)?l:d.isLocalParticipantRecorded,isRecording:(d==null?void 0:d.type)==="local"||!(d!=null&&d.type)?l:d.isRecording,local:((d==null?void 0:d.type)==="local"||!(d!=null&&d.type))&&l?c:d==null?void 0:d.local,type:l?"local":u==null?void 0:u.type};Un(d,p)||a(Bi,st({},d,p))},[]));return P.useEffect(function(){var o=i.length>0,a=i.includes(r||"local");s(o,a)},[r,s,i]),ce("recording-started",ge(P.useCallback(function(o,a,l){var c=!0;switch(l.type){case"cloud-beta":case"cloud":{var u;r&&((u=l.layout)==null?void 0:u.preset)==="single-participant"&&l.layout.session_id!==r&&(c=!1);break}}a(Bi,{error:!1,isLocalParticipantRecorded:c,isRecording:!0,layout:l==null?void 0:l.layout,local:l==null?void 0:l.local,recordingId:l==null?void 0:l.recordingId,recordingStartedDate:new Date,startedBy:l==null?void 0:l.startedBy,type:l==null?void 0:l.type})},[r]))),ce("recording-stopped",ge(P.useCallback(function(o,a){a(Bi,function(l){return st({},l,{isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),ce("recording-error",ge(P.useCallback(function(o,a){a(Bi,function(l){return st({},l,{error:!0,isLocalParticipantRecorded:!1,isRecording:!1})})},[]))),ce("left-meeting",ge(P.useCallback(function(o,a){a(Bi,{isLocalParticipantRecorded:!1,isRecording:!1})},[]))),xe.createElement(xe.Fragment,null,n)},SV=function(){var t=Pt(ud);return P.useDebugValue(t),t},Vm=ee(null);Vm.debugLabel=Me("room-state");var kV=function(t){var n=t.children,r=yr(),i=SV(),s=ge(P.useCallback(function(){var o=Nr(function*(a,l){if(!(!r||i==="left-meeting")){var c=yield r.room();return c&&"id"in c&&l(Vm,c),c}});return function(a,l){return o.apply(this,arguments)}}(),[r,i]));return ce("access-state-updated",s),ce("left-meeting",ge(P.useCallback(function(o,a){return function(){a(Vm,null)}},[]))),xe.createElement(xe.Fragment,null,n)},Os=ee({isTranscribing:!1,model:"general",language:"en",transcriptions:[]});Os.debugLabel=Me("transcription-state");var xV=function(t){var n=t.children;return ce("transcription-started",ge(P.useCallback(function(r,i,s){i(Os,{error:!1,transcriptionStartDate:new Date,isTranscribing:!0,transcriptions:[],endpointing:s.endpointing,extra:s.extra,includeRawResponse:s.includeRawResponse,instanceId:s.instanceId,language:s.language,model:s.model,profanity_filter:s.profanity_filter,punctuate:s.punctuate,redact:s.redact,startedBy:s.startedBy,tier:s.tier})},[]))),ce("transcription-stopped",ge(P.useCallback(function(r,i,s){i(Os,function(o){return st({},o,{updatedBy:s.updatedBy,isTranscribing:!1})})},[]))),ce("transcription-error",ge(P.useCallback(function(r,i){i(Os,function(s){return st({},s,{error:!0,isTranscribing:!1})})},[]))),ce("left-meeting",ge(P.useCallback(function(r,i){i(Os,function(s){return st({},s,{isTranscribing:!1})})},[]))),ce("app-message",ge(P.useCallback(function(r,i,s){(s==null?void 0:s.fromId)==="transcription"&&i(Os,function(o){return st({},o,{isTranscribing:!0,transcriptions:[].concat(o.transcriptions,[s.data])})})},[]))),xe.createElement(xe.Fragment,null,n)},wC={},bC=function(){return!0},TV={options:wC,shouldCreateInstance:bC},EV=function(t,n){var r=n===void 0?TV:n,i=r.parentElRef,s=r.options,o=s===void 0?wC:s,a=r.shouldCreateInstance,l=a===void 0?bC:a,c=P.useState(null),u=c[0],d=c[1],p=P.useRef();return P.useEffect(function(){if(!l())return;function h(g){return m.apply(this,arguments)}function m(){return m=Nr(function*(g){yield g.destroy()}),m.apply(this,arguments)}var v=function(){setTimeout(function(){return d(null)},0)},S=zc.getCallInstance();if(!u&&S&&!S.isDestroyed()){S.once("call-instance-destroyed",v),d(S);return}if(u){Un(p.current,o)||h(u);return}if(!S||S.isDestroyed()){switch(t){case"callFrame":S=i!=null&&i.current?zc.createFrame(i.current,st({},o)):zc.createFrame(st({},o));break;case"callObject":S=zc.createCallObject(st({},o));break}p.current=o}d(S),S.once("call-instance-destroyed",v)},[u,o,i,l,t]),u},CV=function(t){return EV("callObject",t)},AV=["children","jotaiStore"],PV=function(t){var n=t.children,r=t.jotaiStore,i=hy(t,AV),s=P.useRef({}),o=P.useCallback(function(m){var v,S;if("action"in m)for(var g=m.action,b=Array.from((v=(S=s.current)==null?void 0:S[g])!=null?v:[]),_=b.filter(function(N){var H=N[0];return H<0}),x=b.filter(function(N){var H=N[0];return H>0}),k=[].concat(_,x),T=oC(k),A;!(A=T()).done;){var M=A.value,I=M[1];I(m)}},[]),a=P.useCallback(function(m){m&&Object.keys(s.current).forEach(function(v){m.off(v,o),m.isDestroyed()||m.on(v,o)})},[o]),l="callObject"in i?i.callObject:null,c=P.useMemo(function(){return"callObject"in i?{}:i},[i]),u=CV({options:c,shouldCreateInstance:P.useCallback(function(){return!("callObject"in i)},[i])}),d=l??u;P.useEffect(function(){d&&a(d)},[d,a]);var p=P.useCallback(function(m,v,S){var g;if(s.current[m]||(s.current[m]=new Map,d&&(d.off(m,o),d.isDestroyed()||d.on(m,o))),!((g=s.current[m])!=null&&g.has(S))){var b;(b=s.current[m])==null||b.set(S,v)}},[d,o]),h=P.useCallback(function(m,v){var S,g;(S=s.current[m])==null||S.delete(v),((g=s.current[m])==null?void 0:g.size)===0&&(d==null||d.off(m,o),delete s.current[m])},[d,o]);return xe.createElement(GI,{store:r},xe.createElement(aC.Provider,{value:d},xe.createElement(my.Provider,{value:{on:p,off:h}},xe.createElement(kV,null,xe.createElement(wV,null,xe.createElement(bV,null,xe.createElement(uV,null,xe.createElement(_V,null,xe.createElement(yV,null,xe.createElement(xV,null,xe.createElement(vV,null,n)))))))))))},_C=function(t){return sf(t,"audio")},MV=ee({state:"low",reason:"none"});MV.debugLabel=Me("cpu-load");var OV=function(){var t=yr(),n=Pt(at),r=Pt(lt),i=Pt($a),s=Pt(Fa),o=Pt(by),a=Pt(_y),l=P.useContext(yC),c=l.refreshDevices,u=P.useCallback(function(){var v=Nr(function*(S){yield t==null?void 0:t.setInputDevicesAsync({audioDeviceId:null,videoDeviceId:S})});return function(S){return v.apply(this,arguments)}}(),[t]),d=P.useCallback(function(){var v=Nr(function*(S){yield t==null?void 0:t.setInputDevicesAsync({audioDeviceId:S,videoDeviceId:null})});return function(S){return v.apply(this,arguments)}}(),[t]),p=P.useCallback(function(){var v=Nr(function*(S){yield t==null?void 0:t.setOutputDeviceAsync({outputDeviceId:S})});return function(S){return v.apply(this,arguments)}}(),[t]),h=["blocked","in-use","not-found","constraints-invalid","constraints-none-specified","undefined-mediadevices","unknown"],m={cameraError:a,cameras:i,camState:n,currentCam:i.find(function(v){return v.selected}),currentMic:s.find(function(v){return v.selected}),currentSpeaker:o.find(function(v){return v.selected}),hasCamError:h.includes(n),hasMicError:h.includes(r),microphones:s,micState:r,refreshDevices:c,setCamera:u,setMicrophone:d,setSpeaker:p,speakers:o};return P.useDebugValue(m),m},IV=ee(null);IV.debugLabel=Me("input-settings");var RV=ee({hidden:0,present:0});RV.debugLabel=Me("participant-counts");var NV=ee(null);NV.debugLabel=Me("send-settings");var SC=function(t){return sf(t,"video")};Hl.register();const kS=()=>{const[,e]=bt(Ud),[,t]=bt(bE),n=Pt(Ql),[r,i]=P.useState(!1),[s,o]=P.useState(!1),a=yr(),{setMicrophone:l,setSpeaker:c}=OV(),u=async()=>{var d,p;try{i(!0),o(!1);const h=await(a==null?void 0:a.startCamera({startVideoOff:!1,startAudioOff:!1,audioSource:"default"})),m=((d=h==null?void 0:h.mic)==null?void 0:d.deviceId)==="default",v=((p=h==null?void 0:h.speaker)==null?void 0:p.deviceId)==="default";if(m||l("default"),v||c("default"),!n)throw new Error("Token is required");const S=await fN(n);t(S),e({currentScreen:"conversation"})}catch(h){console.error("Failed to start conversation:",h),o(!0)}finally{i(!1)}};return P.useEffect(()=>{if(n&&!r&&!s){const d=setTimeout(()=>{u()},500);return()=>clearTimeout(d)}},[n]),n?s?C.jsx(Eb,{children:C.jsxs("div",{className:"flex size-full flex-col items-center justify-center p-8 relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-destructive/5 via-transparent to-primary/5"}),C.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-destructive/5 rounded-full blur-xl animate-pulse"}),C.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-primary/5 rounded-full blur-xl animate-pulse delay-1000"}),C.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[C.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[C.jsx("div",{className:"p-6 bg-destructive/10 rounded-3xl shadow-lg backdrop-blur-sm border border-destructive/20",children:C.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"size-64 object-contain"})}),C.jsx("p",{className:"text-xs text-muted-foreground italic font-medium",children:"Anything can be cooked will be cooked"})]}),C.jsxs("div",{className:"glass-effect p-6 rounded-2xl border border-destructive/30 shadow-xl",children:[C.jsx("h2",{className:"text-xl font-semibold text-destructive mb-3",children:"Connection Error"}),C.jsx("p",{className:"text-destructive/80 mb-4",children:"Failed to start the conversation. Please check your API key and try again."}),C.jsx(an,{onClick:()=>{o(!1),u()},variant:"outline",className:"border-destructive/50 hover:bg-destructive hover:text-destructive-foreground",children:"Try Again"})]})]})]})}):C.jsx("div",{className:"fixed inset-0 flex items-center justify-center",children:C.jsx("l-quantum",{size:"60",speed:"1.75",color:"hsl(var(--primary))"})}):C.jsx(Eb,{children:C.jsxs("div",{className:"flex size-full flex-col items-center justify-center p-8 relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-accent/10"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-tl from-secondary/5 via-transparent to-primary/5"}),C.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-primary/5 rounded-full blur-xl animate-pulse"}),C.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 bg-accent/5 rounded-full blur-xl animate-pulse delay-1000"}),C.jsx("div",{className:"absolute top-1/2 left-10 w-16 h-16 bg-secondary/10 rounded-full blur-lg animate-pulse delay-500"}),C.jsxs("div",{className:"relative z-10 text-center space-y-6",children:[C.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[C.jsx("div",{className:"p-6 bg-primary/10 rounded-3xl shadow-lg backdrop-blur-sm border border-primary/20",children:C.jsx("img",{src:"/images/7.png",alt:"Murphy's Kitchen Logo",className:"size-64 object-contain"})}),C.jsx("p",{className:"text-xs text-muted-foreground italic font-medium",children:"Anything can be cooked will be cooked"})]}),C.jsxs("div",{className:"glass-effect p-6 rounded-2xl border border-border/50 shadow-xl",children:[C.jsx("h2",{className:"text-xl font-semibold text-foreground mb-3",children:"Setup Required"}),C.jsx("p",{className:"text-muted-foreground mb-4",children:"Please add your Tavus API key to the .env file to get started."}),C.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[C.jsxs("p",{children:["Add ",C.jsx("code",{className:"bg-muted px-2 py-1 rounded",children:"VITE_TAVUS_API_KEY=your_key_here"})," to .env"]}),C.jsx("a",{href:"https://platform.tavus.io/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Get your API key here "})]})]})]})]})})};hN.register();function xS({id:e,className:t,tileClassName:n}){const r=SC(e);return C.jsx("div",{className:ds("bg-[rgba(248,250,252,0.08)]",t,{"hidden size-0":r.isOff}),children:C.jsx(vC,{automirror:!0,sessionId:e,type:"video",className:ds("size-full object-cover",n,{hidden:r.isOff})})})}const jV=ee(0),LV=ee(0),dd=ee([]),DV=ee(!1),$V=ee(null,(e,t,n)=>{const r=e(dd),i={...n,id:Date.now().toString(),timestamp:new Date};t(dd,[...r,i])});ee(null,(e,t)=>{t(dd,[])});let FV=(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r};var kC="vercel.ai.error",VV=Symbol.for(kC),xC,zV=class TC extends Error{constructor({name:t,message:n,cause:r}){super(n),this[xC]=!0,this.name=t,this.cause=r}static isInstance(t){return TC.hasMarker(t,kC)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}toJSON(){return{name:this.name,message:this.message}}};xC=VV;var gt=zV,zm="AI_APICallError",EC=`vercel.ai.error.${zm}`,BV=Symbol.for(EC),CC,Er=class extends gt{constructor({message:t,url:n,requestBodyValues:r,statusCode:i,responseHeaders:s,responseBody:o,cause:a,isRetryable:l=i!=null&&(i===408||i===409||i===429||i>=500),data:c}){super({name:zm,message:t,cause:a}),this[CC]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=i,this.responseHeaders=s,this.responseBody=o,this.isRetryable=l,this.data=c}static isInstance(t){return gt.hasMarker(t,EC)}static isAPICallError(t){return t instanceof Error&&t.name===zm&&typeof t.url=="string"&&typeof t.requestBodyValues=="object"&&(t.statusCode==null||typeof t.statusCode=="number")&&(t.responseHeaders==null||typeof t.responseHeaders=="object")&&(t.responseBody==null||typeof t.responseBody=="string")&&(t.cause==null||typeof t.cause=="object")&&typeof t.isRetryable=="boolean"&&(t.data==null||typeof t.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};CC=BV;var Bm="AI_EmptyResponseBodyError",AC=`vercel.ai.error.${Bm}`,UV=Symbol.for(AC),PC,qV=class extends gt{constructor({message:e="Empty response body"}={}){super({name:Bm,message:e}),this[PC]=!0}static isInstance(e){return gt.hasMarker(e,AC)}static isEmptyResponseBodyError(e){return e instanceof Error&&e.name===Bm}};PC=UV;function MC(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Um="AI_InvalidPromptError",OC=`vercel.ai.error.${Um}`,WV=Symbol.for(OC),IC,HV=class extends gt{constructor({prompt:t,message:n,cause:r}){super({name:Um,message:`Invalid prompt: ${n}`,cause:r}),this[IC]=!0,this.prompt=t}static isInstance(t){return gt.hasMarker(t,OC)}static isInvalidPromptError(t){return t instanceof Error&&t.name===Um&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};IC=WV;var qm="AI_InvalidResponseDataError",RC=`vercel.ai.error.${qm}`,KV=Symbol.for(RC),NC,Lp=class extends gt{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:qm,message:t}),this[NC]=!0,this.data=e}static isInstance(e){return gt.hasMarker(e,RC)}static isInvalidResponseDataError(e){return e instanceof Error&&e.name===qm&&e.data!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,data:this.data}}};NC=KV;var Wm="AI_JSONParseError",jC=`vercel.ai.error.${Wm}`,JV=Symbol.for(jC),LC,fd=class extends gt{constructor({text:t,cause:n}){super({name:Wm,message:`JSON parsing failed: Text: ${t}.
Error message: ${MC(n)}`,cause:n}),this[LC]=!0,this.text=t}static isInstance(t){return gt.hasMarker(t,jC)}static isJSONParseError(t){return t instanceof Error&&t.name===Wm&&"text"in t&&typeof t.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};LC=JV;var Hm="AI_LoadAPIKeyError",DC=`vercel.ai.error.${Hm}`,GV=Symbol.for(DC),$C,Uc=class extends gt{constructor({message:e}){super({name:Hm,message:e}),this[$C]=!0}static isInstance(e){return gt.hasMarker(e,DC)}static isLoadAPIKeyError(e){return e instanceof Error&&e.name===Hm}};$C=GV;var Km="AI_TooManyEmbeddingValuesForCallError",FC=`vercel.ai.error.${Km}`,ZV=Symbol.for(FC),VC,YV=class extends gt{constructor(e){super({name:Km,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[VC]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return gt.hasMarker(e,FC)}static isTooManyEmbeddingValuesForCallError(e){return e instanceof Error&&e.name===Km&&"provider"in e&&typeof e.provider=="string"&&"modelId"in e&&typeof e.modelId=="string"&&"maxEmbeddingsPerCall"in e&&typeof e.maxEmbeddingsPerCall=="number"&&"values"in e&&Array.isArray(e.values)}toJSON(){return{name:this.name,message:this.message,stack:this.stack,provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:this.values}}};VC=ZV;var Jm="AI_TypeValidationError",zC=`vercel.ai.error.${Jm}`,QV=Symbol.for(zC),BC,XV=class Gm extends gt{constructor({value:t,cause:n}){super({name:Jm,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${MC(n)}`,cause:n}),this[BC]=!0,this.value=t}static isInstance(t){return gt.hasMarker(t,zC)}static wrap({value:t,cause:n}){return Gm.isInstance(n)&&n.value===t?n:new Gm({value:t,cause:n})}static isTypeValidationError(t){return t instanceof Error&&t.name===Jm}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};BC=QV;var pd=XV,Zm="AI_UnsupportedFunctionalityError",UC=`vercel.ai.error.${Zm}`,e3=Symbol.for(UC),qC,Cn=class extends gt{constructor({functionality:e}){super({name:Zm,message:`'${e}' functionality not supported.`}),this[qC]=!0,this.functionality=e}static isInstance(e){return gt.hasMarker(e,UC)}static isUnsupportedFunctionalityError(e){return e instanceof Error&&e.name===Zm&&typeof e.functionality=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,functionality:this.functionality}}};qC=e3;var Uo={exports:{}};const t3=typeof Buffer<"u",TS=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,ES=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function WC(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),t3&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const i=n&&n.protoAction||"error",s=n&&n.constructorAction||"error";if(i==="ignore"&&s==="ignore")return r;if(i!=="ignore"&&s!=="ignore"){if(TS.test(e)===!1&&ES.test(e)===!1)return r}else if(i!=="ignore"&&s==="ignore"){if(TS.test(e)===!1)return r}else if(ES.test(e)===!1)return r;return HC(r,{protoAction:i,constructorAction:s,safe:n&&n.safe})}function HC(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let i=[e];for(;i.length;){const s=i;i=[];for(const o of s){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(const a in o){const l=o[a];l&&typeof l=="object"&&i.push(l)}}}return e}function Sy(e,t,n){const r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return WC(e,t,n)}finally{Error.stackTraceLimit=r}}function n3(e,t){const n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return WC(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=n}}Uo.exports=Sy;Uo.exports.default=Sy;Uo.exports.parse=Sy;Uo.exports.safeParse=n3;Uo.exports.scan=HC;var r3=Uo.exports;const of=kg(r3);function i3(e){let t,n,r,i,s,o,a;return l(),{feed:c,reset:l};function l(){t=!0,n="",r=0,i=-1,s=void 0,o=void 0,a=""}function c(d){n=n?n+d:d,t&&s3(n)&&(n=n.slice(KC.length)),t=!1;const p=n.length;let h=0,m=!1;for(;h<p;){m&&(n[h]===`
`&&++h,m=!1);let v=-1,S=i,g;for(let b=r;v<0&&b<p;++b)g=n[b],g===":"&&S<0?S=b-h:g==="\r"?(m=!0,v=b-h):g===`
`&&(v=b-h);if(v<0){r=p-h,i=S;break}else r=0,i=-1;u(n,h,S,v),h+=v+1}h===p?n="":h>0&&(n=n.slice(h))}function u(d,p,h,m){if(m===0){a.length>0&&(e({type:"event",id:s,event:o||void 0,data:a.slice(0,-1)}),a="",s=void 0),o=void 0;return}const v=h<0,S=d.slice(p,p+(v?m:h));let g=0;v?g=m:d[p+h+1]===" "?g=h+2:g=h+1;const b=p+g,_=m-g,x=d.slice(b,b+_).toString();if(S==="data")a+=x?"".concat(x,`
`):`
`;else if(S==="event")o=x;else if(S==="id"&&!x.includes("\0"))s=x;else if(S==="retry"){const k=parseInt(x,10);Number.isNaN(k)||e({type:"reconnect-interval",value:k})}}}const KC=[239,187,191];function s3(e){return KC.every((t,n)=>e.charCodeAt(n)===t)}class o3 extends TransformStream{constructor(){let t;super({start(n){t=i3(r=>{r.type==="event"&&n.enqueue(r)})},transform(n){t.feed(n)}})}}var a3={};function pl(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function af(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var l3=({prefix:e="",size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"}={})=>{const r=FV(n,t);return i=>`${e}${r(i)}`},la=l3();function Dp(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function c3({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Uc({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Uc({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=a3[t],e==null)throw new Uc({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new Uc({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var Ym=Symbol.for("vercel.ai.validator");function u3(e){return{[Ym]:!0,validate:e}}function d3(e){return typeof e=="object"&&e!==null&&Ym in e&&e[Ym]===!0&&"validate"in e}function f3(e){return d3(e)?e:p3(e)}function p3(e){return u3(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function h3({value:e,schema:t}){const n=JC({value:e,schema:t});if(!n.success)throw pd.wrap({value:e,cause:n.error});return n.value}function JC({value:e,schema:t}){const n=f3(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:pd.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:pd.wrap({value:e,cause:r})}}}function m3({text:e,schema:t}){try{const n=of.parse(e);return t==null?n:h3({value:n,schema:t})}catch(n){throw fd.isJSONParseError(n)||pd.isTypeValidationError(n)?n:new fd({text:e,cause:n})}}function GC({text:e,schema:t}){try{const n=of.parse(e);return t==null?{success:!0,value:n}:JC({value:n,schema:t})}catch(n){return{success:!1,error:fd.isJSONParseError(n)?n:new fd({text:e,cause:n})}}}function CS(e){try{return of.parse(e),!0}catch{return!1}}function g3(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}var v3=()=>globalThis.fetch,hl=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:s,fetch:o})=>y3({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:s,fetch:o}),y3=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:s,fetch:o=v3()})=>{try{const a=await o(e,{method:"POST",headers:g3(t),body:n.content,signal:s}),l=af(a);if(!a.ok){let c;try{c=await i({response:a,url:e,requestBodyValues:n.values})}catch(u){throw Dp(u)||Er.isAPICallError(u)?u:new Er({message:"Failed to process error response",cause:u,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw c.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(c){throw c instanceof Error&&(Dp(c)||Er.isAPICallError(c))?c:new Er({message:"Failed to process successful response",cause:c,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(a){if(Dp(a))throw a;if(a instanceof TypeError&&a.message==="fetch failed"){const l=a.cause;if(l!=null)throw new Er({message:`Cannot connect to API: ${l.message}`,cause:l,url:e,requestBodyValues:n.values,isRetryable:!0})}throw a}},w3=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:s})=>{const o=await r.text(),a=af(r);if(o.trim()==="")return{responseHeaders:a,value:new Er({message:r.statusText,url:i,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:o,isRetryable:n==null?void 0:n(r)})};try{const l=m3({text:o,schema:e});return{responseHeaders:a,value:new Er({message:t(l),url:i,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:o,data:l,isRetryable:n==null?void 0:n(r,l)})}}catch{return{responseHeaders:a,value:new Er({message:r.statusText,url:i,requestBodyValues:s,statusCode:r.status,responseHeaders:a,responseBody:o,isRetryable:n==null?void 0:n(r)})}}},ZC=e=>async({response:t})=>{const n=af(t);if(t.body==null)throw new qV({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new o3).pipeThrough(new TransformStream({transform({data:r},i){r!=="[DONE]"&&i.enqueue(GC({text:r,schema:e}))}}))}},ky=e=>async({response:t,url:n,requestBodyValues:r})=>{const i=await t.text(),s=GC({text:i,schema:e}),o=af(t);if(!s.success)throw new Er({message:"Invalid JSON response",cause:s.error,statusCode:t.status,responseHeaders:o,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:o,value:s.value}},{btoa:b3,atob:S6}=globalThis;function _3(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return b3(t)}function S3(e){return e==null?void 0:e.replace(/\/$/,"")}var ke;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ke||(ke={}));var hd;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(hd||(hd={}));const J=ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ur=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},$=ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),YC=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Xt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(t){if(!(t instanceof Xt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Xt.create=e=>new Xt(e);const vs=(e,t)=>{let n;switch(e.code){case $.invalid_type:e.received===J.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case $.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ke.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:n=`Unrecognized key(s) in object: ${ke.joinValues(e.keys,", ")}`;break;case $.invalid_union:n="Invalid input";break;case $.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ke.joinValues(e.options)}`;break;case $.invalid_enum_value:n=`Invalid enum value. Expected ${ke.joinValues(e.options)}, received '${e.received}'`;break;case $.invalid_arguments:n="Invalid function arguments";break;case $.invalid_return_type:n="Invalid function return type";break;case $.invalid_date:n="Invalid date";break;case $.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ke.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case $.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case $.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case $.custom:n="Invalid input";break;case $.invalid_intersection_types:n="Intersection results could not be merged";break;case $.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case $.not_finite:n="Number must be finite";break;default:n=t.defaultError,ke.assertNever(e)}return{message:n}};let QC=vs;function XC(e){QC=e}function ml(){return QC}const gl=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}},eA=[];function W(e,t){const n=ml(),r=gl({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===vs?void 0:vs].filter(i=>!!i)});e.common.issues.push(r)}class kt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return te;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return kt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return te;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const te=Object.freeze({status:"aborted"}),Qi=e=>({status:"dirty",value:e}),jt=e=>({status:"valid",value:e}),md=e=>e.status==="aborted",gd=e=>e.status==="dirty",ki=e=>e.status==="valid",ko=e=>typeof Promise<"u"&&e instanceof Promise;var Y;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Y||(Y={}));class gr{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const AS=(e,t)=>{if(ki(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Xt(e.common.issues);return this._error=n,this._error}}};function fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class ue{get description(){return this._def.description}_getType(t){return ur(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ur(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new kt,ctx:{common:t.parent.common,data:t.data,parsedType:ur(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ko(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ur(t)},i=this._parseSync({data:t,path:r.path,parent:r});return AS(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ur(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return ki(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>ki(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ur(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(ko(i)?i:Promise.resolve(i));return AS(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:$.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new pn({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Gn.create(this,this._def)}nullable(){return Ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Mn.create(this)}promise(){return ws.create(this,this._def)}or(t){return Co.create([this,t],this._def)}and(t){return Ao.create(this,t,this._def)}transform(t){return new pn({...fe(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ro({...fe(this._def),innerType:this,defaultValue:n,typeName:V.ZodDefault})}brand(){return new lf({typeName:V.ZodBranded,type:this,...fe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new No({...fe(this._def),innerType:this,catchValue:n,typeName:V.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return qo.create(this,t)}readonly(){return jo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const k3=/^c[^\s-]{8,}$/i,x3=/^[0-9a-z]+$/,T3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C3=/^[a-z0-9_-]{21}$/i,A3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,O3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $p;const I3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,N3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,j3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,L3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,D3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$3=new RegExp(`^${tA}$`);function nA(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function F3(e){return new RegExp(`^${nA(e)}$`)}function xy(e){let t=`${tA}T${nA(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function V3(e,t){return!!((t==="v4"||!t)&&I3.test(e)||(t==="v6"||!t)&&N3.test(e))}function z3(e,t){if(!A3.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function B3(e,t){return!!((t==="v4"||!t)&&R3.test(e)||(t==="v6"||!t)&&j3.test(e))}class An extends ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const s=this._getOrReturnCtx(t);return W(s,{code:$.invalid_type,expected:J.string,received:s.parsedType}),te}const r=new kt;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?W(i,{code:$.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&W(i,{code:$.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")M3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"email",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")$p||($p=new RegExp(O3,"u")),$p.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"emoji",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")E3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"uuid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")C3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"nanoid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")k3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cuid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")x3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cuid2",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")T3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"ulid",code:$.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),W(i,{validation:"url",code:$.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"regex",code:$.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?xy(s).test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?F3(s).test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{code:$.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?P3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"duration",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?V3(t.data,s.version)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"ip",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?z3(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"jwt",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?B3(t.data,s.version)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"cidr",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?L3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"base64",code:$.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?D3.test(t.data)||(i=this._getOrReturnCtx(t,i),W(i,{validation:"base64url",code:$.invalid_string,message:s.message}),r.dirty()):ke.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:$.invalid_string,...Y.errToObj(r)})}_addCheck(t){return new An({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Y.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Y.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Y.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Y.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Y.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Y.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Y.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Y.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Y.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Y.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Y.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Y.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Y.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Y.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Y.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Y.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Y.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Y.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Y.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Y.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Y.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Y.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Y.errToObj(n)})}nonempty(t){return this.min(1,Y.errToObj(t))}trim(){return new An({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new An({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new An({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}An.create=e=>new An({checks:[],typeName:V.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...fe(e)});function U3(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class Vr extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const s=this._getOrReturnCtx(t);return W(s,{code:$.invalid_type,expected:J.number,received:s.parsedType}),te}let r;const i=new kt;for(const s of this._def.checks)s.kind==="int"?ke.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),W(r,{code:$.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?U3(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),W(r,{code:$.not_finite,message:s.message}),i.dirty()):ke.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Y.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Y.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Y.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Y.toString(n))}setLimit(t,n,r,i){return new Vr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Y.toString(i)}]})}_addCheck(t){return new Vr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Y.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Y.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ke.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Vr.create=e=>new Vr({checks:[],typeName:V.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class zr extends ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let r;const i=new kt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),W(r,{code:$.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ke.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return W(n,{code:$.invalid_type,expected:J.bigint,received:n.parsedType}),te}gte(t,n){return this.setLimit("min",t,!0,Y.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Y.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Y.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Y.toString(n))}setLimit(t,n,r,i){return new zr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Y.toString(i)}]})}_addCheck(t){return new zr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zr.create=e=>new zr({checks:[],typeName:V.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...fe(e)});class xo extends ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.boolean,received:r.parsedType}),te}return jt(t.data)}}xo.create=e=>new xo({typeName:V.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...fe(e)});class xi extends ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const s=this._getOrReturnCtx(t);return W(s,{code:$.invalid_type,expected:J.date,received:s.parsedType}),te}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return W(s,{code:$.invalid_date}),te}const r=new kt;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),W(i,{code:$.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ke.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Y.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Y.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}xi.create=e=>new xi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:V.ZodDate,...fe(e)});class vl extends ue{_parse(t){if(this._getType(t)!==J.symbol){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.symbol,received:r.parsedType}),te}return jt(t.data)}}vl.create=e=>new vl({typeName:V.ZodSymbol,...fe(e)});class To extends ue{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.undefined,received:r.parsedType}),te}return jt(t.data)}}To.create=e=>new To({typeName:V.ZodUndefined,...fe(e)});class Eo extends ue{_parse(t){if(this._getType(t)!==J.null){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.null,received:r.parsedType}),te}return jt(t.data)}}Eo.create=e=>new Eo({typeName:V.ZodNull,...fe(e)});class ys extends ue{constructor(){super(...arguments),this._any=!0}_parse(t){return jt(t.data)}}ys.create=e=>new ys({typeName:V.ZodAny,...fe(e)});class gi extends ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jt(t.data)}}gi.create=e=>new gi({typeName:V.ZodUnknown,...fe(e)});class vr extends ue{_parse(t){const n=this._getOrReturnCtx(t);return W(n,{code:$.invalid_type,expected:J.never,received:n.parsedType}),te}}vr.create=e=>new vr({typeName:V.ZodNever,...fe(e)});class yl extends ue{_parse(t){if(this._getType(t)!==J.undefined){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.void,received:r.parsedType}),te}return jt(t.data)}}yl.create=e=>new yl({typeName:V.ZodVoid,...fe(e)});class Mn extends ue{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==J.array)return W(n,{code:$.invalid_type,expected:J.array,received:n.parsedType}),te;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(W(n,{code:o?$.too_big:$.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(W(n,{code:$.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(W(n,{code:$.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new gr(n,o,n.path,a)))).then(o=>kt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new gr(n,o,n.path,a)));return kt.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Mn({...this._def,minLength:{value:t,message:Y.toString(n)}})}max(t,n){return new Mn({...this._def,maxLength:{value:t,message:Y.toString(n)}})}length(t,n){return new Mn({...this._def,exactLength:{value:t,message:Y.toString(n)}})}nonempty(t){return this.min(1,t)}}Mn.create=(e,t)=>new Mn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...fe(t)});function Is(e){if(e instanceof He){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Gn.create(Is(r))}return new He({...e._def,shape:()=>t})}else return e instanceof Mn?new Mn({...e._def,type:Is(e.element)}):e instanceof Gn?Gn.create(Is(e.unwrap())):e instanceof Ur?Ur.create(Is(e.unwrap())):e instanceof Xn?Xn.create(e.items.map(t=>Is(t))):e}class He extends ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ke.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==J.object){const c=this._getOrReturnCtx(t);return W(c,{code:$.invalid_type,expected:J.object,received:c.parsedType}),te}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof vr&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new gr(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof vr){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(W(i,{code:$.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new gr(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,p=await u.value;c.push({key:d,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>kt.mergeObjectSync(r,c)):kt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Y.errToObj,new He({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Y.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new He({...this._def,unknownKeys:"strip"})}passthrough(){return new He({...this._def,unknownKeys:"passthrough"})}extend(t){return new He({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new He({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:V.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new He({...this._def,catchall:t})}pick(t){const n={};for(const r of ke.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new He({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ke.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new He({...this._def,shape:()=>n})}deepPartial(){return Is(this)}partial(t){const n={};for(const r of ke.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new He({...this._def,shape:()=>n})}required(t){const n={};for(const r of ke.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Gn;)s=s._def.innerType;n[r]=s}return new He({...this._def,shape:()=>n})}keyof(){return rA(ke.objectKeys(this.shape))}}He.create=(e,t)=>new He({shape:()=>e,unknownKeys:"strip",catchall:vr.create(),typeName:V.ZodObject,...fe(t)});He.strictCreate=(e,t)=>new He({shape:()=>e,unknownKeys:"strict",catchall:vr.create(),typeName:V.ZodObject,...fe(t)});He.lazycreate=(e,t)=>new He({shape:e,unknownKeys:"strip",catchall:vr.create(),typeName:V.ZodObject,...fe(t)});class Co extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Xt(a.ctx.common.issues));return W(n,{code:$.invalid_union,unionErrors:o}),te}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Xt(l));return W(n,{code:$.invalid_union,unionErrors:a}),te}}get options(){return this._def.options}}Co.create=(e,t)=>new Co({options:e,typeName:V.ZodUnion,...fe(t)});const _r=e=>e instanceof Mo?_r(e.schema):e instanceof pn?_r(e.innerType()):e instanceof Oo?[e.value]:e instanceof Br?e.options:e instanceof Io?ke.objectValues(e.enum):e instanceof Ro?_r(e._def.innerType):e instanceof To?[void 0]:e instanceof Eo?[null]:e instanceof Gn?[void 0,..._r(e.unwrap())]:e instanceof Ur?[null,..._r(e.unwrap())]:e instanceof lf||e instanceof jo?_r(e.unwrap()):e instanceof No?_r(e._def.innerType):[];class nc extends ue{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.object)return W(n,{code:$.invalid_type,expected:J.object,received:n.parsedType}),te;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(W(n,{code:$.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const o=_r(s.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,s)}}return new nc({typeName:V.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...fe(r)})}}function Qm(e,t){const n=ur(e),r=ur(t);if(e===t)return{valid:!0,data:e};if(n===J.object&&r===J.object){const i=ke.objectKeys(t),s=ke.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const l=Qm(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===J.array&&r===J.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],l=Qm(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===J.date&&r===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ao extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(md(s)||md(o))return te;const a=Qm(s.value,o.value);return a.valid?((gd(s)||gd(o))&&n.dirty(),{status:n.value,value:a.data}):(W(r,{code:$.invalid_intersection_types}),te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ao.create=(e,t,n)=>new Ao({left:e,right:t,typeName:V.ZodIntersection,...fe(n)});class Xn extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.array)return W(r,{code:$.invalid_type,expected:J.array,received:r.parsedType}),te;if(r.data.length<this._def.items.length)return W(r,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&r.data.length>this._def.items.length&&(W(r,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new gr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>kt.mergeArray(n,o)):kt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Xn({...this._def,rest:t})}}Xn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xn({items:e,typeName:V.ZodTuple,rest:null,...fe(t)})};class Po extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.object)return W(r,{code:$.invalid_type,expected:J.object,received:r.parsedType}),te;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new gr(r,a,r.path,a)),value:o._parse(new gr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?kt.mergeObjectAsync(n,i):kt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ue?new Po({keyType:t,valueType:n,typeName:V.ZodRecord,...fe(r)}):new Po({keyType:An.create(),valueType:t,typeName:V.ZodRecord,...fe(n)})}}class wl extends ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.map)return W(r,{code:$.invalid_type,expected:J.map,received:r.parsedType}),te;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new gr(r,a,r.path,[c,"key"])),value:s._parse(new gr(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return te;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return te;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}wl.create=(e,t,n)=>new wl({valueType:t,keyType:e,typeName:V.ZodMap,...fe(n)});class Ti extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==J.set)return W(r,{code:$.invalid_type,expected:J.set,received:r.parsedType}),te;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(W(r,{code:$.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(W(r,{code:$.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return te;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new gr(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,n){return new Ti({...this._def,minSize:{value:t,message:Y.toString(n)}})}max(t,n){return new Ti({...this._def,maxSize:{value:t,message:Y.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ti.create=(e,t)=>new Ti({valueType:e,minSize:null,maxSize:null,typeName:V.ZodSet,...fe(t)});class ss extends ue{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.function)return W(n,{code:$.invalid_type,expected:J.function,received:n.parsedType}),te;function r(a,l){return gl({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ml(),vs].filter(c=>!!c),issueData:{code:$.invalid_arguments,argumentsError:l}})}function i(a,l){return gl({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ml(),vs].filter(c=>!!c),issueData:{code:$.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof ws){const a=this;return jt(async function(...l){const c=new Xt([]),u=await a._def.args.parseAsync(l,s).catch(h=>{throw c.addIssue(r(l,h)),c}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(h=>{throw c.addIssue(i(d,h)),c})})}else{const a=this;return jt(function(...l){const c=a._def.args.safeParse(l,s);if(!c.success)throw new Xt([r(l,c.error)]);const u=Reflect.apply(o,this,c.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new Xt([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ss({...this._def,args:Xn.create(t).rest(gi.create())})}returns(t){return new ss({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ss({args:t||Xn.create([]).rest(gi.create()),returns:n||gi.create(),typeName:V.ZodFunction,...fe(r)})}}class Mo extends ue{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Mo.create=(e,t)=>new Mo({getter:e,typeName:V.ZodLazy,...fe(t)});class Oo extends ue{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return W(n,{received:n.data,code:$.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:t.data}}get value(){return this._def.value}}Oo.create=(e,t)=>new Oo({value:e,typeName:V.ZodLiteral,...fe(t)});function rA(e,t){return new Br({values:e,typeName:V.ZodEnum,...fe(t)})}class Br extends ue{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return W(n,{expected:ke.joinValues(r),received:n.parsedType,code:$.invalid_type}),te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return W(n,{received:n.data,code:$.invalid_enum_value,options:r}),te}return jt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Br.create(t,{...this._def,...n})}exclude(t,n=this._def){return Br.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Br.create=rA;class Io extends ue{_parse(t){const n=ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==J.string&&r.parsedType!==J.number){const i=ke.objectValues(n);return W(r,{expected:ke.joinValues(i),received:r.parsedType,code:$.invalid_type}),te}if(this._cache||(this._cache=new Set(ke.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ke.objectValues(n);return W(r,{received:r.data,code:$.invalid_enum_value,options:i}),te}return jt(t.data)}get enum(){return this._def.values}}Io.create=(e,t)=>new Io({values:e,typeName:V.ZodNativeEnum,...fe(t)});class ws extends ue{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==J.promise&&n.common.async===!1)return W(n,{code:$.invalid_type,expected:J.promise,received:n.parsedType}),te;const r=n.parsedType===J.promise?n.data:Promise.resolve(n.data);return jt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ws.create=(e,t)=>new ws({type:e,typeName:V.ZodPromise,...fe(t)});class pn extends ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{W(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return te;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?te:l.status==="dirty"||n.value==="dirty"?Qi(l.value):l});{if(n.value==="aborted")return te;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?te:a.status==="dirty"||n.value==="dirty"?Qi(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?te:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?te:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ki(o))return te;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>ki(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):te);ke.assertNever(i)}}pn.create=(e,t,n)=>new pn({schema:e,typeName:V.ZodEffects,effect:t,...fe(n)});pn.createWithPreprocess=(e,t,n)=>new pn({schema:t,effect:{type:"preprocess",transform:e},typeName:V.ZodEffects,...fe(n)});class Gn extends ue{_parse(t){return this._getType(t)===J.undefined?jt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Gn.create=(e,t)=>new Gn({innerType:e,typeName:V.ZodOptional,...fe(t)});class Ur extends ue{_parse(t){return this._getType(t)===J.null?jt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:V.ZodNullable,...fe(t)});class Ro extends ue{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===J.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ro.create=(e,t)=>new Ro({innerType:e,typeName:V.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...fe(t)});class No extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ko(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Xt(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Xt(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}No.create=(e,t)=>new No({innerType:e,typeName:V.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...fe(t)});class bl extends ue{_parse(t){if(this._getType(t)!==J.nan){const r=this._getOrReturnCtx(t);return W(r,{code:$.invalid_type,expected:J.nan,received:r.parsedType}),te}return{status:"valid",value:t.data}}}bl.create=e=>new bl({typeName:V.ZodNaN,...fe(e)});const iA=Symbol("zod_brand");class lf extends ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class qo extends ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?te:s.status==="dirty"?(n.dirty(),Qi(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?te:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new qo({in:t,out:n,typeName:V.ZodPipeline})}}class jo extends ue{_parse(t){const n=this._def.innerType._parse(t),r=i=>(ki(i)&&(i.value=Object.freeze(i.value)),i);return ko(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}jo.create=(e,t)=>new jo({innerType:e,typeName:V.ZodReadonly,...fe(t)});function PS(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function cf(e,t={},n){return e?ys.create().superRefine((r,i)=>{const s=e(r);if(s instanceof Promise)return s.then(o=>{if(!o){const a=PS(t,r),l=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:l})}});if(!s){const o=PS(t,r),a=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:a})}}):ys.create()}const sA={object:He.lazycreate};var V;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(V||(V={}));const Lo=(e,t={message:`Input not instance of ${e.name}`})=>cf(n=>n instanceof e,t),Q=An.create,Ee=Vr.create,oA=bl.create,aA=zr.create,rc=xo.create,lA=xi.create,cA=vl.create,uA=To.create,Ty=Eo.create,Ey=ys.create,uf=gi.create,dA=vr.create,fA=yl.create,Fe=Mn.create,oe=He.create,pA=He.strictCreate,Bt=Co.create,hA=nc.create,mA=Ao.create,gA=Xn.create,bs=Po.create,vA=wl.create,yA=Ti.create,wA=ss.create,Cy=Mo.create,Lt=Oo.create,Ay=Br.create,bA=Io.create,_A=ws.create,vd=pn.create,SA=Gn.create,kA=Ur.create,xA=pn.createWithPreprocess,TA=qo.create,EA=()=>Q().optional(),CA=()=>Ee().optional(),AA=()=>rc().optional(),PA={string:e=>An.create({...e,coerce:!0}),number:e=>Vr.create({...e,coerce:!0}),boolean:e=>xo.create({...e,coerce:!0}),bigint:e=>zr.create({...e,coerce:!0}),date:e=>xi.create({...e,coerce:!0})},MA=te,MS=Object.freeze(Object.defineProperty({__proto__:null,BRAND:iA,DIRTY:Qi,EMPTY_PATH:eA,INVALID:te,NEVER:MA,OK:jt,ParseStatus:kt,Schema:ue,ZodAny:ys,ZodArray:Mn,ZodBigInt:zr,ZodBoolean:xo,ZodBranded:lf,ZodCatch:No,ZodDate:xi,ZodDefault:Ro,ZodDiscriminatedUnion:nc,ZodEffects:pn,ZodEnum:Br,ZodError:Xt,get ZodFirstPartyTypeKind(){return V},ZodFunction:ss,ZodIntersection:Ao,ZodIssueCode:$,ZodLazy:Mo,ZodLiteral:Oo,ZodMap:wl,ZodNaN:bl,ZodNativeEnum:Io,ZodNever:vr,ZodNull:Eo,ZodNullable:Ur,ZodNumber:Vr,ZodObject:He,ZodOptional:Gn,ZodParsedType:J,ZodPipeline:qo,ZodPromise:ws,ZodReadonly:jo,ZodRecord:Po,ZodSchema:ue,ZodSet:Ti,ZodString:An,ZodSymbol:vl,ZodTransformer:pn,ZodTuple:Xn,ZodType:ue,ZodUndefined:To,ZodUnion:Co,ZodUnknown:gi,ZodVoid:yl,addIssueToContext:W,any:Ey,array:Fe,bigint:aA,boolean:rc,coerce:PA,custom:cf,date:lA,datetimeRegex:xy,defaultErrorMap:vs,discriminatedUnion:hA,effect:vd,enum:Ay,function:wA,getErrorMap:ml,getParsedType:ur,instanceof:Lo,intersection:mA,isAborted:md,isAsync:ko,isDirty:gd,isValid:ki,late:sA,lazy:Cy,literal:Lt,makeIssue:gl,map:vA,nan:oA,nativeEnum:bA,never:dA,null:Ty,nullable:kA,number:Ee,object:oe,get objectUtil(){return hd},oboolean:AA,onumber:CA,optional:SA,ostring:EA,pipeline:TA,preprocess:xA,promise:_A,quotelessJson:YC,record:bs,set:yA,setErrorMap:XC,strictObject:pA,string:Q,symbol:cA,transformer:vd,tuple:gA,undefined:uA,union:Bt,unknown:uf,get util(){return ke},void:fA},Symbol.toStringTag,{value:"Module"})),q3=Object.freeze(Object.defineProperty({__proto__:null,BRAND:iA,DIRTY:Qi,EMPTY_PATH:eA,INVALID:te,NEVER:MA,OK:jt,ParseStatus:kt,Schema:ue,ZodAny:ys,ZodArray:Mn,ZodBigInt:zr,ZodBoolean:xo,ZodBranded:lf,ZodCatch:No,ZodDate:xi,ZodDefault:Ro,ZodDiscriminatedUnion:nc,ZodEffects:pn,ZodEnum:Br,ZodError:Xt,get ZodFirstPartyTypeKind(){return V},ZodFunction:ss,ZodIntersection:Ao,ZodIssueCode:$,ZodLazy:Mo,ZodLiteral:Oo,ZodMap:wl,ZodNaN:bl,ZodNativeEnum:Io,ZodNever:vr,ZodNull:Eo,ZodNullable:Ur,ZodNumber:Vr,ZodObject:He,ZodOptional:Gn,ZodParsedType:J,ZodPipeline:qo,ZodPromise:ws,ZodReadonly:jo,ZodRecord:Po,ZodSchema:ue,ZodSet:Ti,ZodString:An,ZodSymbol:vl,ZodTransformer:pn,ZodTuple:Xn,ZodType:ue,ZodUndefined:To,ZodUnion:Co,ZodUnknown:gi,ZodVoid:yl,addIssueToContext:W,any:Ey,array:Fe,bigint:aA,boolean:rc,coerce:PA,custom:cf,date:lA,datetimeRegex:xy,default:MS,defaultErrorMap:vs,discriminatedUnion:hA,effect:vd,enum:Ay,function:wA,getErrorMap:ml,getParsedType:ur,instanceof:Lo,intersection:mA,isAborted:md,isAsync:ko,isDirty:gd,isValid:ki,late:sA,lazy:Cy,literal:Lt,makeIssue:gl,map:vA,nan:oA,nativeEnum:bA,never:dA,null:Ty,nullable:kA,number:Ee,object:oe,get objectUtil(){return hd},oboolean:AA,onumber:CA,optional:SA,ostring:EA,pipeline:TA,preprocess:xA,promise:_A,quotelessJson:YC,record:bs,set:yA,setErrorMap:XC,strictObject:pA,string:Q,symbol:cA,transformer:vd,tuple:gA,undefined:uA,union:Bt,unknown:uf,get util(){return ke},void:fA,z:MS},Symbol.toStringTag,{value:"Module"}));function W3({prompt:e,useLegacyFunctionCalling:t=!1}){const n=[];for(const{role:r,content:i}of e)switch(r){case"system":{n.push({role:"system",content:i});break}case"user":{if(i.length===1&&i[0].type==="text"){n.push({role:"user",content:i[0].text});break}n.push({role:"user",content:i.map(s=>{var o,a,l;switch(s.type){case"text":return{type:"text",text:s.text};case"image":return{type:"image_url",image_url:{url:s.image instanceof URL?s.image.toString():`data:${(o=s.mimeType)!=null?o:"image/jpeg"};base64,${_3(s.image)}`,detail:(l=(a=s.providerMetadata)==null?void 0:a.openai)==null?void 0:l.imageDetail}};case"file":throw new Cn({functionality:"File content parts in user messages"})}})});break}case"assistant":{let s="";const o=[];for(const a of i)switch(a.type){case"text":{s+=a.text;break}case"tool-call":{o.push({id:a.toolCallId,type:"function",function:{name:a.toolName,arguments:JSON.stringify(a.args)}});break}default:{const l=a;throw new Error(`Unsupported part: ${l}`)}}if(t){if(o.length>1)throw new Cn({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:s,function_call:o.length>0?o[0].function:void 0})}else n.push({role:"assistant",content:s,tool_calls:o.length>0?o:void 0});break}case"tool":{for(const s of i)t?n.push({role:"function",name:s.toolName,content:JSON.stringify(s.result)}):n.push({role:"tool",tool_call_id:s.toolCallId,content:JSON.stringify(s.result)});break}default:{const s=r;throw new Error(`Unsupported role: ${s}`)}}return n}function OS(e){var t,n;return(n=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:r,logprob:i,top_logprobs:s})=>({token:r,logprob:i,topLogprobs:s?s.map(({token:o,logprob:a})=>({token:o,logprob:a})):[]})))!=null?n:void 0}function yd(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Py=oe({error:oe({message:Q(),type:Q().nullish(),param:Ey().nullish(),code:Bt([Q(),Ee()]).nullish()})}),_l=w3({errorSchema:Py,errorToMessage:e=>e.error.message});function wd({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}var H3=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){return this.settings.structuredOutputs===!0}get defaultObjectGenerationMode(){return this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:s,frequencyPenalty:o,presencePenalty:a,stopSequences:l,responseFormat:c,seed:u,providerMetadata:d}){var p,h,m,v,S,g,b;const _=e.type,x=[];s!=null&&x.push({type:"unsupported-setting",setting:"topK"}),c!=null&&c.type==="json"&&c.schema!=null&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const k=this.settings.useLegacyFunctionCalling;if(k&&this.settings.parallelToolCalls===!0)throw new Cn({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(k&&this.settings.structuredOutputs===!0)throw new Cn({functionality:"structuredOutputs with useLegacyFunctionCalling"});const T={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:i,frequency_penalty:o,presence_penalty:a,stop:l,seed:u,max_completion_tokens:(h=(p=d==null?void 0:d.openai)==null?void 0:p.maxCompletionTokens)!=null?h:void 0,store:(v=(m=d==null?void 0:d.openai)==null?void 0:m.store)!=null?v:void 0,metadata:(g=(S=d==null?void 0:d.openai)==null?void 0:S.metadata)!=null?g:void 0,response_format:(c==null?void 0:c.type)==="json"?{type:"json_object"}:void 0,messages:W3({prompt:t,useLegacyFunctionCalling:k})};switch(IS(this.modelId)&&(T.temperature=void 0,T.top_p=void 0,T.frequency_penalty=void 0,T.presence_penalty=void 0),_){case"regular":return{args:{...T,...G3({mode:e,useLegacyFunctionCalling:k,structuredOutputs:this.settings.structuredOutputs})},warnings:x};case"object-json":return{args:{...T,response_format:this.settings.structuredOutputs===!0?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(b=e.name)!=null?b:"response",description:e.description}}:{type:"json_object"}},warnings:x};case"object-tool":return{args:k?{...T,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...T,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.settings.structuredOutputs===!0?!0:void 0}}]},warnings:x};default:{const A=_;throw new Error(`Unsupported type: ${A}`)}}}async doGenerate(e){var t,n,r,i,s,o,a,l,c,u,d,p,h,m,v,S,g,b;const{args:_,warnings:x}=this.getArgs(e),{responseHeaders:k,value:T}=await hl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:_,failedResponseHandler:_l,successfulResponseHandler:ky(K3),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:A,...M}=_,I=T.choices[0];let N;return(((n=(t=T.usage)==null?void 0:t.completion_tokens_details)==null?void 0:n.reasoning_tokens)!=null||((i=(r=T.usage)==null?void 0:r.prompt_tokens_details)==null?void 0:i.cached_tokens)!=null)&&(N={openai:{}},((o=(s=T.usage)==null?void 0:s.completion_tokens_details)==null?void 0:o.reasoning_tokens)!=null&&(N.openai.reasoningTokens=(l=(a=T.usage)==null?void 0:a.completion_tokens_details)==null?void 0:l.reasoning_tokens),((u=(c=T.usage)==null?void 0:c.prompt_tokens_details)==null?void 0:u.cached_tokens)!=null&&(N.openai.cachedPromptTokens=(p=(d=T.usage)==null?void 0:d.prompt_tokens_details)==null?void 0:p.cached_tokens)),{text:(h=I.message.content)!=null?h:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&I.message.function_call?[{toolCallType:"function",toolCallId:la(),toolName:I.message.function_call.name,args:I.message.function_call.arguments}]:(m=I.message.tool_calls)==null?void 0:m.map(H=>{var z;return{toolCallType:"function",toolCallId:(z=H.id)!=null?z:la(),toolName:H.function.name,args:H.function.arguments}}),finishReason:yd(I.finish_reason),usage:{promptTokens:(S=(v=T.usage)==null?void 0:v.prompt_tokens)!=null?S:NaN,completionTokens:(b=(g=T.usage)==null?void 0:g.completion_tokens)!=null?b:NaN},rawCall:{rawPrompt:A,rawSettings:M},rawResponse:{headers:k},response:wd(T),warnings:x,logprobs:OS(I.logprobs),providerMetadata:N}}async doStream(e){if(IS(this.modelId)){const m=await this.doGenerate(e);return{stream:new ReadableStream({start(S){if(S.enqueue({type:"response-metadata",...m.response}),m.text&&S.enqueue({type:"text-delta",textDelta:m.text}),m.toolCalls)for(const g of m.toolCalls)S.enqueue({type:"tool-call",...g});S.enqueue({type:"finish",finishReason:m.finishReason,usage:m.usage,logprobs:m.logprobs,providerMetadata:m.providerMetadata}),S.close()}}),rawCall:m.rawCall,rawResponse:m.rawResponse,warnings:m.warnings}}const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:{...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},failedResponseHandler:_l,successfulResponseHandler:ZC(J3),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...o}=t,a=[];let l="unknown",c={promptTokens:void 0,completionTokens:void 0},u,d=!0;const{useLegacyFunctionCalling:p}=this.settings;let h;return{stream:i.pipeThrough(new TransformStream({transform(m,v){var S,g,b,_,x,k,T,A,M,I,N,H,z,B,ne,ve;if(!m.success){l="error",v.enqueue({type:"error",error:m.error});return}const me=m.value;if("error"in me){l="error",v.enqueue({type:"error",error:me.error});return}d&&(d=!1,v.enqueue({type:"response-metadata",...wd(me)})),me.usage!=null&&(c={promptTokens:(S=me.usage.prompt_tokens)!=null?S:void 0,completionTokens:(g=me.usage.completion_tokens)!=null?g:void 0},((b=me.usage.prompt_tokens_details)==null?void 0:b.cached_tokens)!=null&&(h={openai:{cachedPromptTokens:(_=me.usage.prompt_tokens_details)==null?void 0:_.cached_tokens}}));const ie=me.choices[0];if((ie==null?void 0:ie.finish_reason)!=null&&(l=yd(ie.finish_reason)),(ie==null?void 0:ie.delta)==null)return;const j=ie.delta;j.content!=null&&v.enqueue({type:"text-delta",textDelta:j.content});const q=OS(ie==null?void 0:ie.logprobs);q!=null&&q.length&&(u===void 0&&(u=[]),u.push(...q));const U=p&&j.function_call!=null?[{type:"function",id:la(),function:j.function_call,index:0}]:j.tool_calls;if(U!=null)for(const Z of U){const be=Z.index;if(a[be]==null){if(Z.type!=="function")throw new Lp({data:Z,message:"Expected 'function' type."});if(Z.id==null)throw new Lp({data:Z,message:"Expected 'id' to be a string."});if(((x=Z.function)==null?void 0:x.name)==null)throw new Lp({data:Z,message:"Expected 'function.name' to be a string."});a[be]={id:Z.id,type:"function",function:{name:Z.function.name,arguments:(k=Z.function.arguments)!=null?k:""}};const f=a[be];((T=f.function)==null?void 0:T.name)!=null&&((A=f.function)==null?void 0:A.arguments)!=null&&(f.function.arguments.length>0&&v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:f.id,toolName:f.function.name,argsTextDelta:f.function.arguments}),CS(f.function.arguments)&&v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(M=f.id)!=null?M:la(),toolName:f.function.name,args:f.function.arguments}));continue}const _e=a[be];((I=Z.function)==null?void 0:I.arguments)!=null&&(_e.function.arguments+=(H=(N=Z.function)==null?void 0:N.arguments)!=null?H:""),v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:_e.id,toolName:_e.function.name,argsTextDelta:(z=Z.function.arguments)!=null?z:""}),((B=_e.function)==null?void 0:B.name)!=null&&((ne=_e.function)==null?void 0:ne.arguments)!=null&&CS(_e.function.arguments)&&v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ve=_e.id)!=null?ve:la(),toolName:_e.function.name,args:_e.function.arguments})}},flush(m){var v,S;m.enqueue({type:"finish",finishReason:l,logprobs:u,usage:{promptTokens:(v=c.promptTokens)!=null?v:NaN,completionTokens:(S=c.completionTokens)!=null?S:NaN},...h!=null?{providerMetadata:h}:{}})}})),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:r},warnings:n}}},OA=oe({prompt_tokens:Ee().nullish(),completion_tokens:Ee().nullish(),prompt_tokens_details:oe({cached_tokens:Ee().nullish()}).nullish(),completion_tokens_details:oe({reasoning_tokens:Ee().nullish()}).nullish()}).nullish(),K3=oe({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(oe({message:oe({role:Lt("assistant").nullish(),content:Q().nullish(),function_call:oe({arguments:Q(),name:Q()}).nullish(),tool_calls:Fe(oe({id:Q().nullish(),type:Lt("function"),function:oe({name:Q(),arguments:Q()})})).nullish()}),index:Ee(),logprobs:oe({content:Fe(oe({token:Q(),logprob:Ee(),top_logprobs:Fe(oe({token:Q(),logprob:Ee()}))})).nullable()}).nullish(),finish_reason:Q().nullish()})),usage:OA}),J3=Bt([oe({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(oe({delta:oe({role:Ay(["assistant"]).nullish(),content:Q().nullish(),function_call:oe({name:Q().optional(),arguments:Q().optional()}).nullish(),tool_calls:Fe(oe({index:Ee(),id:Q().nullish(),type:Lt("function").optional(),function:oe({name:Q().nullish(),arguments:Q().nullish()})})).nullish()}).nullish(),logprobs:oe({content:Fe(oe({token:Q(),logprob:Ee(),top_logprobs:Fe(oe({token:Q(),logprob:Ee()}))})).nullable()}).nullish(),finish_reason:Q().nullable().optional(),index:Ee()})),usage:OA}),Py]);function G3({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n=!1}){var r;const i=(r=e.tools)!=null&&r.length?e.tools:void 0;if(i==null)return{tools:void 0,tool_choice:void 0};const s=e.toolChoice;if(t){const l=i.map(u=>({name:u.name,description:u.description,parameters:u.parameters}));if(s==null)return{functions:l,function_call:void 0};switch(s.type){case"auto":case"none":case void 0:return{functions:l,function_call:void 0};case"required":throw new Cn({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:l,function_call:{name:s.toolName}}}}const o=i.map(l=>({type:"function",function:{name:l.name,description:l.description,parameters:l.parameters,strict:n===!0?!0:void 0}}));if(s==null)return{tools:o,tool_choice:void 0};const a=s.type;switch(a){case"auto":case"none":case"required":return{tools:o,tool_choice:a};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:s.toolName}}};default:{const l=a;throw new Error(`Unsupported tool choice type: ${l}`)}}}function IS(e){return e.startsWith("o1-")}function Z3({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let i="";e[0].role==="system"&&(i+=`${e[0].content}

`,e=e.slice(1));for(const{role:s,content:o}of e)switch(s){case"system":throw new HV({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const a=o.map(l=>{switch(l.type){case"text":return l.text;case"image":throw new Cn({functionality:"images"})}}).join("");i+=`${n}:
${a}

`;break}case"assistant":{const a=o.map(l=>{switch(l.type){case"text":return l.text;case"tool-call":throw new Cn({functionality:"tool-call messages"})}}).join("");i+=`${r}:
${a}

`;break}case"tool":throw new Cn({functionality:"tool messages"});default:{const a=s;throw new Error(`Unsupported role: ${a}`)}}return i+=`${r}:
`,{prompt:i,stopSequences:[`
${n}:`]}}function RS(e){return e==null?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([r,i])=>({token:r,logprob:i})):[]}))}var Y3=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:i,topP:s,topK:o,frequencyPenalty:a,presencePenalty:l,stopSequences:c,responseFormat:u,seed:d}){var p;const h=e.type,m=[];o!=null&&m.push({type:"unsupported-setting",setting:"topK"}),u!=null&&u.type!=="text"&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:v,stopSequences:S}=Z3({prompt:n,inputFormat:t}),g=[...S??[],...c??[]],b={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:i,top_p:s,frequency_penalty:a,presence_penalty:l,seed:d,prompt:v,stop:g.length>0?g:void 0};switch(h){case"regular":{if((p=e.tools)!=null&&p.length)throw new Cn({functionality:"tools"});if(e.toolChoice)throw new Cn({functionality:"toolChoice"});return{args:b,warnings:m}}case"object-json":throw new Cn({functionality:"object-json mode"});case"object-tool":throw new Cn({functionality:"object-tool mode"});default:{const _=h;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:t,failedResponseHandler:_l,successfulResponseHandler:ky(Q3),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...o}=t,a=i.choices[0];return{text:a.text,usage:{promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},finishReason:yd(a.finish_reason),logprobs:RS(a.logprobs),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:r},response:wd(i),warnings:n}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:pl(this.config.headers(),e.headers),body:{...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},failedResponseHandler:_l,successfulResponseHandler:ZC(X3),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...o}=t;let a="unknown",l={promptTokens:Number.NaN,completionTokens:Number.NaN},c,u=!0;return{stream:i.pipeThrough(new TransformStream({transform(d,p){if(!d.success){a="error",p.enqueue({type:"error",error:d.error});return}const h=d.value;if("error"in h){a="error",p.enqueue({type:"error",error:h.error});return}u&&(u=!1,p.enqueue({type:"response-metadata",...wd(h)})),h.usage!=null&&(l={promptTokens:h.usage.prompt_tokens,completionTokens:h.usage.completion_tokens});const m=h.choices[0];(m==null?void 0:m.finish_reason)!=null&&(a=yd(m.finish_reason)),(m==null?void 0:m.text)!=null&&p.enqueue({type:"text-delta",textDelta:m.text});const v=RS(m==null?void 0:m.logprobs);v!=null&&v.length&&(c===void 0&&(c=[]),c.push(...v))},flush(d){d.enqueue({type:"finish",finishReason:a,logprobs:c,usage:l})}})),rawCall:{rawPrompt:s,rawSettings:o},rawResponse:{headers:r},warnings:n}}},Q3=oe({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(oe({text:Q(),finish_reason:Q(),logprobs:oe({tokens:Fe(Q()),token_logprobs:Fe(Ee()),top_logprobs:Fe(bs(Q(),Ee())).nullable()}).nullish()})),usage:oe({prompt_tokens:Ee(),completion_tokens:Ee()})}),X3=Bt([oe({id:Q().nullish(),created:Ee().nullish(),model:Q().nullish(),choices:Fe(oe({text:Q(),finish_reason:Q().nullish(),index:Ee(),logprobs:oe({tokens:Fe(Q()),token_logprobs:Fe(Ee()),top_logprobs:Fe(bs(Q(),Ee())).nullable()}).nullish()})),usage:oe({prompt_tokens:Ee(),completion_tokens:Ee()}).nullish()}),Py]),ez=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new YV({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:i}=await hl({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:pl(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:_l,successfulResponseHandler:ky(tz),abortSignal:n,fetch:this.config.fetch});return{embeddings:i.data.map(s=>s.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},tz=oe({data:Fe(oe({embedding:Fe(Ee())})),usage:oe({prompt_tokens:Ee()}).nullish()});function nz(e={}){var t,n,r;const i=(n=S3((t=e.baseURL)!=null?t:e.baseUrl))!=null?n:"https://api.openai.com/v1",s=(r=e.compatibility)!=null?r:"compatible",o=()=>({Authorization:`Bearer ${c3({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),a=(p,h={})=>new H3(p,h,{provider:"openai.chat",url:({path:m})=>`${i}${m}`,headers:o,compatibility:s,fetch:e.fetch}),l=(p,h={})=>new Y3(p,h,{provider:"openai.completion",url:({path:m})=>`${i}${m}`,headers:o,compatibility:s,fetch:e.fetch}),c=(p,h={})=>new ez(p,h,{provider:"openai.embedding",url:({path:m})=>`${i}${m}`,headers:o,fetch:e.fetch}),u=(p,h)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return p==="gpt-3.5-turbo-instruct"?l(p,h):a(p,h)},d=function(p,h){return u(p,h)};return d.languageModel=u,d.chat=a,d.completion=l,d.embedding=c,d.textEmbedding=c,d.textEmbeddingModel=c,d}var rz=nz({compatibility:"strict"}),IA="vercel.ai.error",iz=Symbol.for(IA),RA,sz=class NA extends Error{constructor({name:t,message:n,cause:r}){super(n),this[RA]=!0,this.name=t,this.cause=r}static isInstance(t){return NA.hasMarker(t,IA)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}toJSON(){return{name:this.name,message:this.message}}};RA=iz;var NS=sz,jA="AI_InvalidArgumentError",LA=`vercel.ai.error.${jA}`,oz=Symbol.for(LA),DA,az=class extends NS{constructor({message:t,cause:n,argument:r}){super({name:jA,message:t,cause:n}),this[DA]=!0,this.argument=r}static isInstance(t){return NS.hasMarker(t,LA)}};DA=oz;let $A=(e,t=21)=>(n=t)=>{let r="",i=n|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};var lz=({prefix:e,size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=$A(n,t);if(e==null)return i;if(n.includes(r))throw new az({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return s=>`${e}${r}${i(s)}`};lz();var cz=Symbol.for("vercel.ai.validator");const uz=Symbol("Let zodToJsonSchema decide on which parser to use"),dz={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},fz=e=>({...dz,...e}),pz=e=>{const t=fz(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function FA(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Oe(e,t,n,r,i){e[t]=n,FA(e,t,r,i)}const VA=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")};function hn(e){if(e.target!=="openAi")return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?VA(t,e.currentPath):t.join("/")}}function hz(e,t){var r,i,s;const n={type:"array"};return(r=e.type)!=null&&r._def&&((s=(i=e.type)==null?void 0:i._def)==null?void 0:s.typeName)!==V.ZodAny&&(n.items=Pe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Oe(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Oe(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Oe(n,"minItems",e.exactLength.value,e.exactLength.message,t),Oe(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function mz(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Oe(n,"minimum",r.value,r.message,t):Oe(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Oe(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Oe(n,"maximum",r.value,r.message,t):Oe(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Oe(n,"maximum",r.value,r.message,t));break;case"multipleOf":Oe(n,"multipleOf",r.value,r.message,t);break}return n}function gz(){return{type:"boolean"}}function zA(e,t){return Pe(e.type._def,t)}const vz=(e,t)=>Pe(e.innerType._def,t);function BA(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,s)=>BA(e,t,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return yz(e,t)}}const yz=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Oe(n,"minimum",r.value,r.message,t);break;case"max":Oe(n,"maximum",r.value,r.message,t);break}return n};function wz(e,t){return{...Pe(e.innerType._def,t),default:e.defaultValue()}}function bz(e,t){return t.effectStrategy==="input"?Pe(e.schema._def,t):hn(t)}function _z(e){return{type:"string",enum:Array.from(e.values)}}const Sz=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function kz(e,t){const n=[Pe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Pe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(s=>{if(Sz(s))i.push(...s.allOf),s.unevaluatedProperties===void 0&&(r=void 0);else{let o=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:a,...l}=s;o=l}else r=void 0;i.push(o)}}),i.length?{allOf:i,...r}:void 0}function xz(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let Fp;const Ln={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Fp===void 0&&(Fp=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Fp),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function UA(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Oe(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Oe(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Dn(n,"email",r.message,t);break;case"format:idn-email":Dn(n,"idn-email",r.message,t);break;case"pattern:zod":Dt(n,Ln.email,r.message,t);break}break;case"url":Dn(n,"uri",r.message,t);break;case"uuid":Dn(n,"uuid",r.message,t);break;case"regex":Dt(n,r.regex,r.message,t);break;case"cuid":Dt(n,Ln.cuid,r.message,t);break;case"cuid2":Dt(n,Ln.cuid2,r.message,t);break;case"startsWith":Dt(n,RegExp(`^${Vp(r.value,t)}`),r.message,t);break;case"endsWith":Dt(n,RegExp(`${Vp(r.value,t)}$`),r.message,t);break;case"datetime":Dn(n,"date-time",r.message,t);break;case"date":Dn(n,"date",r.message,t);break;case"time":Dn(n,"time",r.message,t);break;case"duration":Dn(n,"duration",r.message,t);break;case"length":Oe(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),Oe(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{Dt(n,RegExp(Vp(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Dn(n,"ipv4",r.message,t),r.version!=="v4"&&Dn(n,"ipv6",r.message,t);break}case"base64url":Dt(n,Ln.base64url,r.message,t);break;case"jwt":Dt(n,Ln.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Dt(n,Ln.ipv4Cidr,r.message,t),r.version!=="v4"&&Dt(n,Ln.ipv6Cidr,r.message,t);break}case"emoji":Dt(n,Ln.emoji(),r.message,t);break;case"ulid":{Dt(n,Ln.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Dn(n,"binary",r.message,t);break}case"contentEncoding:base64":{Oe(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{Dt(n,Ln.base64,r.message,t);break}}break}case"nanoid":Dt(n,Ln.nanoid,r.message,t)}return n}function Vp(e,t){return t.patternStrategy==="escape"?Ez(e):e}const Tz=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Ez(e){let t="";for(let n=0;n<e.length;n++)Tz.has(e[n])||(t+="\\"),t+=e[n];return t}function Dn(e,t,n,r){var i;e.format||(i=e.anyOf)!=null&&i.some(s=>s.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Oe(e,"format",t,n,r)}function Dt(e,t,n,r){var i;e.pattern||(i=e.allOf)!=null&&i.some(s=>s.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:jS(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Oe(e,"pattern",jS(t,r),n,r)}function jS(e,t){var l;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let i="",s=!1,o=!1,a=!1;for(let c=0;c<r.length;c++){if(s){i+=r[c],s=!1;continue}if(n.i){if(o){if(r[c].match(/[a-z]/)){a?(i+=r[c],i+=`${r[c-2]}-${r[c]}`.toUpperCase(),a=!1):r[c+1]==="-"&&((l=r[c+2])!=null&&l.match(/[a-z]/))?(i+=r[c],a=!0):i+=`${r[c]}${r[c].toUpperCase()}`;continue}}else if(r[c].match(/[a-z]/)){i+=`[${r[c]}${r[c].toUpperCase()}]`;continue}}if(n.m){if(r[c]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[c]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[c]==="."){i+=o?`${r[c]}\r
`:`[${r[c]}\r
]`;continue}i+=r[c],r[c]==="\\"?s=!0:o&&r[c]==="]"?o=!1:!o&&r[c]==="["&&(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function qA(e,t){var r,i,s,o,a,l;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===V.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((c,u)=>({...c,[u]:Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",u]})??hn(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(((i=e.keyType)==null?void 0:i._def.typeName)===V.ZodString&&((s=e.keyType._def.checks)!=null&&s.length)){const{type:c,...u}=UA(e.keyType._def,t);return{...n,propertyNames:u}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===V.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((a=e.keyType)==null?void 0:a._def.typeName)===V.ZodBranded&&e.keyType._def.type._def.typeName===V.ZodString&&((l=e.keyType._def.type._def.checks)!=null&&l.length)){const{type:c,...u}=zA(e.keyType._def,t);return{...n,propertyNames:u}}}return n}function Cz(e,t){if(t.mapStrategy==="record")return qA(e,t);const n=Pe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||hn(t),r=Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||hn(t);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Az(e){const t=e.values,r=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),i=Array.from(new Set(r.map(s=>typeof s)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function Pz(e){return e.target==="openAi"?void 0:{not:hn({...e,currentPath:[...e.currentPath,"not"]})}}function Mz(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const bd={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Oz(e,t){if(t.target==="openApi3")return LS(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in bd&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,s)=>{const o=bd[s._def.typeName];return o&&!i.includes(o)?[...i,o]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,s)=>{const o=typeof s._def.value;switch(o){case"string":case"number":case"boolean":return[...i,o];case"bigint":return[...i,"integer"];case"object":if(s._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((s,o,a)=>a.indexOf(s)===o);return{type:i.length>1?i:i[0],enum:n.reduce((s,o)=>s.includes(o._def.value)?s:[...s,o._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(s=>!r.includes(s))],[])};return LS(e,t)}const LS=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,i)=>Pe(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function Iz(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:bd[e.innerType._def.typeName],nullable:!0}:{type:[bd[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Pe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Rz(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",FA(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Oe(n,"minimum",r.value,r.message,t):Oe(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Oe(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Oe(n,"maximum",r.value,r.message,t):Oe(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Oe(n,"maximum",r.value,r.message,t));break;case"multipleOf":Oe(n,"multipleOf",r.value,r.message,t);break}return n}function Nz(e,t){const n=t.target==="openAi",r={type:"object",properties:{}},i=[],s=e.shape();for(const a in s){let l=s[a];if(l===void 0||l._def===void 0)continue;let c=Lz(l);c&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const u=Pe(l._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});u!==void 0&&(r.properties[a]=u,c||i.push(a))}i.length&&(r.required=i);const o=jz(e,t);return o!==void 0&&(r.additionalProperties=o),r}function jz(e,t){if(e.catchall._def.typeName!=="ZodNever")return Pe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Lz(e){try{return e.isOptional()}catch{return!0}}const Dz=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Pe(e.innerType._def,t);const n=Pe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:hn(t)},n]}:hn(t)},$z=(e,t)=>{if(t.pipeStrategy==="input")return Pe(e.in._def,t);if(t.pipeStrategy==="output")return Pe(e.out._def,t);const n=Pe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Pe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function Fz(e,t){return Pe(e.type._def,t)}function Vz(e,t){const r={type:"array",uniqueItems:!0,items:Pe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Oe(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Oe(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function zz(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Pe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Pe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Pe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function Bz(e){return{not:hn(e)}}function Uz(e){return hn(e)}const qz=(e,t)=>Pe(e.innerType._def,t),Wz=(e,t,n)=>{switch(t){case V.ZodString:return UA(e,n);case V.ZodNumber:return Rz(e,n);case V.ZodObject:return Nz(e,n);case V.ZodBigInt:return mz(e,n);case V.ZodBoolean:return gz();case V.ZodDate:return BA(e,n);case V.ZodUndefined:return Bz(n);case V.ZodNull:return Mz(n);case V.ZodArray:return hz(e,n);case V.ZodUnion:case V.ZodDiscriminatedUnion:return Oz(e,n);case V.ZodIntersection:return kz(e,n);case V.ZodTuple:return zz(e,n);case V.ZodRecord:return qA(e,n);case V.ZodLiteral:return xz(e,n);case V.ZodEnum:return _z(e);case V.ZodNativeEnum:return Az(e);case V.ZodNullable:return Iz(e,n);case V.ZodOptional:return Dz(e,n);case V.ZodMap:return Cz(e,n);case V.ZodSet:return Vz(e,n);case V.ZodLazy:return()=>e.getter()._def;case V.ZodPromise:return Fz(e,n);case V.ZodNaN:case V.ZodNever:return Pz(n);case V.ZodEffects:return bz(e,n);case V.ZodAny:return hn(n);case V.ZodUnknown:return Uz(n);case V.ZodDefault:return wz(e,n);case V.ZodBranded:return zA(e,n);case V.ZodReadonly:return qz(e,n);case V.ZodCatch:return vz(e,n);case V.ZodPipeline:return $z(e,n);case V.ZodFunction:case V.ZodVoid:case V.ZodSymbol:return;default:return(r=>{})()}};function Pe(e,t,n=!1){var a;const r=t.seen.get(e);if(t.override){const l=(a=t.override)==null?void 0:a.call(t,e,t,r,n);if(l!==uz)return l}if(r&&!n){const l=Hz(r,t);if(l!==void 0)return l}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const s=Wz(e,e.typeName,t),o=typeof s=="function"?Pe(s(),t):s;if(o&&Kz(e,t,o),t.postProcess){const l=t.postProcess(o,e,t);return i.jsonSchema=o,l}return i.jsonSchema=o,o}const Hz=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:VA(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),hn(t)):t.$refStrategy==="seen"?hn(t):void 0}},Kz=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),Jz=(e,t)=>{const n=pz(t);let r;const i=t==null?void 0:t.name,s=Pe(e._def,n,!1)??hn(n);n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const o=i===void 0?r?{...s,[n.definitionPath]:r}:s:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:s}};return n.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Sl={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},kl={code:"1",name:"function_call",parse:e=>{if(e==null||typeof e!="object"||!("function_call"in e)||typeof e.function_call!="object"||e.function_call==null||!("name"in e.function_call)||!("arguments"in e.function_call)||typeof e.function_call.name!="string"||typeof e.function_call.arguments!="string")throw new Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},xl={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Tl={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},El={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Cl={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Al={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},Pl={code:"7",name:"tool_calls",parse:e=>{if(e==null||typeof e!="object"||!("tool_calls"in e)||typeof e.tool_calls!="object"||e.tool_calls==null||!Array.isArray(e.tool_calls)||e.tool_calls.some(t=>t==null||typeof t!="object"||!("id"in t)||typeof t.id!="string"||!("type"in t)||typeof t.type!="string"||!("function"in t)||t.function==null||typeof t.function!="object"||!("arguments"in t.function)||typeof t.function.name!="string"||typeof t.function.arguments!="string"))throw new Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},Ml={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},Ol={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Il={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Rl={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},Nl={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},jl={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},Ll={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},WA=[Sl,kl,xl,Tl,El,Cl,Al,Pl,Ml,Ol,Il,Rl,Nl,jl,Ll];Sl.code+"",kl.code+"",xl.code+"",Tl.code+"",El.code+"",Cl.code+"",Al.code+"",Pl.code+"",Ml.code+"",Ol.code+"",Il.code+"",Rl.code+"",Nl.code+"",jl.code+"",Ll.code+"";Sl.name+"",Sl.code,kl.name+"",kl.code,xl.name+"",xl.code,Tl.name+"",Tl.code,El.name+"",El.code,Cl.name+"",Cl.code,Al.name+"",Al.code,Pl.name+"",Pl.code,Ml.name+"",Ml.code,Ol.name+"",Ol.code,Il.name+"",Il.code,Rl.name+"",Rl.code,Nl.name+"",Nl.code,jl.name+"",jl.code,Ll.name+"",Ll.code;WA.map(e=>e.code);function Gz(e,t){const n=WA.find(r=>r.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}var Xm=Symbol.for("vercel.ai.schema");function Zz(e,{validate:t}={}){return{[Xm]:!0,_type:void 0,[cz]:!0,jsonSchema:e,validate:t}}function Yz(e){return typeof e=="object"&&e!==null&&Xm in e&&e[Xm]===!0&&"jsonSchema"in e&&"validate"in e}function HA(e){return Yz(e)?e:Qz(e)}function Qz(e){return Zz(Jz(e),{validate:t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var KA="vercel.ai.error",Xz=Symbol.for(KA),JA,eB=class GA extends Error{constructor({name:t,message:n,cause:r}){super(n),this[JA]=!0,this.name=t,this.cause=r}static isInstance(t){return GA.hasMarker(t,KA)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}toJSON(){return{name:this.name,message:this.message}}};JA=Xz;var Ve=eB,eg="AI_APICallError",ZA=`vercel.ai.error.${eg}`,tB=Symbol.for(ZA),YA,nB=class extends Ve{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:s,cause:o,isRetryable:a=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:eg,message:e,cause:o}),this[YA]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=s,this.isRetryable=a,this.data=l}static isInstance(e){return Ve.hasMarker(e,ZA)}static isAPICallError(e){return e instanceof Error&&e.name===eg&&typeof e.url=="string"&&typeof e.requestBodyValues=="object"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.responseHeaders==null||typeof e.responseHeaders=="object")&&(e.responseBody==null||typeof e.responseBody=="string")&&(e.cause==null||typeof e.cause=="object")&&typeof e.isRetryable=="boolean"&&(e.data==null||typeof e.data=="object")}toJSON(){return{name:this.name,message:this.message,url:this.url,requestBodyValues:this.requestBodyValues,statusCode:this.statusCode,responseHeaders:this.responseHeaders,responseBody:this.responseBody,cause:this.cause,isRetryable:this.isRetryable,data:this.data}}};YA=tB;function My(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var QA="AI_InvalidArgumentError",XA=`vercel.ai.error.${QA}`,rB=Symbol.for(XA),eP,iB=class extends Ve{constructor({message:t,cause:n,argument:r}){super({name:QA,message:t,cause:n}),this[eP]=!0,this.argument=r}static isInstance(t){return Ve.hasMarker(t,XA)}};eP=rB;var tg="AI_InvalidPromptError",tP=`vercel.ai.error.${tg}`,sB=Symbol.for(tP),nP,Ps=class extends Ve{constructor({prompt:e,message:t,cause:n}){super({name:tg,message:`Invalid prompt: ${t}`,cause:n}),this[nP]=!0,this.prompt=e}static isInstance(e){return Ve.hasMarker(e,tP)}static isInvalidPromptError(e){return e instanceof Error&&e.name===tg&&prompt!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,prompt:this.prompt}}};nP=sB;var ng="AI_JSONParseError",rP=`vercel.ai.error.${ng}`,oB=Symbol.for(rP),iP,DS=class extends Ve{constructor({text:e,cause:t}){super({name:ng,message:`JSON parsing failed: Text: ${e}.
Error message: ${My(t)}`,cause:t}),this[iP]=!0,this.text=e}static isInstance(e){return Ve.hasMarker(e,rP)}static isJSONParseError(e){return e instanceof Error&&e.name===ng&&"text"in e&&typeof e.text=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,valueText:this.text}}};iP=oB;var rg="AI_TypeValidationError",sP=`vercel.ai.error.${rg}`,aB=Symbol.for(sP),oP,lB=class ig extends Ve{constructor({value:t,cause:n}){super({name:rg,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${My(n)}`,cause:n}),this[oP]=!0,this.value=t}static isInstance(t){return Ve.hasMarker(t,sP)}static wrap({value:t,cause:n}){return ig.isInstance(n)&&n.value===t?n:new ig({value:t,cause:n})}static isTypeValidationError(t){return t instanceof Error&&t.name===rg}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,value:this.value}}};oP=aB;var $S=lB,ic=({prefix:e,size:t=7,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=$A(n,t);if(e==null)return i;if(n.includes(r))throw new iB({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return s=>`${e}${r}${i(s)}`};ic();function cB(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function uB(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var sg=Symbol.for("vercel.ai.validator");function dB(e){return{[sg]:!0,validate:e}}function fB(e){return typeof e=="object"&&e!==null&&sg in e&&e[sg]===!0&&"validate"in e}function pB(e){return fB(e)?e:hB(e)}function hB(e){return dB(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function Oy({value:e,schema:t}){const n=pB(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:$S.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:$S.wrap({value:e,cause:r})}}}function mB({text:e,schema:t}){try{const n=of.parse(e);return t==null?{success:!0,value:n}:Oy({value:n,schema:t})}catch(n){return{success:!1,error:DS.isJSONParseError(n)?n:new DS({text:e,cause:n})}}}var{btoa:gB,atob:vB}=globalThis;function yB(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=vB(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function FS(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return gB(t)}var wB=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Xi="1.9.0",VS=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function bB(e){var t=new Set([e]),n=new Set,r=e.match(VS);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(l){return l===e};function s(a){return n.add(a),!1}function o(a){return t.add(a),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var c=l.match(VS);if(!c)return s(l);var u={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return u.prerelease!=null||i.major!==u.major?s(l):i.major===0?i.minor===u.minor&&i.patch<=u.patch?o(l):s(l):i.minor<=u.minor?o(l):s(l)}}var _B=bB(Xi),SB=Xi.split(".")[0],Dl=Symbol.for("opentelemetry.js.api."+SB),$l=wB;function Iy(e,t,n,r){var i;r===void 0&&(r=!1);var s=$l[Dl]=(i=$l[Dl])!==null&&i!==void 0?i:{version:Xi};if(!r&&s[e]){var o=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(o.stack||o.message),!1}if(s.version!==Xi){var o=new Error("@opentelemetry/api: Registration of version v"+s.version+" for "+e+" does not match previously registered API v"+Xi);return n.error(o.stack||o.message),!1}return s[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Xi+"."),!0}function Fl(e){var t,n,r=(t=$l[Dl])===null||t===void 0?void 0:t.version;if(!(!r||!_B(r)))return(n=$l[Dl])===null||n===void 0?void 0:n[e]}function Ry(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Xi+".");var n=$l[Dl];n&&delete n[e]}var kB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},xB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},TB=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ca("verbose",this._namespace,t)},e}();function ca(e,t,n){var r=Fl("diag");if(r)return n.unshift(t),r[e].apply(r,xB([],kB(n),!1))}var rn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(rn||(rn={}));function EB(e,t){e<rn.NONE?e=rn.NONE:e>rn.ALL&&(e=rn.ALL),t=t||{};function n(r,i){var s=t[r];return typeof s=="function"&&e>=i?s.bind(t):function(){}}return{error:n("error",rn.ERROR),warn:n("warn",rn.WARN),info:n("info",rn.INFO),debug:n("debug",rn.DEBUG),verbose:n("verbose",rn.VERBOSE)}}var CB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},AB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},PB="diag",_d=function(){function e(){function t(i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=Fl("diag");if(a)return a[i].apply(a,AB([],CB(s),!1))}}var n=this,r=function(i,s){var o,a,l;if(s===void 0&&(s={logLevel:rn.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((o=c.stack)!==null&&o!==void 0?o:c.message),!1}typeof s=="number"&&(s={logLevel:s});var u=Fl("diag"),d=EB((a=s.logLevel)!==null&&a!==void 0?a:rn.INFO,i);if(u&&!s.suppressOverrideMessage){var p=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";u.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return Iy("diag",d,n,!0)};n.setLogger=r,n.disable=function(){Ry(PB,n)},n.createComponentLogger=function(i){return new TB(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function MB(e){return Symbol.for(e)}var OB=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var s=new e(n._currentContext);return s._currentContext.set(r,i),s},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),IB=new OB,RB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},NB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},jB=function(){function e(){}return e.prototype.active=function(){return IB},e.prototype.with=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];return n.call.apply(n,NB([r],RB(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),LB=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},DB=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},zp="context",$B=new jB,aP=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Iy(zp,t,_d.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return(i=this._getContextManager()).with.apply(i,DB([t,n,r],LB(s),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return Fl(zp)||$B},e.prototype.disable=function(){this._getContextManager().disable(),Ry(zp,_d.instance())},e}(),og;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(og||(og={}));var lP="0000000000000000",cP="00000000000000000000000000000000",FB={traceId:cP,spanId:lP,traceFlags:og.NONE},Va=function(){function e(t){t===void 0&&(t=FB),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),Ny=MB("OpenTelemetry Context Key SPAN");function jy(e){return e.getValue(Ny)||void 0}function VB(){return jy(aP.getInstance().active())}function Ly(e,t){return e.setValue(Ny,t)}function zB(e){return e.deleteValue(Ny)}function BB(e,t){return Ly(e,new Va(t))}function uP(e){var t;return(t=jy(e))===null||t===void 0?void 0:t.spanContext()}var UB=/^([0-9a-f]{32})$/i,qB=/^[0-9a-f]{16}$/i;function WB(e){return UB.test(e)&&e!==cP}function HB(e){return qB.test(e)&&e!==lP}function dP(e){return WB(e.traceId)&&HB(e.spanId)}function KB(e){return new Va(e)}var Bp=aP.getInstance(),fP=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Bp.active());var i=!!(n!=null&&n.root);if(i)return new Va;var s=r&&uP(r);return JB(s)&&dP(s)?new Va(s):new Va},e.prototype.startActiveSpan=function(t,n,r,i){var s,o,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(s=n,a=r):(s=n,o=r,a=i);var l=o??Bp.active(),c=this.startSpan(t,s,l),u=Ly(l,c);return Bp.with(u,a,void 0,c)}},e}();function JB(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var GB=new fP,ZB=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):GB},e}(),YB=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new fP},e}(),QB=new YB,zS=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new ZB(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:QB},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}(),Sd;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Sd||(Sd={}));var Up="trace",XB=function(){function e(){this._proxyTracerProvider=new zS,this.wrapSpanContext=KB,this.isSpanContextValid=dP,this.deleteSpan=zB,this.getSpan=jy,this.getActiveSpan=VB,this.getSpanContext=uP,this.setSpan=Ly,this.setSpanContext=BB}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Iy(Up,this._proxyTracerProvider,_d.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return Fl(Up)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Ry(Up,_d.instance()),this._proxyTracerProvider=new zS},e}(),eU=XB.getInstance(),tU=Object.defineProperty,pP=(e,t)=>{for(var n in t)tU(e,n,{get:t[n],enumerable:!0})};async function nU(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}var ag="AI_RetryError",hP=`vercel.ai.error.${ag}`,rU=Symbol.for(hP),mP,BS=class extends Ve{constructor({message:e,reason:t,errors:n}){super({name:ag,message:e}),this[mP]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Ve.hasMarker(e,hP)}static isRetryError(e){return e instanceof Error&&e.name===ag&&typeof e.reason=="string"&&Array.isArray(e.errors)}toJSON(){return{name:this.name,message:this.message,reason:this.reason,lastError:this.lastError,errors:this.errors}}};mP=rU;var iU=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>gP(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function gP(e,{maxRetries:t,delayInMs:n,backoffFactor:r},i=[]){try{return await e()}catch(s){if(uB(s)||t===0)throw s;const o=cB(s),a=[...i,s],l=a.length;if(l>t)throw new BS({message:`Failed after ${l} attempts. Last error: ${o}`,reason:"maxRetriesExceeded",errors:a});if(s instanceof Error&&nB.isAPICallError(s)&&s.isRetryable===!0&&l<=t)return await nU(n),gP(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},a);throw l===1?s:new BS({message:`Failed after ${l} attempts with non-retryable error: '${o}'`,reason:"errorNotRetryable",errors:a})}}function lg({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function sU({model:e,settings:t,telemetry:n,headers:r}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((s,[o,a])=>(s[`ai.settings.${o}`]=a,s),{}),...Object.entries((i=n==null?void 0:n.metadata)!=null?i:{}).reduce((s,[o,a])=>(s[`ai.telemetry.metadata.${o}`]=a,s),{}),...Object.entries(r??{}).reduce((s,[o,a])=>(a!==void 0&&(s[`ai.request.headers.${o}`]=a),s),{})}}var oU={startSpan(){return qc},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(qc);if(typeof n=="function")return n(qc);if(typeof r=="function")return r(qc)}},qc={spanContext(){return aU},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},aU={traceId:"",spanId:"",traceFlags:0};function lU({isEnabled:e=!1,tracer:t}={}){return e?t||eU.getTracer("ai"):oU}function cg({name:e,tracer:t,attributes:n,fn:r,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:n},async s=>{try{const o=await r(s);return i&&s.end(),o}catch(o){try{o instanceof Error?(s.recordException({name:o.name,message:o.message,stack:o.stack}),s.setStatus({code:Sd.ERROR,message:o.message})):s.setStatus({code:Sd.ERROR})}finally{s.end()}throw o}})}function Ys({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((n,[r,i])=>{if(i===void 0)return n;if(typeof i=="object"&&"input"in i&&typeof i.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return n;const s=i.input();return s===void 0?n:{...n,[r]:s}}if(typeof i=="object"&&"output"in i&&typeof i.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return n;const s=i.output();return s===void 0?n:{...n,[r]:s}}return{...n,[r]:i}},{})}var ug="AI_DownloadError",vP=`vercel.ai.error.${ug}`,cU=Symbol.for(vP),yP,qp=class extends Ve{constructor({url:e,statusCode:t,statusText:n,cause:r,message:i=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:ug,message:i,cause:r}),this[yP]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Ve.hasMarker(e,vP)}static isDownloadError(e){return e instanceof Error&&e.name===ug&&typeof e.url=="string"&&(e.statusCode==null||typeof e.statusCode=="number")&&(e.statusText==null||typeof e.statusText=="string")}toJSON(){return{name:this.name,message:this.message,url:this.url,statusCode:this.statusCode,statusText:this.statusText,cause:this.cause}}};yP=cU;async function uU({url:e,fetchImplementation:t=fetch}){var n;const r=e.toString();try{const i=await t(r);if(!i.ok)throw new qp({url:r,statusCode:i.status,statusText:i.statusText});return{data:new Uint8Array(await i.arrayBuffer()),mimeType:(n=i.headers.get("content-type"))!=null?n:void 0}}catch(i){throw qp.isInstance(i)?i:new qp({url:r,cause:i})}}var dU=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function fU(e){for(const{bytes:t,mimeType:n}of dU)if(e.length>=t.length&&t.every((r,i)=>e[i]===r))return n}var dg="AI_InvalidDataContentError",wP=`vercel.ai.error.${dg}`,pU=Symbol.for(wP),bP,US=class extends Ve{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:dg,message:n,cause:t}),this[bP]=!0,this.content=e}static isInstance(e){return Ve.hasMarker(e,wP)}static isInvalidDataContentError(e){return e instanceof Error&&e.name===dg&&e.content!=null}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause,content:this.content}}};bP=pU;var _P=Bt([Q(),Lo(Uint8Array),Lo(ArrayBuffer),cf(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function hU(e){return typeof e=="string"?e:e instanceof ArrayBuffer?FS(new Uint8Array(e)):FS(e)}function kd(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return yB(e)}catch(t){throw new US({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new US({content:e})}function mU(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var fg="AI_InvalidMessageRoleError",SP=`vercel.ai.error.${fg}`,gU=Symbol.for(SP),kP,vU=class extends Ve{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:fg,message:t}),this[kP]=!0,this.role=e}static isInstance(e){return Ve.hasMarker(e,SP)}static isInvalidMessageRoleError(e){return e instanceof Error&&e.name===fg&&typeof e.role=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,role:this.role}}};kP=gU;function yU(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function wU({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=uU}){const i=await _U(e.messages,r,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(s=>bU(s,i))]}function bU(e,t){const n=e.role;switch(n){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(r=>SU(r,t)).filter(r=>r.type!=="text"||r.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(r=>r.type!=="text"||r.text!=="").map(r=>{const{experimental_providerMetadata:i,...s}=r;return{...s,providerMetadata:i}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(r=>({type:"tool-result",toolCallId:r.toolCallId,toolName:r.toolName,result:r.result,content:r.experimental_content,isError:r.isError,providerMetadata:r.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{const r=n;throw new vU({role:r})}}}async function _U(e,t,n,r){const i=e.filter(o=>o.role==="user").map(o=>o.content).filter(o=>Array.isArray(o)).flat().filter(o=>o.type==="image"||o.type==="file").filter(o=>!(o.type==="image"&&n===!0)).map(o=>o.type==="image"?o.image:o.data).map(o=>typeof o=="string"&&(o.startsWith("http:")||o.startsWith("https:"))?new URL(o):o).filter(o=>o instanceof URL).filter(o=>!r(o)),s=await Promise.all(i.map(async o=>({url:o,data:await t({url:o})})));return Object.fromEntries(s.map(({url:o,data:a})=>[o.toString(),a]))}function SU(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n=e.mimeType,r,i,s;const o=e.type;switch(o){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error(`Unsupported part type: ${o}`)}try{i=typeof r=="string"?new URL(r):r}catch{i=r}if(i instanceof URL)if(i.protocol==="data:"){const{mimeType:a,base64Content:l}=yU(i.toString());if(a==null||l==null)throw new Error(`Invalid data URL format in part ${o}`);n=a,s=kd(l)}else{const a=t[i.toString()];a?(s=a.data,n??(n=a.mimeType)):s=i}else s=kd(i);switch(o){case"image":return n==null&&s instanceof Uint8Array&&(n=fU(s)),{type:"image",image:s,mimeType:n,providerMetadata:e.experimental_providerMetadata};case"file":if(n==null)throw new Error("Mime type is missing for file part");return{type:"file",data:s instanceof Uint8Array?hU(s):s,mimeType:n,providerMetadata:e.experimental_providerMetadata}}}var pg="AI_InvalidArgumentError",xP=`vercel.ai.error.${pg}`,kU=Symbol.for(xP),TP,$n=class extends Ve{constructor({parameter:e,value:t,message:n}){super({name:pg,message:`Invalid argument for parameter ${e}: ${n}`}),this[TP]=!0,this.parameter=e,this.value=t}static isInstance(e){return Ve.hasMarker(e,xP)}static isInvalidArgumentError(e){return e instanceof Error&&e.name===pg&&typeof e.parameter=="string"&&typeof e.value=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,parameter:this.parameter,value:this.value}}};TP=kU;function xU({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:s,stopSequences:o,seed:a,maxRetries:l}){if(e!=null){if(!Number.isInteger(e))throw new $n({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new $n({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new $n({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new $n({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new $n({parameter:"topK",value:r,message:"topK must be a number"});if(i!=null&&typeof i!="number")throw new $n({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(s!=null&&typeof s!="number")throw new $n({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(a!=null&&!Number.isInteger(a))throw new $n({parameter:"seed",value:a,message:"seed must be an integer"});if(l!=null){if(!Number.isInteger(l))throw new $n({parameter:"maxRetries",value:l,message:"maxRetries must be an integer"});if(l<0)throw new $n({parameter:"maxRetries",value:l,message:"maxRetries must be >= 0"})}return{maxTokens:e,temperature:t??0,topP:n,topK:r,presencePenalty:i,frequencyPenalty:s,stopSequences:o!=null&&o.length>0?o:void 0,seed:a,maxRetries:l??2}}var hg=Cy(()=>Bt([Ty(),Q(),Ee(),rc(),bs(Q(),hg),Fe(hg)])),Mi=bs(Q(),bs(Q(),hg)),TU=Fe(Bt([oe({type:Lt("text"),text:Q()}),oe({type:Lt("image"),data:Q(),mimeType:Q().optional()})])),EP=oe({type:Lt("text"),text:Q(),experimental_providerMetadata:Mi.optional()}),EU=oe({type:Lt("image"),image:Bt([_P,Lo(URL)]),mimeType:Q().optional(),experimental_providerMetadata:Mi.optional()}),CU=oe({type:Lt("file"),data:Bt([_P,Lo(URL)]),mimeType:Q(),experimental_providerMetadata:Mi.optional()}),AU=oe({type:Lt("tool-call"),toolCallId:Q(),toolName:Q(),args:uf()}),PU=oe({type:Lt("tool-result"),toolCallId:Q(),toolName:Q(),result:uf(),content:TU.optional(),isError:rc().optional(),experimental_providerMetadata:Mi.optional()}),MU=oe({role:Lt("system"),content:Q(),experimental_providerMetadata:Mi.optional()}),OU=oe({role:Lt("user"),content:Bt([Q(),Fe(Bt([EP,EU,CU]))]),experimental_providerMetadata:Mi.optional()}),IU=oe({role:Lt("assistant"),content:Bt([Q(),Fe(Bt([EP,AU]))]),experimental_providerMetadata:Mi.optional()}),RU=oe({role:Lt("tool"),content:Fe(PU),experimental_providerMetadata:Mi.optional()}),NU=Bt([MU,OU,IU,RU]);function jU(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";const t=e.map(LU);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function LU(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function DU(e){var t,n,r;const i=[];for(const s of e){let o;try{o=new URL(s.url)}catch{throw new Error(`Invalid URL: ${s.url}`)}switch(o.protocol){case"http:":case"https:":{if((t=s.contentType)!=null&&t.startsWith("image/"))i.push({type:"image",image:o});else{if(!s.contentType)throw new Error("If the attachment is not an image, it must specify a content type");i.push({type:"file",data:o,mimeType:s.contentType})}break}case"data:":{let a,l,c;try{[a,l]=s.url.split(","),c=a.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${s.url}`)}if(c==null||l==null)throw new Error(`Invalid data URL format: ${s.url}`);if((n=s.contentType)!=null&&n.startsWith("image/"))i.push({type:"image",image:kd(l)});else if((r=s.contentType)!=null&&r.startsWith("text/"))i.push({type:"text",text:mU(kd(l))});else{if(!s.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");i.push({type:"file",data:l,mimeType:s.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${o.protocol}`)}}return i}var CP="AI_MessageConversionError",AP=`vercel.ai.error.${CP}`,$U=Symbol.for(AP),PP,qS=class extends Ve{constructor({originalMessage:e,message:t}){super({name:CP,message:t}),this[PP]=!0,this.originalMessage=e}static isInstance(e){return Ve.hasMarker(e,AP)}};PP=$U;function FU(e,t){var n;const r=(n=t==null?void 0:t.tools)!=null?n:{},i=[];for(const s of e){const{role:o,content:a,toolInvocations:l,experimental_attachments:c}=s;switch(o){case"system":{i.push({role:"system",content:a});break}case"user":{i.push({role:"user",content:c?[{type:"text",text:a},...DU(c)]:a});break}case"assistant":{if(l==null){i.push({role:"assistant",content:a});break}i.push({role:"assistant",content:[{type:"text",text:a},...l.map(({toolCallId:u,toolName:d,args:p})=>({type:"tool-call",toolCallId:u,toolName:d,args:p}))]}),i.push({role:"tool",content:l.map(u=>{if(!("result"in u))throw new qS({originalMessage:s,message:"ToolInvocation must have a result: "+JSON.stringify(u)});const{toolCallId:d,toolName:p,result:h}=u,m=r[p];return(m==null?void 0:m.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:d,toolName:p,result:m.experimental_toToolResultContent(h),experimental_content:m.experimental_toToolResultContent(h)}:{type:"tool-result",toolCallId:d,toolName:p,result:h}})});break}case"function":case"data":case"tool":break;default:{const u=o;throw new qS({originalMessage:s,message:`Unsupported role: ${u}`})}}}return i}function VU({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Ps({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Ps({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Ps({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Ps({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const n=jU(e.messages);if(n==="other")throw new Ps({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});const r=n==="ui-messages"?FU(e.messages,{tools:t}):e.messages,i=Oy({value:r,schema:Fe(NU)});if(!i.success)throw new Ps({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:i.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function zU(e){return{promptTokens:e.promptTokens,completionTokens:e.completionTokens,totalTokens:e.promptTokens+e.completionTokens}}function MP(e,{contentType:t,dataStreamVersion:n}){var r;const i=new Headers((r=e==null?void 0:e.headers)!=null?r:{});return i.has("Content-Type")||i.set("Content-Type",t),n!==void 0&&i.set("X-Vercel-AI-Data-Stream",n),i}ic({prefix:"aiobj",size:24});ic({prefix:"aiobj",size:24});var mg="AI_InvalidToolArgumentsError",OP=`vercel.ai.error.${mg}`,BU=Symbol.for(OP),IP,UU=class extends Ve{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${My(n)}`}){super({name:mg,message:r,cause:n}),this[IP]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Ve.hasMarker(e,OP)}static isInvalidToolArgumentsError(e){return e instanceof Error&&e.name===mg&&typeof e.toolName=="string"&&typeof e.toolArgs=="string"}toJSON(){return{name:this.name,message:this.message,cause:this.cause,stack:this.stack,toolName:this.toolName,toolArgs:this.toolArgs}}};IP=BU;var gg="AI_NoSuchToolError",RP=`vercel.ai.error.${gg}`,qU=Symbol.for(RP),NP,WS=class extends Ve{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:gg,message:n}),this[NP]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Ve.hasMarker(e,RP)}static isNoSuchToolError(e){return e instanceof Error&&e.name===gg&&"toolName"in e&&e.toolName!=null&&typeof e.name=="string"}toJSON(){return{name:this.name,message:this.message,stack:this.stack,toolName:this.toolName,availableTools:this.availableTools}}};NP=qU;function WU(e){return e!=null&&Object.keys(e).length>0}function HU({tools:e,toolChoice:t,activeTools:n}){return WU(e)?{tools:(n!=null?Object.entries(e).filter(([i])=>n.includes(i)):Object.entries(e)).map(([i,s])=>{const o=s.type;switch(o){case void 0:case"function":return{type:"function",name:i,description:s.description,parameters:HA(s.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:i,id:s.id,args:s.args};default:{const a=o;throw new Error(`Unsupported tool type: ${a}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var KU=/^([\s\S]*?)(\s+)(\S*)$/;function JU(e){const t=e.match(KU);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}function GU(e){const t=JU(e);return t?t.prefix+t.whitespace:e}function ZU({toolCall:e,tools:t}){const n=e.toolName;if(t==null)throw new WS({toolName:e.toolName});const r=t[n];if(r==null)throw new WS({toolName:e.toolName,availableTools:Object.keys(t)});const i=HA(r.parameters),s=e.args.trim()===""?Oy({value:{},schema:i}):mB({text:e.args,schema:i});if(s.success===!1)throw new UU({toolName:n,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:s.value}}function YU({text:e="",tools:t,toolCalls:n,toolResults:r}){const i=[];return i.push({role:"assistant",content:[{type:"text",text:e},...n]}),r.length>0&&i.push({role:"tool",content:r.map(s=>{const o=t[s.toolName];return(o==null?void 0:o.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:s.toolCallId,toolName:s.toolName,result:o.experimental_toToolResultContent(s.result),experimental_content:o.experimental_toToolResultContent(s.result)}:{type:"tool-result",toolCallId:s.toolCallId,toolName:s.toolName,result:s.result}})}),i}var QU=ic({prefix:"aitxt",size:24});async function XU({model:e,tools:t,toolChoice:n,system:r,prompt:i,messages:s,maxRetries:o,abortSignal:a,headers:l,maxAutomaticRoundtrips:c=0,maxToolRoundtrips:u=c,maxSteps:d=u!=null?u+1:1,experimental_continuationSteps:p,experimental_continueSteps:h=p??!1,experimental_telemetry:m,experimental_providerMetadata:v,experimental_activeTools:S,_internal:{generateId:g=QU,currentDate:b=()=>new Date}={},onStepFinish:_,...x}){if(d<1)throw new $n({parameter:"maxSteps",value:d,message:"maxSteps must be at least 1"});const k=sU({model:e,telemetry:m,headers:l,settings:{...x,maxRetries:o}}),T=VU({prompt:{system:r,prompt:i,messages:s},tools:t}),A=lU(m);return cg({name:"ai.generateText",attributes:Ys({telemetry:m,attributes:{...lg({operationId:"ai.generateText",telemetry:m}),...k,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:i,messages:s})},"ai.settings.maxSteps":d}}),tracer:A,fn:async M=>{var I,N,H,z,B,ne;const ve=iU({maxRetries:o}),me={type:"regular",...HU({tools:t,toolChoice:n,activeTools:S})},ie=xU(x);let j,q=[],U=[],Z=0;const be=[];let _e="";const f=[],w={completionTokens:0,promptTokens:0,totalTokens:0};let y="initial";do{Z===1&&(T.type="messages");const O=Z===0?T.type:"messages",E=await wU({prompt:{type:O,system:T.system,messages:[...T.messages,...be]},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl});j=await ve(()=>cg({name:"ai.generateText.doGenerate",attributes:Ys({telemetry:m,attributes:{...lg({operationId:"ai.generateText.doGenerate",telemetry:m}),...k,"ai.prompt.format":{input:()=>O},"ai.prompt.messages":{input:()=>JSON.stringify(E)},"ai.prompt.tools":{input:()=>{var ot;return(ot=me.tools)==null?void 0:ot.map(tn=>JSON.stringify(tn))}},"ai.prompt.toolChoice":{input:()=>me.toolChoice!=null?JSON.stringify(me.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":x.frequencyPenalty,"gen_ai.request.max_tokens":x.maxTokens,"gen_ai.request.presence_penalty":x.presencePenalty,"gen_ai.request.stop_sequences":x.stopSequences,"gen_ai.request.temperature":x.temperature,"gen_ai.request.top_k":x.topK,"gen_ai.request.top_p":x.topP}}),tracer:A,fn:async ot=>{var tn,vn,Oi,Wr,dt,yn;const Ge=await e.doGenerate({mode:me,...ie,inputFormat:O,prompt:E,providerMetadata:v,abortSignal:a,headers:l}),wn={id:(vn=(tn=Ge.response)==null?void 0:tn.id)!=null?vn:g(),timestamp:(Wr=(Oi=Ge.response)==null?void 0:Oi.timestamp)!=null?Wr:b(),modelId:(yn=(dt=Ge.response)==null?void 0:dt.modelId)!=null?yn:e.modelId};return ot.setAttributes(Ys({telemetry:m,attributes:{"ai.response.finishReason":Ge.finishReason,"ai.response.text":{output:()=>Ge.text},"ai.response.toolCalls":{output:()=>JSON.stringify(Ge.toolCalls)},"ai.response.id":wn.id,"ai.response.model":wn.modelId,"ai.response.timestamp":wn.timestamp.toISOString(),"ai.usage.promptTokens":Ge.usage.promptTokens,"ai.usage.completionTokens":Ge.usage.completionTokens,"ai.finishReason":Ge.finishReason,"ai.result.text":{output:()=>Ge.text},"ai.result.toolCalls":{output:()=>JSON.stringify(Ge.toolCalls)},"gen_ai.response.finish_reasons":[Ge.finishReason],"gen_ai.response.id":wn.id,"gen_ai.response.model":wn.modelId,"gen_ai.usage.input_tokens":Ge.usage.promptTokens,"gen_ai.usage.output_tokens":Ge.usage.completionTokens}})),{...Ge,response:wn}}})),q=((I=j.toolCalls)!=null?I:[]).map(ot=>ZU({toolCall:ot,tools:t})),U=t==null?[]:await e5({toolCalls:q,tools:t,tracer:A,telemetry:m,abortSignal:a});const L=zU(j.usage);w.completionTokens+=L.completionTokens,w.promptTokens+=L.promptTokens,w.totalTokens+=L.totalTokens;let K="done";++Z<d&&(h&&j.finishReason==="length"&&q.length===0?K="continue":q.length>0&&U.length===q.length&&(K="tool-result"));const X=(N=j.text)!=null?N:"",ye=y==="continue"&&_e.trimEnd()!==_e?X.trimStart():X,Je=K==="continue"?GU(ye):ye;if(_e=K==="continue"||y==="continue"?_e+Je:Je,y==="continue"){const ot=be[be.length-1];typeof ot.content=="string"?ot.content+=Je:ot.content.push({text:Je,type:"text"})}else be.push(...YU({text:_e,tools:t??{},toolCalls:q,toolResults:U}));const ze={stepType:y,text:Je,toolCalls:q,toolResults:U,finishReason:j.finishReason,usage:L,warnings:j.warnings,logprobs:j.logprobs,request:(H=j.request)!=null?H:{},response:{...j.response,headers:(z=j.rawResponse)==null?void 0:z.headers,messages:JSON.parse(JSON.stringify(be))},experimental_providerMetadata:j.providerMetadata,isContinued:K==="continue"};f.push(ze),await(_==null?void 0:_(ze)),y=K}while(y!=="done");return M.setAttributes(Ys({telemetry:m,attributes:{"ai.response.finishReason":j.finishReason,"ai.response.text":{output:()=>j.text},"ai.response.toolCalls":{output:()=>JSON.stringify(j.toolCalls)},"ai.usage.promptTokens":j.usage.promptTokens,"ai.usage.completionTokens":j.usage.completionTokens,"ai.finishReason":j.finishReason,"ai.result.text":{output:()=>j.text},"ai.result.toolCalls":{output:()=>JSON.stringify(j.toolCalls)}}})),new t5({text:_e,toolCalls:q,toolResults:U,finishReason:j.finishReason,usage:w,warnings:j.warnings,request:(B=j.request)!=null?B:{},response:{...j.response,headers:(ne=j.rawResponse)==null?void 0:ne.headers,messages:be},logprobs:j.logprobs,responseMessages:be,steps:f,providerMetadata:j.providerMetadata})}})}async function e5({toolCalls:e,tools:t,tracer:n,telemetry:r,abortSignal:i}){return(await Promise.all(e.map(async o=>{const a=t[o.toolName];if((a==null?void 0:a.execute)==null)return;const l=await cg({name:"ai.toolCall",attributes:Ys({telemetry:r,attributes:{...lg({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":o.toolName,"ai.toolCall.id":o.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(o.args)}}}),tracer:n,fn:async c=>{const u=await a.execute(o.args,{abortSignal:i});try{c.setAttributes(Ys({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(u)}}}))}catch{}return u}});return{toolCallId:o.toolCallId,toolName:o.toolName,args:o.args,result:l}}))).filter(o=>o!=null)}var t5=class{constructor(e){this.text=e.text,this.toolCalls=e.toolCalls,this.toolResults=e.toolResults,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.request=e.request,this.response=e.response,this.responseMessages=e.responseMessages,this.roundtrips=e.steps,this.steps=e.steps,this.experimental_providerMetadata=e.providerMetadata,this.rawResponse={headers:e.response.headers},this.logprobs=e.logprobs}};function jP(e,t){const n=e.getReader(),r=t.getReader();let i,s,o=!1,a=!1;async function l(u){try{i==null&&(i=n.read());const d=await i;i=void 0,d.done?u.close():u.enqueue(d.value)}catch(d){u.error(d)}}async function c(u){try{s==null&&(s=r.read());const d=await s;s=void 0,d.done?u.close():u.enqueue(d.value)}catch(d){u.error(d)}}return new ReadableStream({async pull(u){try{if(o){await c(u);return}if(a){await l(u);return}i==null&&(i=n.read()),s==null&&(s=r.read());const{result:d,reader:p}=await Promise.race([i.then(h=>({result:h,reader:n})),s.then(h=>({result:h,reader:r}))]);d.done||u.enqueue(d.value),p===n?(i=void 0,d.done&&(await c(u),o=!0)):(s=void 0,d.done&&(a=!0,await l(u)))}catch(d){u.error(d)}},cancel(){n.cancel(),r.cancel()}})}ic({prefix:"aitxt",size:24});function LP(e){const t=new TextEncoder;let n="";const r=e||{};return new TransformStream({async start(){r.onStart&&await r.onStart()},async transform(i,s){const o=typeof i=="string"?i:i.content;s.enqueue(t.encode(o)),n+=o,r.onToken&&await r.onToken(o),r.onText&&typeof i=="string"&&await r.onText(i)},async flush(){const i=n5(r);r.onCompletion&&await r.onCompletion(n),r.onFinal&&!i&&await r.onFinal(n)}})}function n5(e){return"experimental_onFunctionCall"in e}function r5(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}function DP(){const e=new TextEncoder,t=new TextDecoder;return new TransformStream({transform:async(n,r)=>{const i=t.decode(n);r.enqueue(e.encode(Gz("text",i)))}})}new TextDecoder("utf-8");var i5={};pP(i5,{toAIStream:()=>s5,toDataStream:()=>Dy,toDataStreamResponse:()=>o5});function s5(e,t){return Dy(e,t)}function Dy(e,t){return e.pipeThrough(new TransformStream({transform:async(n,r)=>{var i;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&HS((i=n.data)==null?void 0:i.chunk,r);return}HS(n,r)}})).pipeThrough(LP(t)).pipeThrough(DP())}function o5(e,t){var n;const r=Dy(e,t==null?void 0:t.callbacks),i=t==null?void 0:t.data,s=t==null?void 0:t.init,o=i?jP(i.stream,r):r;return new Response(o,{status:(n=s==null?void 0:s.status)!=null?n:200,statusText:s==null?void 0:s.statusText,headers:MP(s,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function HS(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{const n=e.content;for(const r of n)r.type==="text"&&t.enqueue(r.text)}}var a5={};pP(a5,{toDataStream:()=>$P,toDataStreamResponse:()=>l5});function $P(e,t){return c5(e).pipeThrough(LP(t)).pipeThrough(DP())}function l5(e,t={}){var n;const{init:r,data:i,callbacks:s}=t,o=$P(e,s),a=i?jP(i.stream,o):o;return new Response(a,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:MP(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function c5(e){const t=e[Symbol.asyncIterator](),n=r5();return new ReadableStream({async pull(r){var i;const{value:s,done:o}=await t.next();if(o){r.close();return}const a=n((i=s.delta)!=null?i:"");a&&r.enqueue(a)}})}var FP={},df={};/*! Axios v1.10.0 Copyright (c) 2025 Matt Zabriskie and contributors */function VP(e,t){return function(){return e.apply(t,arguments)}}const{toString:u5}=Object.prototype,{getPrototypeOf:$y}=Object,{iterator:ff,toStringTag:zP}=Symbol,pf=(e=>t=>{const n=u5.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nr=e=>(e=e.toLowerCase(),t=>pf(t)===e),hf=e=>t=>typeof t===e,{isArray:Wo}=Array,Vl=hf("undefined");function d5(e){return e!==null&&!Vl(e)&&e.constructor!==null&&!Vl(e.constructor)&&en(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const BP=nr("ArrayBuffer");function f5(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&BP(e.buffer),t}const p5=hf("string"),en=hf("function"),UP=hf("number"),mf=e=>e!==null&&typeof e=="object",h5=e=>e===!0||e===!1,pu=e=>{if(pf(e)!=="object")return!1;const t=$y(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zP in e)&&!(ff in e)},m5=nr("Date"),g5=nr("File"),v5=nr("Blob"),y5=nr("FileList"),w5=e=>mf(e)&&en(e.pipe),b5=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||en(e.append)&&((t=pf(e))==="formdata"||t==="object"&&en(e.toString)&&e.toString()==="[object FormData]"))},_5=nr("URLSearchParams"),[S5,k5,x5,T5]=["ReadableStream","Request","Response","Headers"].map(nr),E5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sc(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Wo(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let a;for(r=0;r<o;r++)a=s[r],t.call(null,e[a],a,e)}}function qP(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const es=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Vt,WP=e=>!Vl(e)&&e!==es;function vg(){const{caseless:e}=WP(this)&&this||{},t={},n=(r,i)=>{const s=e&&qP(t,i)||i;pu(t[s])&&pu(r)?t[s]=vg(t[s],r):pu(r)?t[s]=vg({},r):Wo(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&sc(arguments[r],n);return t}const C5=(e,t,n,{allOwnKeys:r}={})=>(sc(t,(i,s)=>{n&&en(i)?e[s]=VP(i,n):e[s]=i},{allOwnKeys:r}),e),A5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),P5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},M5=(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&$y(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},O5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},I5=e=>{if(!e)return null;if(Wo(e))return e;let t=e.length;if(!UP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},R5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&$y(Uint8Array)),N5=(e,t)=>{const r=(e&&e[ff]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},j5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},L5=nr("HTMLFormElement"),D5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),KS=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$5=nr("RegExp"),HP=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};sc(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},F5=e=>{HP(e,(t,n)=>{if(en(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(en(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V5=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Wo(e)?r(e):r(String(e).split(t)),n},z5=()=>{},B5=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function U5(e){return!!(e&&en(e.append)&&e[zP]==="FormData"&&e[ff])}const q5=e=>{const t=new Array(10),n=(r,i)=>{if(mf(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=Wo(r)?[]:{};return sc(r,(o,a)=>{const l=n(o,i+1);!Vl(l)&&(s[a]=l)}),t[i]=void 0,s}}return r};return n(e,0)},W5=nr("AsyncFunction"),H5=e=>e&&(mf(e)||en(e))&&en(e.then)&&en(e.catch),KP=((e,t)=>e?setImmediate:t?((n,r)=>(es.addEventListener("message",({source:i,data:s})=>{i===es&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),es.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",en(es.postMessage)),K5=typeof queueMicrotask<"u"?queueMicrotask.bind(es):typeof process<"u"&&process.nextTick||KP,J5=e=>e!=null&&en(e[ff]);var R={isArray:Wo,isArrayBuffer:BP,isBuffer:d5,isFormData:b5,isArrayBufferView:f5,isString:p5,isNumber:UP,isBoolean:h5,isObject:mf,isPlainObject:pu,isReadableStream:S5,isRequest:k5,isResponse:x5,isHeaders:T5,isUndefined:Vl,isDate:m5,isFile:g5,isBlob:v5,isRegExp:$5,isFunction:en,isStream:w5,isURLSearchParams:_5,isTypedArray:R5,isFileList:y5,forEach:sc,merge:vg,extend:C5,trim:E5,stripBOM:A5,inherits:P5,toFlatObject:M5,kindOf:pf,kindOfTest:nr,endsWith:O5,toArray:I5,forEachEntry:N5,matchAll:j5,isHTMLForm:L5,hasOwnProperty:KS,hasOwnProp:KS,reduceDescriptors:HP,freezeMethods:F5,toObjectSet:V5,toCamelCase:D5,noop:z5,toFiniteNumber:B5,findKey:qP,global:es,isContextDefined:WP,isSpecCompliantForm:U5,toJSONObject:q5,isAsyncFn:W5,isThenable:H5,setImmediate:KP,asap:K5,isIterable:J5};function de(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}R.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const JP=de.prototype,GP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GP[e]={value:e}});Object.defineProperties(de,GP);Object.defineProperty(JP,"isAxiosError",{value:!0});de.from=(e,t,n,r,i,s)=>{const o=Object.create(JP);return R.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),de.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};var G5=null;function yg(e){return R.isPlainObject(e)||R.isArray(e)}function ZP(e){return R.endsWith(e,"[]")?e.slice(0,-2):e}function JS(e,t,n){return e?e.concat(t).map(function(i,s){return i=ZP(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function Z5(e){return R.isArray(e)&&!e.some(yg)}const Y5=R.toFlatObject(R,{},null,function(t){return/^is[A-Z]/.test(t)});function gf(e,t,n){if(!R.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!R.isUndefined(S[v])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(t);if(!R.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(R.isDate(m))return m.toISOString();if(R.isBoolean(m))return m.toString();if(!l&&R.isBlob(m))throw new de("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(m)||R.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,S){let g=m;if(m&&!S&&typeof m=="object"){if(R.endsWith(v,"{}"))v=r?v:v.slice(0,-2),m=JSON.stringify(m);else if(R.isArray(m)&&Z5(m)||(R.isFileList(m)||R.endsWith(v,"[]"))&&(g=R.toArray(m)))return v=ZP(v),g.forEach(function(_,x){!(R.isUndefined(_)||_===null)&&t.append(o===!0?JS([v],x,s):o===null?v:v+"[]",c(_))}),!1}return yg(m)?!0:(t.append(JS(S,v,s),c(m)),!1)}const d=[],p=Object.assign(Y5,{defaultVisitor:u,convertValue:c,isVisitable:yg});function h(m,v){if(!R.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(m),R.forEach(m,function(g,b){(!(R.isUndefined(g)||g===null)&&i.call(t,g,R.isString(b)?b.trim():b,v,p))===!0&&h(g,v?v.concat(b):[b])}),d.pop()}}if(!R.isObject(e))throw new TypeError("data must be an object");return h(e),t}function GS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Fy(e,t){this._pairs=[],e&&gf(e,this,t)}const YP=Fy.prototype;YP.append=function(t,n){this._pairs.push([t,n])};YP.toString=function(t){const n=t?function(r){return t.call(this,r,GS)}:GS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Q5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QP(e,t,n){if(!t)return e;const r=n&&n.encode||Q5;R.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=R.isURLSearchParams(t)?t.toString():new Fy(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class X5{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){R.forEach(this.handlers,function(r){r!==null&&t(r)})}}var ZS=X5,XP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e9=typeof URLSearchParams<"u"?URLSearchParams:Fy,t9=typeof FormData<"u"?FormData:null,n9=typeof Blob<"u"?Blob:null,r9={isBrowser:!0,classes:{URLSearchParams:e9,FormData:t9,Blob:n9},protocols:["http","https","file","blob","url","data"]};const Vy=typeof window<"u"&&typeof document<"u",wg=typeof navigator=="object"&&navigator||void 0,i9=Vy&&(!wg||["ReactNative","NativeScript","NS"].indexOf(wg.product)<0),s9=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o9=Vy&&window.location.href||"http://localhost";var a9=Object.freeze({__proto__:null,hasBrowserEnv:Vy,hasStandardBrowserWebWorkerEnv:s9,hasStandardBrowserEnv:i9,navigator:wg,origin:o9}),It={...a9,...r9};function l9(e,t){return gf(e,new It.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return It.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function c9(e){return R.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function u9(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function eM(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&R.isArray(i)?i.length:o,l?(R.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!R.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&R.isArray(i[o])&&(i[o]=u9(i[o])),!a)}if(R.isFormData(e)&&R.isFunction(e.entries)){const n={};return R.forEachEntry(e,(r,i)=>{t(c9(r),i,n,0)}),n}return null}function d9(e,t,n){if(R.isString(e))try{return(t||JSON.parse)(e),R.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const zy={transitional:XP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=R.isObject(t);if(s&&R.isHTMLForm(t)&&(t=new FormData(t)),R.isFormData(t))return i?JSON.stringify(eM(t)):t;if(R.isArrayBuffer(t)||R.isBuffer(t)||R.isStream(t)||R.isFile(t)||R.isBlob(t)||R.isReadableStream(t))return t;if(R.isArrayBufferView(t))return t.buffer;if(R.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return l9(t,this.formSerializer).toString();if((a=R.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gf(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),d9(t)):t}],transformResponse:[function(t){const n=this.transitional||zy.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(R.isResponse(t)||R.isReadableStream(t))return t;if(t&&R.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?de.from(a,de.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],e=>{zy.headers[e]={}});var By=zy;const f9=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var p9=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&f9[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t};const YS=Symbol("internals");function ua(e){return e&&String(e).trim().toLowerCase()}function hu(e){return e===!1||e==null?e:R.isArray(e)?e.map(hu):String(e)}function h9(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const m9=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Wp(e,t,n,r,i){if(R.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!R.isString(t)){if(R.isString(r))return t.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(t)}}function g9(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function v9(e,t){const n=R.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}class vf{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,l,c){const u=ua(l);if(!u)throw new Error("header name must be a non-empty string");const d=R.findKey(i,u);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||l]=hu(a))}const o=(a,l)=>R.forEach(a,(c,u)=>s(c,u,l));if(R.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(R.isString(t)&&(t=t.trim())&&!m9(t))o(p9(t),n);else if(R.isObject(t)&&R.isIterable(t)){let a={},l,c;for(const u of t){if(!R.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?R.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=ua(t),t){const r=R.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return h9(i);if(R.isFunction(n))return n.call(this,i,r);if(R.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ua(t),t){const r=R.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Wp(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=ua(o),o){const a=R.findKey(r,o);a&&(!n||Wp(r,r[a],a,n))&&(delete r[a],i=!0)}}return R.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Wp(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return R.forEach(this,(i,s)=>{const o=R.findKey(r,s);if(o){n[o]=hu(i),delete n[s];return}const a=t?g9(s):String(s).trim();a!==s&&delete n[s],n[a]=hu(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return R.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[YS]=this[YS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ua(o);r[a]||(v9(i,o),r[a]=!0)}return R.isArray(t)?t.forEach(s):s(t),this}}vf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(vf.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});R.freezeMethods(vf);var Zn=vf;function Hp(e,t){const n=this||By,r=t||n,i=Zn.from(r.headers);let s=r.data;return R.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function tM(e){return!!(e&&e.__CANCEL__)}function Ho(e,t,n){de.call(this,e??"canceled",de.ERR_CANCELED,t,n),this.name="CanceledError"}R.inherits(Ho,de,{__CANCEL__:!0});function nM(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new de("Request failed with status code "+n.status,[de.ERR_BAD_REQUEST,de.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function y9(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function w9(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let d=s,p=0;for(;d!==i;)p+=n[d++],d=d%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const h=u&&c-u;return h?Math.round(p*1e3/h):void 0}}function b9(e,t){let n=0,r=1e3/t,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-n;d>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const xd=(e,t,n=3)=>{let r=0;const i=w9(50,250);return b9(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},QS=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},XS=e=>(...t)=>R.asap(()=>e(...t));var _9=It.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,It.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,S9=It.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];R.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),R.isString(r)&&o.push("path="+r),R.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function k9(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function x9(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function rM(e,t,n){let r=!k9(t);return e&&(r||n==!1)?x9(e,t):t}const ek=e=>e instanceof Zn?{...e}:e;function _s(e,t){t=t||{};const n={};function r(c,u,d,p){return R.isPlainObject(c)&&R.isPlainObject(u)?R.merge.call({caseless:p},c,u):R.isPlainObject(u)?R.merge({},u):R.isArray(u)?u.slice():u}function i(c,u,d,p){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c,d,p)}else return r(c,u,d,p)}function s(c,u){if(!R.isUndefined(u))return r(void 0,u)}function o(c,u){if(R.isUndefined(u)){if(!R.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in t)return r(c,u);if(d in e)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>i(ek(c),ek(u),d,!0)};return R.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=l[u]||i,p=d(e[u],t[u],u);R.isUndefined(p)&&d!==a||(n[u]=p)}),n}var iM=e=>{const t=_s({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=t;t.headers=o=Zn.from(o),t.url=QP(rM(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(R.isFormData(n)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(It.hasStandardBrowserEnv&&(r&&R.isFunction(r)&&(r=r(t)),r||r!==!1&&_9(t.url))){const c=i&&s&&S9.read(s);c&&o.set(i,c)}return t};const T9=typeof XMLHttpRequest<"u";var E9=T9&&function(e){return new Promise(function(n,r){const i=iM(e);let s=i.data;const o=Zn.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,d,p,h,m;function v(){h&&h(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function g(){if(!S)return;const _=Zn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:e,request:S};nM(function(A){n(A),v()},function(A){r(A),v()},k),S=null}"onloadend"in S?S.onloadend=g:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(g)},S.onabort=function(){S&&(r(new de("Request aborted",de.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new de("Network Error",de.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||XP;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),r(new de(x,k.clarifyTimeoutError?de.ETIMEDOUT:de.ECONNABORTED,e,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&R.forEach(o.toJSON(),function(x,k){S.setRequestHeader(k,x)}),R.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),c&&([p,m]=xd(c,!0),S.addEventListener("progress",p)),l&&S.upload&&([d,h]=xd(l),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=_=>{S&&(r(!_||_.type?new Ho(null,e,S):_),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const b=y9(i.url);if(b&&It.protocols.indexOf(b)===-1){r(new de("Unsupported protocol "+b+":",de.ERR_BAD_REQUEST,e));return}S.send(s||null)})};const C9=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof de?u:new Ho(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,s(new de(`timeout ${t} of ms exceeded`,de.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),e=null)};e.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>R.asap(a),l}};var A9=C9;const P9=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},M9=async function*(e,t){for await(const n of O9(e))yield*P9(n,t)},O9=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},tk=(e,t,n,r)=>{const i=M9(e,t);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let d=u.byteLength;if(n){let p=s+=d;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sM=yf&&typeof ReadableStream=="function",I9=yf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),oM=(e,...t)=>{try{return!!e(...t)}catch{return!1}},R9=sM&&oM(()=>{let e=!1;const t=new Request(It.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nk=64*1024,bg=sM&&oM(()=>R.isReadableStream(new Response("").body)),Td={stream:bg&&(e=>e.body)};yf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Td[t]&&(Td[t]=R.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new de(`Response type '${t}' is not supported`,de.ERR_NOT_SUPPORT,r)})})})(new Response);const N9=async e=>{if(e==null)return 0;if(R.isBlob(e))return e.size;if(R.isSpecCompliantForm(e))return(await new Request(It.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(R.isArrayBufferView(e)||R.isArrayBuffer(e))return e.byteLength;if(R.isURLSearchParams(e)&&(e=e+""),R.isString(e))return(await I9(e)).byteLength},j9=async(e,t)=>{const n=R.toFiniteNumber(e.getContentLength());return n??N9(t)};var L9=yf&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:p}=iM(e);c=c?(c+"").toLowerCase():"text";let h=A9([i,s&&s.toAbortSignal()],o),m;const v=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let S;try{if(l&&R9&&n!=="get"&&n!=="head"&&(S=await j9(u,r))!==0){let k=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(R.isFormData(r)&&(T=k.headers.get("content-type"))&&u.setContentType(T),k.body){const[A,M]=QS(S,xd(XS(l)));r=tk(k.body,nk,A,M)}}R.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;m=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let b=await fetch(m,p);const _=bg&&(c==="stream"||c==="response");if(bg&&(a||_&&v)){const k={};["status","statusText","headers"].forEach(I=>{k[I]=b[I]});const T=R.toFiniteNumber(b.headers.get("content-length")),[A,M]=a&&QS(T,xd(XS(a),!0))||[];b=new Response(tk(b.body,nk,A,()=>{M&&M(),v&&v()}),k)}c=c||"text";let x=await Td[R.findKey(Td,c)||"text"](b,e);return!_&&v&&v(),await new Promise((k,T)=>{nM(k,T,{data:x,headers:Zn.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:m})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new de("Network Error",de.ERR_NETWORK,e,m),{cause:g.cause||g}):de.from(g,g&&g.code,e,m)}});const _g={http:G5,xhr:E9,fetch:L9};R.forEach(_g,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const rk=e=>`- ${e}`,D9=e=>R.isFunction(e)||e===null||e===!1;var aM={getAdapter:e=>{e=R.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let o;if(r=n,!D9(n)&&(r=_g[(o=String(n)).toLowerCase()],r===void 0))throw new de(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(rk).join(`
`):" "+rk(s[0]):"as no adapter specified";throw new de("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:_g};function Kp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ho(null,e)}function ik(e){return Kp(e),e.headers=Zn.from(e.headers),e.data=Hp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),aM.getAdapter(e.adapter||By.adapter)(e).then(function(r){return Kp(e),r.data=Hp.call(e,e.transformResponse,r),r.headers=Zn.from(r.headers),r},function(r){return tM(r)||(Kp(e),r&&r.response&&(r.response.data=Hp.call(e,e.transformResponse,r.response),r.response.headers=Zn.from(r.response.headers))),Promise.reject(r)})}const lM="1.10.0",wf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{wf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const sk={};wf.transitional=function(t,n,r){function i(s,o){return"[Axios v"+lM+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(t===!1)throw new de(i(o," has been removed"+(n?" in "+n:"")),de.ERR_DEPRECATED);return n&&!sk[o]&&(sk[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,a):!0}};wf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function $9(e,t,n){if(typeof e!="object")throw new de("options must be an object",de.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const a=e[s],l=a===void 0||o(a,s,e);if(l!==!0)throw new de("option "+s+" must be "+l,de.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new de("Unknown option "+s,de.ERR_BAD_OPTION)}}var mu={assertOptions:$9,validators:wf};const ir=mu.validators;class Ed{constructor(t){this.defaults=t||{},this.interceptors={request:new ZS,response:new ZS}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=_s(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&mu.assertOptions(r,{silentJSONParsing:ir.transitional(ir.boolean),forcedJSONParsing:ir.transitional(ir.boolean),clarifyTimeoutError:ir.transitional(ir.boolean)},!1),i!=null&&(R.isFunction(i)?n.paramsSerializer={serialize:i}:mu.assertOptions(i,{encode:ir.function,serialize:ir.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),mu.assertOptions(n,{baseUrl:ir.spelling("baseURL"),withXsrfToken:ir.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&R.merge(s.common,s[n.method]);s&&R.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Zn.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,p;if(!l){const m=[ik.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),p=m.length,u=Promise.resolve(n);d<p;)u=u.then(m[d++],m[d++]);return u}p=a.length;let h=n;for(d=0;d<p;){const m=a[d++],v=a[d++];try{h=m(h)}catch(S){v.call(this,S);break}}try{u=ik.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=_s(this.defaults,t);const n=rM(t.baseURL,t.url,t.allowAbsoluteUrls);return QP(n,t.params,t.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(t){Ed.prototype[t]=function(n,r){return this.request(_s(r||{},{method:t,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,a){return this.request(_s(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ed.prototype[t]=n(),Ed.prototype[t+"Form"]=n(!0)});var gu=Ed;class Uy{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,a){r.reason||(r.reason=new Ho(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Uy(function(i){t=i}),cancel:t}}}var F9=Uy;function V9(e){return function(n){return e.apply(null,n)}}function z9(e){return R.isObject(e)&&e.isAxiosError===!0}const Sg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sg).forEach(([e,t])=>{Sg[t]=e});var B9=Sg;function cM(e){const t=new gu(e),n=VP(gu.prototype.request,t);return R.extend(n,gu.prototype,t,{allOwnKeys:!0}),R.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return cM(_s(e,i))},n}const ut=cM(By);ut.Axios=gu;ut.CanceledError=Ho;ut.CancelToken=F9;ut.isCancel=tM;ut.VERSION=lM;ut.toFormData=gf;ut.AxiosError=de;ut.Cancel=ut.CanceledError;ut.all=function(t){return Promise.all(t)};ut.spread=V9;ut.isAxiosError=z9;ut.mergeConfig=_s;ut.AxiosHeaders=Zn;ut.formToJSON=e=>eM(R.isHTMLForm(e)?new FormData(e):e);ut.getAdapter=aM.getAdapter;ut.HttpStatusCode=B9;ut.default=ut;var U9=ut;const q9=mM(q3);var W9=typeof self=="object"?self.FormData:window.FormData,bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.getDefaultSystemPrompt=void 0;const H9=(e,t)=>`IMPORTANT: ALWAYS START BY CHECKING IF THE CONNECTION EXISTS FOR THE PLATFORM

PLATFORM COMMITMENT:
- You can freely list and explore actions across ANY platform
- However, once you START EXECUTING an action:
  1. The platform MUST have an active connection
  2. You MUST complete the entire workflow with that platform
  3. Only consider other platforms after completing the current execution
- If you need multiple platforms to complete a task:
  1. First complete the entire execution workflow with the primary platform
  2. Then explain to the user that you'll need another platform
  3. Start a new execution workflow with the second platform
- Example: For "Send an email with a joke":
  * CORRECT: List Gmail actions -> Get email action knowledge -> Execute email action (with static joke)
  * INCORRECT: List Gmail actions -> Start email execution -> Switch to OpenAI mid-flow
- Example: For "What actions are available in Gmail and Slack?":
  * CORRECT: List Gmail actions -> List Slack actions -> Discuss both
  * No commitment needed because we're just exploring

Your capabilities must be used in this exact sequence FOR EACH EXECUTION:

1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
  - Command: getAvailableActions
  - Purpose: Get a simple list of available actions for a platform
  - Usage: This must be your first step for ANY user request after checking if the connection exists for the platform
  - When to use: AFTER checking if the connection exists for the platform and BEFORE attempting any other operation 
  - Output: Returns a clean list of action titles and IDs
  - Presentation: Present actions naturally and efficiently:
    * Group related actions together and present them concisely
    * Example: Instead of listing separately, group as "Manage workflow permissions (add/remove/view)"
    * Remove redundant words and technical jargon
    * Keep responses concise and group similar functionality
    * Use natural, conversational language that feels fluid
    * If no connection exists, explain how to add one
    * When listing actions, always order them by the actions with the featured tag first

2. GET ACTION DETAILS (ALWAYS SECOND)
  - Command: getActionKnowledge
  - Purpose: Fetch full details and knowledge documentation for a specific action
  - When to use: After finding the appropriate action ID from step 1
  - Required: Must have action ID from getAvailableActions first
  - Note: Can be used to explore actions even without a connection
  - Output: Returns complete action object with:
    * Knowledge documentation
    * Required fields and their types
    * Path information
    * HTTP method
    * Constraints and validation rules

3. EXECUTE ACTIONS (ALWAYS LAST)
  - Command: execute
  - Purpose: Execute specific platform actions through the passthrough API
  - When to use: Only after completing steps 1 and 2
  - Required: MUST have an active connection from the Pica Dashboard (Verify in the IMPORTANT GUIDELINES section)
  - Required Parameters:
    * platform: The target platform
    * action: The action object with { _id, path }
    * connectionKey: The connection key for authentication
    * data: The request payload (optional)
    * pathVariables: Values for path variables (if needed)
    * queryParams: Query parameters (if needed)
    * isFormData: Set to true to send data as multipart/form-data
    * isFormUrlEncoded: Set to true to send data as application/x-www-form-urlencoded

WORKFLOW (MUST FOLLOW THIS ORDER FOR EACH PLATFORM):
1. For ANY user request:
  a. FIRST: Call getAvailableActions to list what's possible
  b. THEN: Identify the appropriate action from the list
  c. NEXT: Call getActionKnowledge to get full details
  d. NEXT: Verify that the connection exists in the available connections list below in the IMPORTANT GUIDELINES section
  e. FINALLY: Execute with proper parameters
  f. Only after completing all steps, consider if another platform is needed

2. Knowledge Parsing:
  - After getting knowledge, analyze it to understand:
    * Required data fields and their format
    * Required path variables
    * Required query parameters
    * Any constraints and validation rules
  - Only ask the user for information that:
    * Is not in the knowledge documentation
    * Requires user choice or input
    * Cannot be determined automatically
  - Important: Do not read the knowledge documentation to the user, just use it to guide your actions

3. Error Prevention:
  - Never try to execute without first listing actions
  - Never assume action IDs - they must come from getAvailableActions
  - Never switch platforms mid-flow - complete the current platform first
  - Validate all input against knowledge documentation
  - Provide clear, actionable error messages

Best Practices:
- Before attempting any operation, you must first discover what actions are available.
- Always start with getAvailableActions after checking if the connection exists for the platform - no exceptions
- Complete all steps with one platform before moving to another
- Parse knowledge documentation before asking users for input
- Use examples from knowledge documentation to guide users
- Maintain a professional and efficient communication style
- After every invocation of the execute tool, you must follow it up with a consise summary of the action that was executed and the result
- Important: Always load the knowledge needed to provide the best user experience.
- If you need to execute an action for a platform that has no connection, you must first prompt the user to add a connection from the Pica Dashboard (https://app.picaos.com/connections)
- Speak in the second person, as if you are directly addressing the user.
- Avoid using technical jargon and explain in simple terms using natural language.
- Do not read the knowledge documentation to the user, just use it to guide your actions.
- Do not confirm with the user to proceed with the action if you already have all the information you need.

Remember:
- Before executing an action, you MUST first verify that the connection exists in the access list below in the IMPORTANT GUIDELINES section
- You can explore ANY platform's actions, even without a connection
- Security is paramount - never expose or request sensitive credentials
- Handle all {{variables}} in paths before execution
- Complete one platform's workflow before starting another
- When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.

IMPORTANT GUIDELINES:
- You have access to execute actions only for the following connections (only show the latest 5 connections and tell the user to ask for more for a platform if they need them):
${e}

- Here are the proper platform names (according to Pica) to use for tools:
${t}
`;bf.getDefaultSystemPrompt=H9;var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.getDefaultSystemWithAuthkitPrompt=void 0;const K9=(e,t)=>`  You have access to many tools and APIs through Pica OneTool. Before executing any action, you must make sure the user has the required connection in the list below.
  If the user does not have the required connection, call the promptToConnectPlatform tool to add the connection.
  (DO NOT TELL THE USER TO ADD A CONNECTION VIA THE PICA DASHBOARD BECAUSE YOU HAVE THE ABILITY TO ADD A CONNECTION VIA THE promptToConnectPlatform tool)
  If the user is asking to connect or does not have the connection required to execute the action, call the promptToConnectPlatform tool to add the connection.
  
  If a platform has no connection:
  * You CANNOT LIST AND DESCRIBE THE ACTIONS FOR THAT PLATFORM
  * You MUST call the promptToConnectPlatform tool to prompt the user to add the connection
  * You don't know if the user creates a connection or not until it shows in the list of connections
  * Keep prompting the user to connect to the platform until the connection shows in the list of connections
  
  Be concise in your responses. When executing actions, only explain what you're doing if it's not obvious from the action name and parameters.
  
  If you encounter an error, explain what went wrong and how to fix it.
  
  IMPORTANT: ALWAYS START BY CHECKING IF THE CONNECTION EXISTS FOR THE PLATFORM
  
  PLATFORM COMMITMENT:
  - You can freely list and explore actions across ANY platform
  - However, once you START EXECUTING an action:
    1. The platform MUST have an active connection
    2. You MUST complete the entire workflow with that platform
    3. Only consider other platforms after completing the current execution
  - If you need multiple platforms to complete a task:
    1. First complete the entire execution workflow with the primary platform
    2. Then explain to the user that you'll need another platform
    3. Start a new execution workflow with the second platform
  - Example: For "Send an email with a joke":
    * CORRECT: List Gmail actions -> Get email action knowledge -> Execute email action (with static joke)
    * INCORRECT: List Gmail actions -> Start email execution -> Switch to OpenAI mid-flow
  - Example: For "What actions are available in Gmail and Slack?":
    * CORRECT: List Gmail actions -> List Slack actions -> Discuss both
    * No commitment needed because we're just exploring
  
  Your capabilities must be used in this exact sequence FOR EACH EXECUTION:
  
  1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
    - Command: getAvailableActions
    - Purpose: Get a simple list of available actions for a platform
    - Usage: This must be your first step for ANY user request after checking if the connection exists for the platform
    - When to use: AFTER checking if the connection exists for the platform and BEFORE attempting any other operation 
    - Output: Returns a clean list of action titles and IDs
    - Presentation: Present actions naturally and efficiently:
      * Group related actions together and present them concisely
      * Example: Instead of listing separately, group as "Manage workflow permissions (add/remove/view)"
      * Remove redundant words and technical jargon
      * Keep responses concise and group similar functionality
      * Use natural, conversational language that feels fluid
      * If no connection exists, explain how to add one
      * When listing actions, always order them by the actions with the featured tag first
  
  2. GET ACTION DETAILS (ALWAYS SECOND)
    - Command: getActionKnowledge
    - Purpose: Fetch full details and knowledge documentation for a specific action
    - When to use: After finding the appropriate action ID from step 1
    - Required: Must have action ID from getAvailableActions first
    - Note: Can be used to explore actions even without a connection
    - Output: Returns complete action object with:
      * Knowledge documentation
      * Required fields and their types
      * Path information
      * HTTP method
      * Constraints and validation rules
  
  3. EXECUTE ACTIONS (ALWAYS LAST)
    - Command: execute
    - Purpose: Execute specific platform actions through the passthrough API
    - When to use: Only after completing steps 1 and 2
    - Required: MUST have an active connection from the Pica Dashboard (Verify in the IMPORTANT GUIDELINES section)
    - Required Parameters:
      * platform: The target platform
      * action: The action object with { _id, path }
      * connectionKey: The connection key for authentication
      * data: The request payload (optional)
      * pathVariables: Values for path variables (if needed)
      * queryParams: Query parameters (if needed)
      * isFormData: Set to true to send data as multipart/form-data
      * isFormUrlEncoded: Set to true to send data as application/x-www-form-urlencoded
  
  WORKFLOW (MUST FOLLOW THIS ORDER FOR EACH PLATFORM):
  1. For ANY user request:
    a. FIRST: Call getAvailableActions to list what's possible
    b. THEN: Identify the appropriate action from the list
    c. NEXT: Call getActionKnowledge to get full details
    d. NEXT: Verify that the connection exists in the available connections list below in the IMPORTANT GUIDELINES section
    e. FINALLY: Execute with proper parameters
    f. Only after completing all steps, consider if another platform is needed
  
  2. Knowledge Parsing:
    - After getting knowledge, analyze it to understand:
      * Required data fields and their format
      * Required path variables
      * Required query parameters
      * Any constraints and validation rules
    - Only ask the user for information that:
      * Is not in the knowledge documentation
      * Requires user choice or input
      * Cannot be determined automatically
    - Important: Do not read the knowledge documentation to the user, just use it to guide your actions
  
  3. Error Prevention:
    - Never try to execute without first listing actions
    - Never assume action IDs - they must come from getAvailableActions
    - Never switch platforms mid-flow - complete the current platform first
    - Validate all input against knowledge documentation
    - Provide clear, actionable error messages
  
  Best Practices:
  - Before attempting any operation, you must first discover what actions are available.
  - Always start with getAvailableActions after checking if the connection exists for the platform - no exceptions
  - Complete all steps with one platform before moving to another
  - Parse knowledge documentation before asking users for input
  - Use examples from knowledge documentation to guide users
  - Maintain a professional and efficient communication style
  - After every invocation of the execute tool, you must follow it up with a consise summary of the action that was executed and the result
  - Important: Always load the knowledge needed to provide the best user experience.
  - If you need to execute an action for a platform that has no connection, you must first prompt the user to add a connection using the promptToConnectPlatform tool
  - Speak in the second person, as if you are directly addressing the user.
  - Avoid using technical jargon and explain in simple terms using natural language.
  - Do not read the knowledge documentation to the user, just use it to guide your actions.
  - Do not confirm with the user to proceed with the action if you already have all the information you need.
  
  Remember:
  - Before executing an action, you MUST first verify that the connection exists in the access list below in the IMPORTANT GUIDELINES section
  - You can explore ANY platform's actions, even without a connection
  - Security is paramount - never expose or request sensitive credentials
  - Handle all {{variables}} in paths before execution
  - Complete one platform's workflow before starting another
  - When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.
  
  IMPORTANT GUIDELINES:
  - You have access to execute actions only for the following connections (only show the latest 5 connections and tell the user to ask for more for a platform if they need them):
  ${e}
  
  - Here are the proper platform names (according to Pica) to use for tools:
  ${t}
  `;_f.getDefaultSystemWithAuthkitPrompt=K9;var Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.getKnowledgeAgentSystemPrompt=void 0;const J9=(e,t,n)=>`## Objectives

Generate and output a complete Edge Function prompt in markdown format.

## Instructions

The user will specify an action or series of actions they want to perform with one or more platforms connected to Pica.
Your task is to:

1. **Load Knowledge**: Retrieve the necessary API documentation to execute all requested actions on the specified platforms.
2. **Generate API Call Prompt**: Construct a detailed prompt that helps Lovable create an **Edge Function** to call the appropriate endpoint(s).
3. **Inform User**: Tell the user you are processing their request and will provide a prompt shortly.
4. **Use Pica Passthrough API**: Structure all API calls through the Pica Passthrough system:

   - **Base URL**: \`https://api.picaos.com/v1/passthrough/{path}\` (path from action object)
   - **Method**: \`GET | POST | PUT | DELETE | etc.\`
   - **Required Headers**:
     - \`x-pica-secret: <PICA_SECRET_KEY>\` (from environment variables)
     - \`x-pica-connection-key: <PICA_[PLATFORM]_CONNECTION_KEY>\` (from environment variables)
     - \`x-pica-action-id: <ACTION_ID>\` (from action object)

## Output Structure

Your response must include a properly formatted **Edge Function prompt** in Markdown with:

- **API Endpoint**: Complete endpoint URL for each action
- **HTTP Method**: (\`GET, POST, PUT, DELETE\`, etc.)
- **Required Headers**: All necessary authentication and request headers
- **Request Body**: Complete schema (if applicable)
- **Response Body**: Complete response from the API call (if applicable and extracted from action knowledge)
- **Example Code**: Working JavaScript implementation

### Important Notes

- **Print ONLY the Markdown** without additional explanations
${n?"- **Remind users** to set all environment variables: `PICA_SECRET_KEY` and `PICA_[PLATFORM]_CONNECTION_KEY`":""}
- **Include complete JSON schema** for all inputs and outputs

## Best Practices

- **ALWAYS** use the correct base URL and method
- **ALWAYS** include all required headers, body parameters, and query parameters
- **ALWAYS** include the response body if it is available in the action knowledge
${n?"- **ALWAYS** remind users about environment variables requirements":""}

## CRITICAL: CONNECTION VERIFICATION

**ALWAYS START** by checking if the connection exists for the platform before proceeding.

## Platform Commitment

- You can freely list and explore actions across ANY platform
- Once you START EXECUTING an action:
  1. The user does not need to have an active connection
  2. You MUST complete the entire workflow with that platform
  3. Only consider other platforms after completing the current execution
  
### Examples
- "Send an email with a joke":
  *  CORRECT: List Gmail actions  Get email action knowledge  Execute email action (with static joke)
  *  INCORRECT: List Gmail actions  Start email execution  Switch to OpenAI mid-flow
- "What actions are available in Gmail and Slack?":
  *  CORRECT: List Gmail actions  List Slack actions  Discuss both
  * (No commitment needed for exploration)

## Execution Sequence

You MUST follow this exact sequence for EACH EXECUTION:

### 1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
- **Command**: getAvailableActions
- **Purpose**: Get available actions for a platform
- **When to use**: BEFORE any other operation
- **Output**: Clean list of action titles and IDs
- **Presentation**:
  * Group related actions together concisely
  * Example: "Manage workflow permissions (add/remove/view)" instead of separate listings
  * Remove redundant words and technical jargon
  * Present information in natural, conversational language
  * If no connection exists, explain how to add one
  * Order actions with featured tag first

### 2. GET ACTION DETAILS (ALWAYS SECOND)
- **Command**: getActionKnowledge
- **Purpose**: Fetch full details and knowledge documentation
- **When to use**: After identifying the appropriate action ID from step 1
- **Required**: Must have action ID from getAvailableActions
- **Note**: Can explore actions even without a connection
- **Output**: Complete action object including:
  * Knowledge documentation
  * Required fields and types
  * Path information
  * HTTP method
  * Constraints and validation rules

### 3. EXECUTE ACTIONS (THIRD)
- **Command**: execute
- **Purpose**: Generate request config for Pica Passthrough API
- **Important**: Returns request config only without performing execution
- **When to use**: Only after completing steps 1 and 2
- **Required Parameters**:
  * platform: Target platform
  * action: Action object with { _id, path }
  * connectionKey: Connection key for authentication
  * data: Request payload (optional)
  * pathVariables: Values for path variables (if needed)
  * queryParams: Query parameters (if needed)
  * isFormData: Set to true for multipart/form-data
  * isFormUrlEncoded: Set to true for application/x-www-form-urlencoded

### 4. SEND PROMPT TO USER (FINAL STEP)
- **Command**: sendPromptToUser
- **Purpose**: Deliver the prompt to the user
- **When to use**: After completing steps 1, 2, and 3
- **Content**: Generated prompt following all instructions above

## WORKFLOW (REQUIRED SEQUENCE)
1. For ANY user request:
   a. FIRST: Call getAvailableActions to list possibilities
   b. THEN: Identify appropriate action from the list
   c. NEXT: Call getActionKnowledge for full details
   d. FINALLY: Execute with proper parameters and send prompt to user

2. Knowledge Parsing:
   - Analyze knowledge to understand:
     * Required data fields and formats
     * Required path variables
     * Required query parameters
     * Constraints and validation rules
   - Only request information from users that:
     * Is not in the knowledge documentation
     * Requires user choice or input
     * Cannot be determined automatically
   - Do not read knowledge documentation to users - use it to guide your actions

3. Error Prevention:
   - Never execute without first listing actions
   - Never assume action IDs - must come from getAvailableActions
   - Never switch platforms mid-flow - complete current platform first
   - Validate all input against knowledge documentation
   - Provide clear, actionable error messages

## Advanced Best Practices

- Always check available actions before any operation
- Complete all steps with one platform before moving to another
- Parse knowledge documentation before requesting user input
- Use examples from knowledge documentation as guides
- Maintain professional, efficient communication
- After execute tool invocation, provide code block showing request execution
- Default to TypeScript unless user specifies another language
- Speak directly to the user in second person
- Do not confirm with users if you already have all required information

## Critical Reminders

- After executing an action, provide clear code example based on request config
- You can explore ANY platform's actions without a connection
- Security is paramount - never expose sensitive credentials
- Process all {{variables}} in paths before execution
- Complete one platform's workflow before starting another
- Never show secret values in the final prompt - reference environment variables
- When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.

## IMPORTANT GUIDELINES

- Use these proper platform names (according to Pica) for tools:
${t}
`;Sf.getKnowledgeAgentSystemPrompt=J9;var kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.getKnowledgeAgentWithAuthkitSystemPrompt=void 0;const G9=(e,t,n)=>`## Objectives

Generate and output a complete Edge Function prompt in markdown format.

## Connection Requirements

You have access to many tools and APIs through Pica OneTool. Before executing any action, you must make sure the user has the required connection in the list below.

### Connection Management
- If the user does not have the required connection, call the promptToConnectPlatform tool to add the connection
- **DO NOT TELL THE USER TO ADD A CONNECTION VIA THE PICA DASHBOARD** - you have the ability to add connections via the promptToConnectPlatform tool
- If the user is asking to connect or needs a connection to execute an action, use the promptToConnectPlatform tool

### When a Platform Has No Connection
- You **CANNOT LIST AND DESCRIBE THE ACTIONS** for that platform
- You **MUST** call the promptToConnectPlatform tool to prompt the user to add the connection
- You don't know if the user creates a connection until it appears in the list of connections
- Keep prompting the user to connect until the connection shows in the list of connections

## Your Tasks

1. **Load Knowledge**: Retrieve the necessary API documentation to execute all requested actions on the specified platforms.
2. **Generate API Call Prompt**: Construct a detailed prompt that helps Lovable create an **Edge Function** to call the appropriate endpoint(s).
3. **Inform User**: Tell the user you are processing their request and will provide a prompt shortly.
4. **Use Pica Passthrough API**: Structure all API calls through the Pica Passthrough system:

   - **Base URL**: \`https://api.picaos.com/v1/passthrough/{path}\` (path from action object)
   - **Method**: \`GET | POST | PUT | DELETE | etc.\`
   - **Required Headers**:
     - \`x-pica-secret: <PICA_SECRET_KEY>\` (from environment variables)
     - \`x-pica-connection-key: <PICA_[PLATFORM]_CONNECTION_KEY>\` (from environment variables)
     - \`x-pica-action-id: <ACTION_ID>\` (from action object)

Be concise in your responses. When executing actions, only explain what you're doing if it's not obvious from the action name and parameters.

If you encounter an error, explain what went wrong and how to fix it.

## Output Structure

Your response must include a properly formatted **Edge Function prompt** in Markdown with:

- **API Endpoint**: Complete endpoint URL for each action
- **HTTP Method**: (\`GET, POST, PUT, DELETE\`, etc.)
- **Required Headers**: All necessary authentication and request headers
- **Request Body**: Complete schema (if applicable)
- **Response Body**: Complete response from the API call (if applicable and extracted from action knowledge)
- **Example Code**: Working JavaScript implementation

### Important Notes

- **Print ONLY the Markdown** without additional explanations
${n?"- **Remind users** to set all environment variables: `PICA_SECRET_KEY` and `PICA_[PLATFORM]_CONNECTION_KEY`":""}
- **Include complete JSON schema** for all inputs and outputs

## Best Practices

- **ALWAYS** use the correct base URL and method
- **ALWAYS** include all required headers, body parameters, and query parameters
- **ALWAYS** include the response body if it is available in the action knowledge
${n?"- **ALWAYS** remind users about environment variables requirements":""}

## CRITICAL: CONNECTION VERIFICATION

**ALWAYS START** by checking if the connection exists for the platform before proceeding.

## Platform Commitment

- You can freely list and explore actions across ANY platform
- Once you START EXECUTING an action:
  1. The platform MUST have an active connection
  2. You MUST complete the entire workflow with that platform
  3. Only consider other platforms after completing the current execution
- If you need multiple platforms to complete a task:
  1. First complete the entire execution workflow with the primary platform
  2. Then explain to the user that you'll need another platform
  3. Start a new execution workflow with the second platform
  
### Examples
- "Send an email with a joke":
  *  CORRECT: List Gmail actions  Get email action knowledge  Execute email action (with static joke)
  *  INCORRECT: List Gmail actions  Start email execution  Switch to OpenAI mid-flow
- "What actions are available in Gmail and Slack?":
  *  CORRECT: List Gmail actions  List Slack actions  Discuss both
  * (No commitment needed for exploration)

## Execution Sequence

You MUST follow this exact sequence for EACH EXECUTION:

### 1. LIST AVAILABLE ACTIONS (ALWAYS FIRST)
- **Command**: getAvailableActions
- **Purpose**: Get available actions for a platform
- **When to use**: AFTER checking connection exists and BEFORE any other operation
- **Output**: Clean list of action titles and IDs
- **Presentation**:
  * Group related actions together concisely
  * Example: "Manage workflow permissions (add/remove/view)" instead of separate listings
  * Remove redundant words and technical jargon
  * Keep responses concise and group similar functionality
  * Use natural, conversational language that feels fluid
  * If no connection exists, explain how to add one
  * Order actions with featured tag first

### 2. GET ACTION DETAILS (ALWAYS SECOND)
- **Command**: getActionKnowledge
- **Purpose**: Fetch full details and knowledge documentation
- **When to use**: After identifying the appropriate action ID from step 1
- **Required**: Must have action ID from getAvailableActions
- **Note**: Can explore actions even without a connection
- **Output**: Complete action object including:
  * Knowledge documentation
  * Required fields and types
  * Path information
  * HTTP method
  * Constraints and validation rules

### 3. EXECUTE ACTIONS (ALWAYS LAST)
- **Command**: execute
- **Purpose**: Generate request config for Pica Passthrough API
- **Important**: Returns request config only without performing execution
- **When to use**: Only after completing steps 1 and 2
- **Required**: MUST have active connection (verify in IMPORTANT GUIDELINES section)
- **Required Parameters**:
  * platform: Target platform
  * action: Action object with { _id, path }
  * connectionKey: Connection key for authentication
  * data: Request payload (optional)
  * pathVariables: Values for path variables (if needed)
  * queryParams: Query parameters (if needed)
  * isFormData: Set to true for multipart/form-data
  * isFormUrlEncoded: Set to true for application/x-www-form-urlencoded

### 4. SEND PROMPT TO USER (FINAL STEP)
- **Command**: sendPromptToUser
- **Purpose**: Deliver the prompt to the user
- **When to use**: After completing steps 1, 2, and 3
- **Content**: Generated prompt following all instructions above

## WORKFLOW (REQUIRED SEQUENCE)
1. For ANY user request:
   a. FIRST: Call getAvailableActions to list possibilities
   b. THEN: Identify appropriate action from the list
   c. NEXT: Call getActionKnowledge for full details
   d. NEXT: Verify connection exists in the available connections list
   e. FINALLY: Execute with proper parameters and send prompt to user
   f. Only after completing all steps, consider if another platform is needed

2. Knowledge Parsing:
   - Analyze knowledge to understand:
     * Required data fields and formats
     * Required path variables
     * Required query parameters
     * Constraints and validation rules
   - Only request information from users that:
     * Is not in the knowledge documentation
     * Requires user choice or input
     * Cannot be determined automatically
   - Do not read knowledge documentation to users - use it to guide your actions

3. Error Prevention:
   - Never execute without first listing actions
   - Never assume action IDs - must come from getAvailableActions
   - Never switch platforms mid-flow - complete current platform first
   - Validate all input against knowledge documentation
   - Provide clear, actionable error messages

## Advanced Best Practices

- Always check available actions before any operation
- Complete all steps with one platform before moving to another
- Parse knowledge documentation before requesting user input
- Use examples from knowledge documentation as guides
- Maintain professional, efficient communication
- After execute tool invocation, provide code block showing request execution
- Default to TypeScript unless user specifies another language
- If a platform has no connection, prompt the user to add one using promptToConnectPlatform
- Speak directly to the user in second person
- Avoid technical jargon and explain concepts in simple, natural language
- Do not read knowledge documentation to users - use it to guide your actions
- Do not confirm with users if you already have all required information

## Critical Reminders

- After executing an action, provide clear code example based on request config
- Verify connection exists before executing any action
- You can explore ANY platform's actions without a connection
- Security is paramount - never expose sensitive credentials
- Process all {{variables}} in paths before execution
- Complete one platform's workflow before starting another
- Never show secret values in the final prompt - reference environment variables
- When using action IDs for any follow-up operation (such as getActionKnowledge or execute), always use the full action ID string exactly as returned by getAvailableActions, including all prefixes (such as conn_mod_def::). Never attempt to parse, split, or modify the action ID.

## IMPORTANT GUIDELINES

- You have access to execute actions only for the following connections (showing latest 5 - instruct user to ask for more if needed):
${e}

- Use these proper platform names (according to Pica) for tools:
${t}
`;kf.getKnowledgeAgentWithAuthkitSystemPrompt=G9;var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.paginateResults=Z9;oc.normalizeActionId=Y9;oc.replacePathVariables=Q9;async function Z9(e,t=100){let n=0,r=[],i=0;try{do{const s=await e(n,t),{rows:o,total:a}=s;i=a,r=[...r,...o],n+=t}while(r.length<i);return r}catch(s){throw console.error("Error in pagination:",s),s}}function Y9(e){return e.includes("::")?e.startsWith("conn_mod_def::")?e:`conn_mod_def::${e}`:e}function Q9(e,t){return e.replace(/\{\{([^}]+)\}\}/g,(n,r)=>{const i=t[r];if(!i)throw new Error(`Missing value for path variable: ${r}`);return i.toString()})}var uM=Vt&&Vt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(df,"__esModule",{value:!0});df.Pica=void 0;const da=uM(U9),le=q9,X9=uM(W9),e6=bf,t6=_f,n6=Sf,r6=kf,sr=oc;class i6{constructor(t,n){this.baseUrl="https://api.picaos.com",this.secret=t,this.connections=[],this.connectionDefinitions=[],this.systemPromptValue="Loading connections...",this.identity=n==null?void 0:n.identity,this.identityType=n==null?void 0:n.identityType,this.useAuthkit=(n==null?void 0:n.authkit)||!1,this.useKnowledgeAgent=(n==null?void 0:n.knowledgeAgent)||!1,this.knowledgeAgentConfig=(n==null?void 0:n.knowledgeAgentConfig)||{includeEnvironmentVariables:!0},this.options=n,n!=null&&n.serverUrl&&(this.baseUrl=n.serverUrl),this.getConnectionUrl=`${this.baseUrl}/v1/vault/connections`,this.availableActionsUrl=`${this.baseUrl}/v1/knowledge`,this.getConnectionDefinitionsUrl=`${this.baseUrl}/v1/available-connectors`,this.initialized=this.initialize().then(()=>{var r,i,s;let o=this.connections.filter(c=>c.active);!((r=n==null?void 0:n.connectors)===null||r===void 0)&&r.length?n.connectors.includes("*")||(o=o.filter(c=>n.connectors.includes(c.key))):o=[];const a=o.length>0?"	* "+o.map(c=>`${c.platform} - Key: ${c.key}`).join(`
	* `):"No connections available",l=this.connectionDefinitions.map(c=>`
	* ${c.platform} (${c.name})`).join("");if(n!=null&&n.knowledgeAgentConfig&&!this.useKnowledgeAgent)throw new Error("Cannot provide Knowledge Agent configuration when Knowledge Agent is disabled. Please set useKnowledgeAgent to true if you want to use the Knowledge Agent.");this.useAuthkit&&this.useKnowledgeAgent?this.systemPromptValue=(0,r6.getKnowledgeAgentWithAuthkitSystemPrompt)(a,l,(i=this.knowledgeAgentConfig)===null||i===void 0?void 0:i.includeEnvironmentVariables):this.useAuthkit?this.systemPromptValue=(0,t6.getDefaultSystemWithAuthkitPrompt)(a,l):this.useKnowledgeAgent?this.systemPromptValue=(0,n6.getKnowledgeAgentSystemPrompt)(a,l,(s=this.knowledgeAgentConfig)===null||s===void 0?void 0:s.includeEnvironmentVariables):this.systemPromptValue=(0,e6.getDefaultSystemPrompt)(a,l)}).catch(r=>{console.error("Error during initialization:",r),this.systemPromptValue="Error loading connections"})}async generateSystemPrompt(t){await this.waitForInitialization();const n=new Date;return`${t?t+`

`:""}=== PICA: INTEGRATION ASSISTANT ===

Everything below is for Pica (picaos.com), your integration assistant that can instantly connect your AI agents to 100+ APIs.


Current Time: ${n.toLocaleString("en-US",{timeZone:"GMT"})} (GMT)

--- Tools Information ---
${this.system.trim()}
        `}async initialize(){await Promise.all([this.initializeConnections(),this.initializeConnectionDefinitions()])}async waitForInitialization(){return await this.initialized,this.system}async initializeConnections(t){try{const n=this.generateHeaders();let r=this.getConnectionUrl,i=!1;t&&(r+=`?platform=${t}`,i=!0),this.identity&&(r+=i?`&identity=${encodeURIComponent(this.identity)}`:`?identity=${encodeURIComponent(this.identity)}`,i=!0),this.identityType&&(r+=i?`&identityType=${encodeURIComponent(this.identityType)}`:`?identityType=${encodeURIComponent(this.identityType)}`,i=!0);const s=(o,a)=>da.default.get(`${r}${i?"&":"?"}limit=${a}&skip=${o}`,{headers:n}).then(l=>l.data);this.connections=await(0,sr.paginateResults)(s)}catch(n){console.error("Failed to initialize connections:",n),this.connections=[]}}async initializeConnectionDefinitions(){try{const t=this.generateHeaders();let n=this.getConnectionDefinitionsUrl,r=!1;this.useAuthkit&&(n+="?authkit=true",r=!0);const i=(s,o)=>da.default.get(`${n}${r?"&":"?"}limit=${o}&skip=${s}`,{headers:t}).then(a=>a.data);this.connectionDefinitions=await(0,sr.paginateResults)(i)}catch(t){console.error("Failed to initialize connection definitions:",t),this.connectionDefinitions=[]}}get system(){return this.systemPromptValue}generateHeaders(){var t;return{"Content-Type":"application/json","x-pica-secret":this.secret,...(t=this.options)===null||t===void 0?void 0:t.headers}}async getAllAvailableActions(t,n){var r;try{const i=(c,u)=>da.default.get(`${this.availableActionsUrl}?supported=true&connectionPlatform=${t}&skip=${c}&limit=${u}`,{headers:this.generateHeaders()}).then(d=>d.data),o=(await(0,sr.paginateResults)(i)).map(c=>(c._id&&(c._id=(0,sr.normalizeActionId)(c._id)),c));let a=o;const l=(r=this.options)===null||r===void 0?void 0:r.permissions;return l==="read"?a=o.filter(c=>{let u=c.method;return(u==null?void 0:u.toUpperCase())==="GET"}):l==="write"&&(a=o.filter(c=>{var u;let d=(u=c.method)===null||u===void 0?void 0:u.toUpperCase();return d==="POST"||d==="PUT"||d==="PATCH"})),n!=null&&n.length?a.filter(c=>n.includes(c._id)):a}catch(i){throw console.error("Error fetching all available actions:",i),new Error("Failed to fetch all available actions")}}async getAvailablePicaConnectors(){return await this.initializeConnectionDefinitions(),this.connectionDefinitions}async getAvailableConnectors(t){return await this.initializeConnections(t),this.connections}async getSingleAction(t){try{const n=(0,sr.normalizeActionId)(t),r=await da.default.get(`${this.availableActionsUrl}?_id=${n}`,{headers:this.generateHeaders()});if(!r.data.rows||r.data.rows.length===0)throw new Error(`Action with ID ${n} not found`);return r.data.rows[0]}catch(n){throw console.error("Error fetching single action:",n),new Error("Failed to fetch action")}}async getAvailableActions(t){var n;try{const r=await this.getAllAvailableActions(t,(n=this.options)===null||n===void 0?void 0:n.actions);return{total:r.length,actions:r}}catch(r){throw console.error("Error fetching available actions:",r),new Error("Failed to fetch available actions")}}async executePassthrough(t,n,r,i,s,o,a,l,c,u){try{const d={...this.generateHeaders(),"x-pica-connection-key":n,"x-pica-action-id":t,...l?{"Content-Type":"multipart/form-data"}:{},...c?{"Content-Type":"application/x-www-form-urlencoded"}:{},...a},h={url:`${this.baseUrl}/v1/passthrough${i.startsWith("/")?i:"/"+i}`,method:s,headers:d,params:o};if((s==null?void 0:s.toLowerCase())!=="get")if(l){const v=new X9.default;r&&typeof r=="object"&&!Array.isArray(r)&&Object.entries(r).forEach(([S,g])=>{typeof g=="object"?v.append(S,JSON.stringify(g)):v.append(S,g)}),h.data=v,Object.assign(h.headers,v.getHeaders())}else if(c){const v=new URLSearchParams;r&&typeof r=="object"&&!Array.isArray(r)&&Object.entries(r).forEach(([S,g])=>{typeof g=="object"?v.append(S,JSON.stringify(g)):v.append(S,String(g))}),h.data=v}else h.data=r;if(u)return h.headers["x-pica-secret"]="YOUR_PICA_SECRET_KEY_HERE",{executed:!1,requestConfig:h};const m=await(0,da.default)(h);return h.headers["x-pica-secret"]="****REDACTED****",{executed:!0,responseData:m.data,requestConfig:h}}catch(d){throw console.error("Error executing passthrough:",d),d}}getPromptToConnectPlatformTool(){return{promptToConnectPlatform:{description:"Prompt the user to connect to a platform that they do not currently have access to",parameters:le.z.object({platformName:le.z.string()}),execute:async({platformName:t})=>({response:t})}}}get intelligenceTool(){const t={getAvailableActions:this.oneTool.getAvailableActions,getActionKnowledge:this.oneTool.getActionKnowledge,execute:{description:"Return a request config to the Pica Passthrough API without executing the action. Show the user a typescript code block to make an HTTP request to the Pica Passthrough API using the request config.",parameters:le.z.object({platform:le.z.string(),action:le.z.object({_id:le.z.string(),path:le.z.string()}),method:le.z.string(),connectionKey:le.z.string(),data:le.z.any(),pathVariables:le.z.record(le.z.union([le.z.string(),le.z.number(),le.z.boolean()])).optional(),queryParams:le.z.record(le.z.any()).optional(),headers:le.z.record(le.z.any()).optional(),isFormData:le.z.boolean().optional(),isFormUrlEncoded:le.z.boolean().optional()}),execute:async n=>{var r;try{if(!this.connections.some(l=>l.key===n.connectionKey)&&this.useAuthkit)throw new Error(`Connection not found. Please add a ${n.platform} connection first.`);const i=n.action.path.match(/\{\{([^}]+)\}\}/g);let s=n.action.path;if(i){const l=i.map(d=>d.replace(/\{\{|\}\}/g,"")),c={...Array.isArray(n.data)?{}:n.data||{},...n.pathVariables||{}},u=l.filter(d=>!c[d]);if(u.length>0)throw new Error(`Missing required path variables: ${u.join(", ")}. Please provide values for these variables.`);Array.isArray(n.data)||l.forEach(d=>{n.data&&n.data[d]&&(!n.pathVariables||!n.pathVariables[d])&&(n.pathVariables||(n.pathVariables={}),n.pathVariables[d]=n.data[d],delete n.data[d])}),s=(0,sr.replacePathVariables)(n.action.path,n.pathVariables||{})}const o=(0,sr.normalizeActionId)(n.action._id),a=await this.executePassthrough(o,n.connectionKey,n.data,s,n.method,n.queryParams,n.headers,n.isFormData,n.isFormUrlEncoded,!0);return{success:!0,title:"Request config returned",message:"Request config returned without execution",raw:JSON.stringify(a.requestConfig)}}catch(i){return console.error("Error creating request config:",i),{success:!1,title:"Failed to create request config",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}}};return this.useAuthkit?{...t,...this.getPromptToConnectPlatformTool()}:t}get oneTool(){const t={getAvailableActions:{description:"Get available actions for a specific platform",parameters:le.z.object({platform:le.z.string()}),execute:async n=>{var r;try{const s=(await this.getAvailableActions(n.platform)).actions.map(o=>({_id:o._id,title:o.title,tags:o.tags}));return{success:!0,actions:s,platform:n.platform,content:`Found ${s.length} available actions for ${n.platform}`}}catch(i){return console.error("Error getting available actions:",i),{success:!1,title:"Failed to get available actions",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}},getActionKnowledge:{description:"Get full action details including knowledge documentation for a specific action",parameters:le.z.object({platform:le.z.string(),actionId:le.z.string()}),execute:async n=>{var r;try{const i=(0,sr.normalizeActionId)(n.actionId),s=await this.getSingleAction(i);return{success:!0,action:s,platform:n.platform,content:`Found knowledge for action: ${s.title}`}}catch(i){return console.error("Error getting action knowledge:",i),{success:!1,title:"Failed to get action knowledge",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}},execute:{description:"Execute a specific action using the passthrough API",parameters:le.z.object({platform:le.z.string(),action:le.z.object({_id:le.z.string(),path:le.z.string()}),method:le.z.string(),connectionKey:le.z.string(),data:le.z.any(),pathVariables:le.z.record(le.z.union([le.z.string(),le.z.number(),le.z.boolean()])).optional(),queryParams:le.z.record(le.z.any()).optional(),headers:le.z.record(le.z.any()).optional(),isFormData:le.z.boolean().optional(),isFormUrlEncoded:le.z.boolean().optional()}),execute:async n=>{var r;try{if(!this.connections.some(c=>c.key===n.connectionKey))throw new Error(`Connection not found. Please add a ${n.platform} connection first.`);const i=(0,sr.normalizeActionId)(n.action._id),s=await this.getSingleAction(i),o=n.action.path.match(/\{\{([^}]+)\}\}/g);let a=n.action.path;if(o){const c=o.map(p=>p.replace(/\{\{|\}\}/g,"")),u={...Array.isArray(n.data)?{}:n.data||{},...n.pathVariables||{}},d=c.filter(p=>!u[p]);if(d.length>0)throw new Error(`Missing required path variables: ${d.join(", ")}. Please provide values for these variables.`);Array.isArray(n.data)||c.forEach(p=>{n.data&&n.data[p]&&(!n.pathVariables||!n.pathVariables[p])&&(n.pathVariables||(n.pathVariables={}),n.pathVariables[p]=n.data[p],delete n.data[p])}),a=(0,sr.replacePathVariables)(n.action.path,n.pathVariables||{})}const l=await this.executePassthrough(i,n.connectionKey,n.data,a,n.method,n.queryParams,n.headers,n.isFormData,n.isFormUrlEncoded,!1);return{success:!0,data:l.executed?l.responseData:void 0,connectionKey:n.connectionKey,platform:n.platform,action:s.title,requestConfig:l.requestConfig,content:`Executed ${s.title} via ${n.platform}`}}catch(i){return console.error("Error executing action:",i),{success:!1,title:"Failed to execute action",message:i.message,raw:JSON.stringify(((r=i==null?void 0:i.response)===null||r===void 0?void 0:r.data)||i)}}}}};return this.useAuthkit?{...t,...this.getPromptToConnectPlatformTool()}:t}}df.Pica=i6;var dM={},fM={};Object.defineProperty(fM,"__esModule",{value:!0});(function(e){var t=Vt&&Vt.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=Vt&&Vt.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(fM,e)})(dM);(function(e){var t=Vt&&Vt.__createBinding||(Object.create?function(i,s,o,a){a===void 0&&(a=o);var l=Object.getOwnPropertyDescriptor(s,o);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(i,a,l)}:function(i,s,o,a){a===void 0&&(a=o),i[a]=s[o]}),n=Vt&&Vt.__exportStar||function(i,s){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&t(s,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.Pica=void 0;var r=df;Object.defineProperty(e,"Pica",{enumerable:!0,get:function(){return r.Pica}}),n(dM,e)})(FP);const ok=new FP.Pica("sk_test_1_aVBXoxCZ_hv6gH8KexaMSnCam9G7flgasBuV5uz5fq-BYbKdckRewVBI23366dZSblmGx8ek1UWMhs-mbaifK1LIqOECZ7iUq6vxkI9iYO0Guo70V2Cxag91JZAF54fRyJt-AeNIawTkY2OjuwEIbPQajheSBYcCqJruBzxxBkrOoxuZ8mjw4esT4BXgBYJiXUmhKezKS44R94ywKUV5xRkD74ViuNxRzGX8fulOeA",{connectors:["*"]});async function s6(e){const n=`${await ok.generateSystemPrompt()}

You are Murphy, an AI cooking assistant in Murphy's Kitchen. You help users with cooking questions, recipes, techniques, and culinary advice. Be friendly, knowledgeable, and encouraging. Keep responses concise but helpful. Focus on practical cooking advice and creative culinary solutions.`,{text:r}=await XU({model:rz("gpt-4o"),system:n,prompt:e,tools:{...ok.oneTool},maxSteps:10,maxTokens:500,temperature:.7});return r}const o6=async(e,t)=>{try{const n=e.map(s=>`${s.role}: ${s.content}`).join(`
`),r=n?`${n}
user: ${t}`:t;return await s6(r)}catch(n){throw console.error("Error with Pica GPT-4o integration:",n),new Error("Failed to send message using Pica GPT-4o")}};Hl.register();const a6={pasta:"Here's a simple pasta recipe: Boil water, add salt, cook pasta for 8-12 minutes, drain, and toss with your favorite sauce!",chicken:"For basic chicken: Season with salt and pepper, cook in a pan with oil over medium heat for 6-7 minutes per side until internal temp reaches 165F.",rice:"Perfect rice: 1 cup rice to 2 cups water. Bring to boil, reduce heat, cover and simmer for 18 minutes. Let stand 5 minutes before fluffing.",eggs:"Scrambled eggs: Whisk 2-3 eggs with a splash of milk, cook in butter over low heat, stirring constantly until creamy.",soup:"Basic vegetable soup: Saut onions, carrots, celery. Add broth, simmer 20 minutes. Season with salt, pepper, and herbs.",bread:"Simple bread: Mix flour, water, yeast, salt. Knead 10 minutes, rise 1 hour, shape, rise again, bake at 450F for 30 minutes.",salad:"Fresh salad: Mix your favorite greens, add vegetables, nuts, and dress with olive oil, vinegar, salt, and pepper.",steak:"Perfect steak: Let come to room temp, season with salt and pepper, sear in hot pan 3-4 minutes per side, rest 5 minutes."},ak=e=>{const t=e.toLowerCase();for(const[n,r]of Object.entries(a6))if(t.includes(n))return r;return t.includes("cook")||t.includes("recipe")||t.includes("how")?"I'd love to help with more detailed recipes! Due to LLM access limitations, I can only provide basic cooking tips. Try asking about pasta, chicken, rice, eggs, soup, bread, salad, or steak for some quick recipes!":t.includes("hello")||t.includes("hi")?"Hello! I'm Murphy, your kitchen assistant. I can help with basic recipes and cooking tips. What would you like to cook today?":"I'd love to give you a detailed response! Unfortunately, due to limited LLM access, I can only provide basic cooking guidance. Try asking about specific ingredients like pasta, chicken, rice, or eggs for quick recipes!"},lk=({isMinimized:e,onToggleMinimize:t})=>{const[n]=bt(dd),[,r]=bt($V),[i,s]=bt(DV),[o,a]=P.useState(""),l=P.useRef(null),c=P.useRef(null),u=()=>{var h;(h=l.current)==null||h.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{u()},[n]),P.useEffect(()=>{n.length===0&&!e&&r({role:"assistant",content:"Hello! I'm Murphy, your AI kitchen assistant. I can help with basic recipes and cooking tips. Due to limited LLM access, my responses are simplified, but I'd love to help you cook something delicious! What would you like to make today?"})},[e,n.length]);const d=async()=>{if(!o.trim()||i)return;const h=o.trim();a(""),r({role:"user",content:h}),s(!0);try{let m;try{m=await o6(n,h)}catch{console.log("LLM unavailable, using basic responses"),m=ak(h)}r({role:"assistant",content:m})}catch(m){console.error("Error sending message:",m),r({role:"assistant",content:ak(h)})}finally{s(!1)}},p=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),d())};return e?C.jsx("div",{className:"w-full h-full flex items-end justify-end p-4",children:C.jsx(an,{onClick:t,size:"icon",className:"size-12 sm:size-14 rounded-2xl shadow-lg hover:shadow-xl",children:C.jsx(ru,{className:"size-5 sm:size-6"})})}):C.jsxs("div",{className:"w-full h-full glass-effect rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[C.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-border/30 bg-primary/5",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-primary/20 rounded-xl",children:C.jsx(ru,{className:"size-4 sm:size-5 text-primary"})}),C.jsxs("div",{className:"min-w-0 flex-1",children:[C.jsx("h3",{className:"font-semibold text-base sm:text-lg truncate",children:"Chat with Murphy"}),C.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[C.jsx(aw,{className:"size-3 flex-shrink-0"}),C.jsx("span",{className:"truncate",children:"Basic mode - Limited LLM access"})]})]})]}),C.jsx(an,{onClick:t,size:"icon",variant:"ghost",className:"size-8 sm:size-10 rounded-xl hover:bg-destructive/10 hover:text-destructive flex-shrink-0",children:C.jsx(Fx,{className:"size-4"})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4",children:[n.length===0&&C.jsxs("div",{className:"text-center py-8 sm:py-12 space-y-4",children:[C.jsx("div",{className:"p-4 sm:p-6 bg-primary/10 rounded-2xl w-fit mx-auto",children:C.jsx(ru,{className:"size-8 sm:size-12 text-primary"})}),C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{className:"text-base sm:text-lg font-medium",children:"Start a conversation!"}),C.jsx("p",{className:"text-sm text-muted-foreground",children:"Ask Murphy about recipes, techniques, or cooking tips."}),C.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl border border-yellow-200 dark:border-yellow-800",children:C.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-700 dark:text-yellow-300",children:[C.jsx(aw,{className:"size-3 flex-shrink-0"}),C.jsx("span",{children:"Note: Responses are basic due to limited LLM access"})]})})]})]}),n.map(h=>C.jsx("div",{className:ds("flex",h.role==="user"?"justify-end":"justify-start"),children:C.jsx("div",{className:ds("max-w-[85%] sm:max-w-[80%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 text-sm break-words shadow-sm",h.role==="user"?"bg-primary text-primary-foreground":"bg-secondary/80 text-secondary-foreground border border-border/30"),children:h.content})},h.id)),i&&C.jsx("div",{className:"flex justify-start",children:C.jsxs("div",{className:"bg-secondary/80 border border-border/30 rounded-2xl px-3 sm:px-4 py-2 sm:py-3 flex items-center gap-3",children:[C.jsx("l-quantum",{size:"16",speed:"1.75",color:"hsl(var(--primary))"}),C.jsx("span",{className:"text-sm text-muted-foreground",children:"Murphy is thinking..."})]})}),C.jsx("div",{ref:l})]}),C.jsxs("div",{className:"p-4 sm:p-6 border-t border-border/30 bg-secondary/20",children:[C.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[C.jsx(Bu,{ref:c,value:o,onChange:h=>a(h.target.value),onKeyPress:p,placeholder:"Ask Murphy about cooking...",className:"flex-1 bg-background/80 border-border/50 h-10 sm:h-12 text-sm",disabled:i}),C.jsx(an,{onClick:d,size:"icon",disabled:!o.trim()||i,className:"shrink-0 size-10 sm:size-12 rounded-xl",children:C.jsx(nN,{className:"size-3 sm:size-4"})})]}),C.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Try: pasta, chicken, rice, eggs, soup, bread, salad, or steak"})]})]})},l6=({onAudioData:e,onVolumeChange:t})=>{const n=rf({filter:"remote"}),r=_C(n[0]),i=P.useRef(null),s=P.useRef(null);return P.useEffect(()=>{if(!r.persistentTrack)return;i.current=new AudioContext,s.current=i.current.createAnalyser();const o=new MediaStream([r.persistentTrack]);i.current.createMediaStreamSource(o).connect(s.current),s.current.fftSize=256;const l=s.current.frequencyBinCount,c=new Uint8Array(l),u=new Float32Array(l),d=()=>{if(!s.current)return;s.current.getByteFrequencyData(c),s.current.getFloatFrequencyData(u);let p=0;for(let m=0;m<c.length;m++)p+=c[m]*c[m];const h=Math.sqrt(p/c.length)/255;e==null||e(u),t==null||t(h),requestAnimationFrame(d)};return d(),()=>{var p;(p=i.current)==null||p.close()}},[r.persistentTrack,e,t]),null},c6=()=>{const[e,t]=P.useState(0),[n,r]=P.useState(!1),i=P.useCallback(o=>{t(o),r(o>.01)},[]),s=P.useCallback(o=>{},[]);return C.jsxs(C.Fragment,{children:[C.jsx(l6,{onVolumeChange:i,onAudioData:s}),C.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[C.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((o,a)=>C.jsx("div",{className:`w-1 bg-primary transition-all duration-150 ${e*5>a?"h-6":"h-2"}`},a))}),n&&C.jsx("div",{className:"text-xs bg-primary/20 px-2 py-1 rounded",children:"AI Speaking"})]})]})};Hl.register();const u6=()=>{const[e,t]=bt(bE),[,n]=bt(Ud),[r]=bt(LV),[i]=bt(jV),s=Pt(Ql),o=yr(),a=tc(),l=SC(a),c=_C(a),u=!l.isOff,d=!c.isOff,p=rf({filter:"remote"}),[h,m]=P.useState(!1),[v,S]=P.useState(!1),[g,b]=P.useState(!1);P.useEffect(()=>{p.length&&!h&&(m(!0),setTimeout(()=>o==null?void 0:o.setLocalAudio(!0),4e3))},[p,h]),P.useEffect(()=>{e!=null&&e.conversation_url&&(o==null||o.join({url:e.conversation_url,startVideoOff:!1,startAudioOff:!0}).then(()=>{o==null||o.setLocalVideo(!0),o==null||o.setLocalAudio(!1)}))},[e==null?void 0:e.conversation_url]);const _=P.useCallback(()=>{o==null||o.setLocalVideo(!u)},[o,u]),x=P.useCallback(()=>{o==null||o.setLocalAudio(!d)},[o,d]),k=P.useCallback(()=>{b(!g)},[g]),T=P.useCallback(()=>{o==null||o.leave(),o==null||o.destroy(),e!=null&&e.conversation_id&&s&&pN(s,e.conversation_id),t(null),Math.abs(r)>i?n({currentScreen:"finalScreen"}):n({currentScreen:"finalScreen"})},[o,s]),A=()=>{S(!v)};return C.jsxs("div",{className:"flex flex-col lg:flex-row w-full h-full items-center justify-center gap-4 lg:gap-6 p-4",children:[C.jsx("div",{className:"w-full lg:flex-1 h-[50vh] sm:h-[60vh] lg:h-[600px]",children:C.jsx(Gd,{children:C.jsxs("div",{className:"absolute inset-0 size-full",children:[(p==null?void 0:p.length)>0?C.jsxs(C.Fragment,{children:[C.jsx(xS,{id:p[0],className:"size-full",tileClassName:"!object-cover"}),C.jsx(c6,{})]}):C.jsx("div",{className:"flex h-full items-center justify-center",children:C.jsx("l-quantum",{size:"45",speed:"1.75",color:"white"})}),a&&C.jsx(xS,{id:a,tileClassName:"!object-cover",className:ds("absolute bottom-16 sm:bottom-20 lg:bottom-20 left-2 sm:left-4 aspect-video h-20 w-16 sm:h-32 sm:w-20 lg:h-40 lg:w-24 overflow-hidden rounded-lg border-2 border-primary")}),C.jsx("div",{className:"absolute top-4 right-4 lg:hidden",children:C.jsx(an,{onClick:k,size:"icon",variant:"secondary",className:"bg-card/80 border border-border hover:bg-card",children:g?C.jsx(Fx,{className:"size-5"}):C.jsx(ru,{className:"size-5"})})}),C.jsxs("div",{className:"absolute bottom-4 sm:bottom-6 lg:bottom-8 left-1/2 z-10 flex -translate-x-1/2 justify-center gap-2 sm:gap-4",children:[C.jsx(an,{size:"icon",variant:"secondary",onClick:x,className:"bg-card/80 border border-border hover:bg-card w-10 h-10 sm:w-12 sm:h-12",children:d?C.jsx(XR,{className:"size-4 sm:size-5"}):C.jsx(QR,{className:"size-4 sm:size-5"})}),C.jsx(an,{size:"icon",variant:"secondary",onClick:_,className:"bg-card/80 border border-border hover:bg-card w-10 h-10 sm:w-12 sm:h-12",children:u?C.jsx(oN,{className:"size-4 sm:size-5"}):C.jsx(sN,{className:"size-4 sm:size-5"})}),C.jsx(an,{size:"icon",variant:"destructive",onClick:T,className:"bg-destructive/80 hover:bg-destructive w-10 h-10 sm:w-12 sm:h-12",children:C.jsx(tN,{className:"size-4 sm:size-5 rotate-[135deg]"})})]}),C.jsx(gC,{})]})})}),C.jsx("div",{className:"hidden lg:block w-96 h-[600px]",children:C.jsx(lk,{isMinimized:v,onToggleMinimize:A})}),g&&C.jsx("div",{className:"lg:hidden fixed inset-4 top-20 z-50 bg-background/95 backdrop-blur-sm rounded-2xl border border-border/50 shadow-2xl",children:C.jsx(lk,{isMinimized:!1,onToggleMinimize:k})})]})},d6=()=>{const[,e]=bt(Ud),t=()=>{e({currentScreen:"intro"})};return C.jsx(Gd,{children:C.jsx(Qv,{children:C.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 py-12",children:[C.jsx("h1",{className:"text-3xl font-bold text-white mb-4 text-center",children:"Thank you for your conversation!"}),C.jsx(an,{onClick:t,className:"relative z-20 flex items-center justify-center gap-2 rounded-3xl border border-[rgba(255,255,255,0.3)] px-8 py-3 text-base text-white transition-all duration-200 hover:text-primary disabled:opacity-50",style:{height:"48px",transition:"all 0.2s ease-in-out",backgroundColor:"rgba(0,0,0,0.3)"},onMouseEnter:n=>{n.currentTarget.style.boxShadow="0 0 15px rgba(34, 197, 254, 0.5)"},onMouseLeave:n=>{n.currentTarget.style.boxShadow="none"},children:"Return to Main Screen"})]})})})};function f6(){const[{currentScreen:e}]=bt(Ud),[t]=bt(io),[n]=bt(Uh);if(P.useEffect(()=>{document.documentElement.classList.toggle("dark",n==="dark")},[n]),!t.isAuthenticated)return C.jsx(cN,{});const r=()=>{switch(e){case"outage":return C.jsx(F2,{});case"outOfMinutes":return C.jsx(V2,{});case"intro":return C.jsx(kS,{});case"conversation":return C.jsx(u6,{});case"finalScreen":return C.jsx(d6,{});default:return C.jsx(kS,{})}};return C.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/3 via-background to-accent/3",children:[C.jsx(aN,{}),C.jsx("main",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-140px)] sm:min-h-[calc(100vh-160px)] gap-4 sm:gap-6 p-3 sm:p-6",children:r()}),C.jsx(lN,{})]})}Jp.createRoot(document.getElementById("root")).render(C.jsx(xe.StrictMode,{children:C.jsx(PV,{children:C.jsx(f6,{})})}));
